var jR=Object.defineProperty;var AR=(e,t,n)=>t in e?jR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ev=(e,t,n)=>AR(e,typeof t!="symbol"?t+"":t,n);function PR(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var mp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var JE={exports:{}},Gg={},eD={exports:{}},hn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tm=Symbol.for("react.element"),TR=Symbol.for("react.portal"),ER=Symbol.for("react.fragment"),DR=Symbol.for("react.strict_mode"),MR=Symbol.for("react.profiler"),OR=Symbol.for("react.provider"),IR=Symbol.for("react.context"),_R=Symbol.for("react.forward_ref"),LR=Symbol.for("react.suspense"),$R=Symbol.for("react.memo"),FR=Symbol.for("react.lazy"),WN=Symbol.iterator;function RR(e){return e===null||typeof e!="object"?null:(e=WN&&e[WN]||e["@@iterator"],typeof e=="function"?e:null)}var tD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nD=Object.assign,rD={};function Xu(e,t,n){this.props=e,this.context=t,this.refs=rD,this.updater=n||tD}Xu.prototype.isReactComponent={};Xu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function iD(){}iD.prototype=Xu.prototype;function Aw(e,t,n){this.props=e,this.context=t,this.refs=rD,this.updater=n||tD}var Pw=Aw.prototype=new iD;Pw.constructor=Aw;nD(Pw,Xu.prototype);Pw.isPureReactComponent=!0;var HN=Array.isArray,aD=Object.prototype.hasOwnProperty,Tw={current:null},sD={key:!0,ref:!0,__self:!0,__source:!0};function oD(e,t,n){var r,i={},a=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)aD.call(t,r)&&!sD.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:tm,type:e,key:a,ref:s,props:i,_owner:Tw.current}}function BR(e,t){return{$$typeof:tm,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ew(e){return typeof e=="object"&&e!==null&&e.$$typeof===tm}function zR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var qN=/\/+/g;function Dv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?zR(""+e.key):t.toString(36)}function Uh(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case tm:case TR:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Dv(s,0):r,HN(i)?(n="",e!=null&&(n=e.replace(qN,"$&/")+"/"),Uh(i,t,n,"",function(c){return c})):i!=null&&(Ew(i)&&(i=BR(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(qN,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",HN(e))for(var o=0;o<e.length;o++){a=e[o];var l=r+Dv(a,o);s+=Uh(a,t,n,l,i)}else if(l=RR(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=r+Dv(a,o++),s+=Uh(a,t,n,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Jm(e,t,n){if(e==null)return e;var r=[],i=0;return Uh(e,r,"","",function(a){return t.call(n,a,i++)}),r}function UR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Vi={current:null},Vh={transition:null},VR={ReactCurrentDispatcher:Vi,ReactCurrentBatchConfig:Vh,ReactCurrentOwner:Tw};function lD(){throw Error("act(...) is not supported in production builds of React.")}hn.Children={map:Jm,forEach:function(e,t,n){Jm(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Jm(e,function(){t++}),t},toArray:function(e){return Jm(e,function(t){return t})||[]},only:function(e){if(!Ew(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};hn.Component=Xu;hn.Fragment=ER;hn.Profiler=MR;hn.PureComponent=Aw;hn.StrictMode=DR;hn.Suspense=LR;hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VR;hn.act=lD;hn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=nD({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=Tw.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)aD.call(t,l)&&!sD.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:tm,type:e.type,key:i,ref:a,props:r,_owner:s}};hn.createContext=function(e){return e={$$typeof:IR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:OR,_context:e},e.Consumer=e};hn.createElement=oD;hn.createFactory=function(e){var t=oD.bind(null,e);return t.type=e,t};hn.createRef=function(){return{current:null}};hn.forwardRef=function(e){return{$$typeof:_R,render:e}};hn.isValidElement=Ew;hn.lazy=function(e){return{$$typeof:FR,_payload:{_status:-1,_result:e},_init:UR}};hn.memo=function(e,t){return{$$typeof:$R,type:e,compare:t===void 0?null:t}};hn.startTransition=function(e){var t=Vh.transition;Vh.transition={};try{e()}finally{Vh.transition=t}};hn.unstable_act=lD;hn.useCallback=function(e,t){return Vi.current.useCallback(e,t)};hn.useContext=function(e){return Vi.current.useContext(e)};hn.useDebugValue=function(){};hn.useDeferredValue=function(e){return Vi.current.useDeferredValue(e)};hn.useEffect=function(e,t){return Vi.current.useEffect(e,t)};hn.useId=function(){return Vi.current.useId()};hn.useImperativeHandle=function(e,t,n){return Vi.current.useImperativeHandle(e,t,n)};hn.useInsertionEffect=function(e,t){return Vi.current.useInsertionEffect(e,t)};hn.useLayoutEffect=function(e,t){return Vi.current.useLayoutEffect(e,t)};hn.useMemo=function(e,t){return Vi.current.useMemo(e,t)};hn.useReducer=function(e,t,n){return Vi.current.useReducer(e,t,n)};hn.useRef=function(e){return Vi.current.useRef(e)};hn.useState=function(e){return Vi.current.useState(e)};hn.useSyncExternalStore=function(e,t,n){return Vi.current.useSyncExternalStore(e,t,n)};hn.useTransition=function(){return Vi.current.useTransition()};hn.version="18.3.1";eD.exports=hn;var x=eD.exports;const Yg=bs(x),WR=PR({__proto__:null,default:Yg},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HR=x,qR=Symbol.for("react.element"),KR=Symbol.for("react.fragment"),GR=Object.prototype.hasOwnProperty,YR=HR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,XR={key:!0,ref:!0,__self:!0,__source:!0};function cD(e,t,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)GR.call(t,r)&&!XR.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:qR,type:e,key:a,ref:s,props:i,_owner:YR.current}}Gg.Fragment=KR;Gg.jsx=cD;Gg.jsxs=cD;JE.exports=Gg;var u=JE.exports,oy={},uD={exports:{}},Aa={},dD={exports:{}},fD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(G,L){var P=G.length;G.push(L);e:for(;0<P;){var j=P-1>>>1,U=G[j];if(0<i(U,L))G[j]=L,G[P]=U,P=j;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var L=G[0],P=G.pop();if(P!==L){G[0]=P;e:for(var j=0,U=G.length,k=U>>>1;j<k;){var _=2*(j+1)-1,ae=G[_],ee=_+1,V=G[ee];if(0>i(ae,P))ee<U&&0>i(V,ae)?(G[j]=V,G[ee]=P,j=ee):(G[j]=ae,G[_]=P,j=_);else if(ee<U&&0>i(V,P))G[j]=V,G[ee]=P,j=ee;else break e}}return L}function i(G,L){var P=G.sortIndex-L.sortIndex;return P!==0?P:G.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],d=1,f=null,h=3,m=!1,p=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(G){for(var L=n(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=G)r(c),L.sortIndex=L.expirationTime,t(l,L);else break;L=n(c)}}function S(G){if(g=!1,w(G),!p)if(n(l)!==null)p=!0,ce(C);else{var L=n(c);L!==null&&K(S,L.startTime-G)}}function C(G,L){p=!1,g&&(g=!1,v(E),E=-1),m=!0;var P=h;try{for(w(L),f=n(l);f!==null&&(!(f.expirationTime>L)||G&&!M());){var j=f.callback;if(typeof j=="function"){f.callback=null,h=f.priorityLevel;var U=j(f.expirationTime<=L);L=e.unstable_now(),typeof U=="function"?f.callback=U:f===n(l)&&r(l),w(L)}else r(l);f=n(l)}if(f!==null)var k=!0;else{var _=n(c);_!==null&&K(S,_.startTime-L),k=!1}return k}finally{f=null,h=P,m=!1}}var N=!1,A=null,E=-1,$=5,T=-1;function M(){return!(e.unstable_now()-T<$)}function O(){if(A!==null){var G=e.unstable_now();T=G;var L=!0;try{L=A(!0,G)}finally{L?Y():(N=!1,A=null)}}else N=!1}var Y;if(typeof b=="function")Y=function(){b(O)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,re=Q.port2;Q.port1.onmessage=O,Y=function(){re.postMessage(null)}}else Y=function(){y(O,0)};function ce(G){A=G,N||(N=!0,Y())}function K(G,L){E=y(function(){G(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,ce(C))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(G){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var P=h;h=L;try{return G()}finally{h=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,L){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var P=h;h=G;try{return L()}finally{h=P}},e.unstable_scheduleCallback=function(G,L,P){var j=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?j+P:j):P=j,G){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=P+U,G={id:d++,callback:L,priorityLevel:G,startTime:P,expirationTime:U,sortIndex:-1},P>j?(G.sortIndex=P,t(c,G),n(l)===null&&G===n(c)&&(g?(v(E),E=-1):g=!0,K(S,P-j))):(G.sortIndex=U,t(l,G),p||m||(p=!0,ce(C))),G},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(G){var L=h;return function(){var P=h;h=L;try{return G.apply(this,arguments)}finally{h=P}}}})(fD);dD.exports=fD;var QR=dD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZR=x,Na=QR;function Ge(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mD=new Set,uf={};function Nc(e,t){Tu(e,t),Tu(e+"Capture",t)}function Tu(e,t){for(uf[e]=t,e=0;e<t.length;e++)mD.add(t[e])}var co=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ly=Object.prototype.hasOwnProperty,JR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,KN={},GN={};function eB(e){return ly.call(GN,e)?!0:ly.call(KN,e)?!1:JR.test(e)?GN[e]=!0:(KN[e]=!0,!1)}function tB(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function nB(e,t,n,r){if(t===null||typeof t>"u"||tB(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Wi(e,t,n,r,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var gi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){gi[e]=new Wi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];gi[t]=new Wi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){gi[e]=new Wi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){gi[e]=new Wi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){gi[e]=new Wi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){gi[e]=new Wi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){gi[e]=new Wi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){gi[e]=new Wi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){gi[e]=new Wi(e,5,!1,e.toLowerCase(),null,!1,!1)});var Dw=/[\-:]([a-z])/g;function Mw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Dw,Mw);gi[t]=new Wi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Dw,Mw);gi[t]=new Wi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Dw,Mw);gi[t]=new Wi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){gi[e]=new Wi(e,1,!1,e.toLowerCase(),null,!1,!1)});gi.xlinkHref=new Wi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){gi[e]=new Wi(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ow(e,t,n,r){var i=gi.hasOwnProperty(t)?gi[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(nB(t,n,i,r)&&(n=null),r||i===null?eB(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var wo=ZR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,eh=Symbol.for("react.element"),tu=Symbol.for("react.portal"),nu=Symbol.for("react.fragment"),Iw=Symbol.for("react.strict_mode"),cy=Symbol.for("react.profiler"),hD=Symbol.for("react.provider"),pD=Symbol.for("react.context"),_w=Symbol.for("react.forward_ref"),uy=Symbol.for("react.suspense"),dy=Symbol.for("react.suspense_list"),Lw=Symbol.for("react.memo"),Ro=Symbol.for("react.lazy"),gD=Symbol.for("react.offscreen"),YN=Symbol.iterator;function gd(e){return e===null||typeof e!="object"?null:(e=YN&&e[YN]||e["@@iterator"],typeof e=="function"?e:null)}var yr=Object.assign,Mv;function $d(e){if(Mv===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Mv=t&&t[1]||""}return`
`+Mv+e}var Ov=!1;function Iv(e,t){if(!e||Ov)return"";Ov=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{Ov=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$d(e):""}function rB(e){switch(e.tag){case 5:return $d(e.type);case 16:return $d("Lazy");case 13:return $d("Suspense");case 19:return $d("SuspenseList");case 0:case 2:case 15:return e=Iv(e.type,!1),e;case 11:return e=Iv(e.type.render,!1),e;case 1:return e=Iv(e.type,!0),e;default:return""}}function fy(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nu:return"Fragment";case tu:return"Portal";case cy:return"Profiler";case Iw:return"StrictMode";case uy:return"Suspense";case dy:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pD:return(e.displayName||"Context")+".Consumer";case hD:return(e._context.displayName||"Context")+".Provider";case _w:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Lw:return t=e.displayName||null,t!==null?t:fy(e.type)||"Memo";case Ro:t=e._payload,e=e._init;try{return fy(e(t))}catch{}}return null}function iB(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fy(t);case 8:return t===Iw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ll(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vD(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function aB(e){var t=vD(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function th(e){e._valueTracker||(e._valueTracker=aB(e))}function xD(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=vD(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function hp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function my(e,t){var n=t.checked;return yr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function XN(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ll(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function yD(e,t){t=t.checked,t!=null&&Ow(e,"checked",t,!1)}function hy(e,t){yD(e,t);var n=ll(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?py(e,t.type,n):t.hasOwnProperty("defaultValue")&&py(e,t.type,ll(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function QN(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function py(e,t,n){(t!=="number"||hp(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Fd=Array.isArray;function yu(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ll(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function gy(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ge(91));return yr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ZN(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ge(92));if(Fd(n)){if(1<n.length)throw Error(Ge(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ll(n)}}function bD(e,t){var n=ll(t.value),r=ll(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function JN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function wD(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vy(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?wD(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var nh,kD=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(nh=nh||document.createElement("div"),nh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=nh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function df(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Hd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sB=["Webkit","ms","Moz","O"];Object.keys(Hd).forEach(function(e){sB.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hd[t]=Hd[e]})});function SD(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Hd.hasOwnProperty(e)&&Hd[e]?(""+t).trim():t+"px"}function ND(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=SD(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var oB=yr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xy(e,t){if(t){if(oB[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ge(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ge(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ge(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ge(62))}}function yy(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var by=null;function $w(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wy=null,bu=null,wu=null;function e2(e){if(e=im(e)){if(typeof wy!="function")throw Error(Ge(280));var t=e.stateNode;t&&(t=e0(t),wy(e.stateNode,e.type,t))}}function CD(e){bu?wu?wu.push(e):wu=[e]:bu=e}function jD(){if(bu){var e=bu,t=wu;if(wu=bu=null,e2(e),t)for(e=0;e<t.length;e++)e2(t[e])}}function AD(e,t){return e(t)}function PD(){}var _v=!1;function TD(e,t,n){if(_v)return e(t,n);_v=!0;try{return AD(e,t,n)}finally{_v=!1,(bu!==null||wu!==null)&&(PD(),jD())}}function ff(e,t){var n=e.stateNode;if(n===null)return null;var r=e0(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ge(231,t,typeof n));return n}var ky=!1;if(co)try{var vd={};Object.defineProperty(vd,"passive",{get:function(){ky=!0}}),window.addEventListener("test",vd,vd),window.removeEventListener("test",vd,vd)}catch{ky=!1}function lB(e,t,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var qd=!1,pp=null,gp=!1,Sy=null,cB={onError:function(e){qd=!0,pp=e}};function uB(e,t,n,r,i,a,s,o,l){qd=!1,pp=null,lB.apply(cB,arguments)}function dB(e,t,n,r,i,a,s,o,l){if(uB.apply(this,arguments),qd){if(qd){var c=pp;qd=!1,pp=null}else throw Error(Ge(198));gp||(gp=!0,Sy=c)}}function Cc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ED(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function t2(e){if(Cc(e)!==e)throw Error(Ge(188))}function fB(e){var t=e.alternate;if(!t){if(t=Cc(e),t===null)throw Error(Ge(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return t2(i),e;if(a===r)return t2(i),t;a=a.sibling}throw Error(Ge(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(Ge(189))}}if(n.alternate!==r)throw Error(Ge(190))}if(n.tag!==3)throw Error(Ge(188));return n.stateNode.current===n?e:t}function DD(e){return e=fB(e),e!==null?MD(e):null}function MD(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=MD(e);if(t!==null)return t;e=e.sibling}return null}var OD=Na.unstable_scheduleCallback,n2=Na.unstable_cancelCallback,mB=Na.unstable_shouldYield,hB=Na.unstable_requestPaint,Er=Na.unstable_now,pB=Na.unstable_getCurrentPriorityLevel,Fw=Na.unstable_ImmediatePriority,ID=Na.unstable_UserBlockingPriority,vp=Na.unstable_NormalPriority,gB=Na.unstable_LowPriority,_D=Na.unstable_IdlePriority,Xg=null,Is=null;function vB(e){if(Is&&typeof Is.onCommitFiberRoot=="function")try{Is.onCommitFiberRoot(Xg,e,void 0,(e.current.flags&128)===128)}catch{}}var us=Math.clz32?Math.clz32:bB,xB=Math.log,yB=Math.LN2;function bB(e){return e>>>=0,e===0?32:31-(xB(e)/yB|0)|0}var rh=64,ih=4194304;function Rd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xp(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=Rd(o):(a&=s,a!==0&&(r=Rd(a)))}else s=n&~i,s!==0?r=Rd(s):a!==0&&(r=Rd(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-us(t),i=1<<n,r|=e[n],t&=~i;return r}function wB(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kB(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-us(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=wB(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function Ny(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function LD(){var e=rh;return rh<<=1,!(rh&4194240)&&(rh=64),e}function Lv(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function nm(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-us(t),e[t]=n}function SB(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-us(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function Rw(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-us(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ln=0;function $D(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var FD,Bw,RD,BD,zD,Cy=!1,ah=[],Qo=null,Zo=null,Jo=null,mf=new Map,hf=new Map,Wo=[],NB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function r2(e,t){switch(e){case"focusin":case"focusout":Qo=null;break;case"dragenter":case"dragleave":Zo=null;break;case"mouseover":case"mouseout":Jo=null;break;case"pointerover":case"pointerout":mf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hf.delete(t.pointerId)}}function xd(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=im(t),t!==null&&Bw(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function CB(e,t,n,r,i){switch(t){case"focusin":return Qo=xd(Qo,e,t,n,r,i),!0;case"dragenter":return Zo=xd(Zo,e,t,n,r,i),!0;case"mouseover":return Jo=xd(Jo,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return mf.set(a,xd(mf.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,hf.set(a,xd(hf.get(a)||null,e,t,n,r,i)),!0}return!1}function UD(e){var t=Hl(e.target);if(t!==null){var n=Cc(t);if(n!==null){if(t=n.tag,t===13){if(t=ED(n),t!==null){e.blockedOn=t,zD(e.priority,function(){RD(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=jy(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);by=r,n.target.dispatchEvent(r),by=null}else return t=im(n),t!==null&&Bw(t),e.blockedOn=n,!1;t.shift()}return!0}function i2(e,t,n){Wh(e)&&n.delete(t)}function jB(){Cy=!1,Qo!==null&&Wh(Qo)&&(Qo=null),Zo!==null&&Wh(Zo)&&(Zo=null),Jo!==null&&Wh(Jo)&&(Jo=null),mf.forEach(i2),hf.forEach(i2)}function yd(e,t){e.blockedOn===t&&(e.blockedOn=null,Cy||(Cy=!0,Na.unstable_scheduleCallback(Na.unstable_NormalPriority,jB)))}function pf(e){function t(i){return yd(i,e)}if(0<ah.length){yd(ah[0],e);for(var n=1;n<ah.length;n++){var r=ah[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Qo!==null&&yd(Qo,e),Zo!==null&&yd(Zo,e),Jo!==null&&yd(Jo,e),mf.forEach(t),hf.forEach(t),n=0;n<Wo.length;n++)r=Wo[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Wo.length&&(n=Wo[0],n.blockedOn===null);)UD(n),n.blockedOn===null&&Wo.shift()}var ku=wo.ReactCurrentBatchConfig,yp=!0;function AB(e,t,n,r){var i=Ln,a=ku.transition;ku.transition=null;try{Ln=1,zw(e,t,n,r)}finally{Ln=i,ku.transition=a}}function PB(e,t,n,r){var i=Ln,a=ku.transition;ku.transition=null;try{Ln=4,zw(e,t,n,r)}finally{Ln=i,ku.transition=a}}function zw(e,t,n,r){if(yp){var i=jy(e,t,n,r);if(i===null)qv(e,t,r,bp,n),r2(e,r);else if(CB(i,e,t,n,r))r.stopPropagation();else if(r2(e,r),t&4&&-1<NB.indexOf(e)){for(;i!==null;){var a=im(i);if(a!==null&&FD(a),a=jy(e,t,n,r),a===null&&qv(e,t,r,bp,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else qv(e,t,r,null,n)}}var bp=null;function jy(e,t,n,r){if(bp=null,e=$w(r),e=Hl(e),e!==null)if(t=Cc(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ED(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bp=e,null}function VD(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pB()){case Fw:return 1;case ID:return 4;case vp:case gB:return 16;case _D:return 536870912;default:return 16}default:return 16}}var Ko=null,Uw=null,Hh=null;function WD(){if(Hh)return Hh;var e,t=Uw,n=t.length,r,i="value"in Ko?Ko.value:Ko.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[a-r];r++);return Hh=i.slice(e,1<r?1-r:void 0)}function qh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function sh(){return!0}function a2(){return!1}function Pa(e){function t(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?sh:a2,this.isPropagationStopped=a2,this}return yr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sh)},persist:function(){},isPersistent:sh}),t}var Qu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vw=Pa(Qu),rm=yr({},Qu,{view:0,detail:0}),TB=Pa(rm),$v,Fv,bd,Qg=yr({},rm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ww,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bd&&(bd&&e.type==="mousemove"?($v=e.screenX-bd.screenX,Fv=e.screenY-bd.screenY):Fv=$v=0,bd=e),$v)},movementY:function(e){return"movementY"in e?e.movementY:Fv}}),s2=Pa(Qg),EB=yr({},Qg,{dataTransfer:0}),DB=Pa(EB),MB=yr({},rm,{relatedTarget:0}),Rv=Pa(MB),OB=yr({},Qu,{animationName:0,elapsedTime:0,pseudoElement:0}),IB=Pa(OB),_B=yr({},Qu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),LB=Pa(_B),$B=yr({},Qu,{data:0}),o2=Pa($B),FB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zB(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=BB[e])?!!t[e]:!1}function Ww(){return zB}var UB=yr({},rm,{key:function(e){if(e.key){var t=FB[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?RB[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ww,charCode:function(e){return e.type==="keypress"?qh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),VB=Pa(UB),WB=yr({},Qg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),l2=Pa(WB),HB=yr({},rm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ww}),qB=Pa(HB),KB=yr({},Qu,{propertyName:0,elapsedTime:0,pseudoElement:0}),GB=Pa(KB),YB=yr({},Qg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),XB=Pa(YB),QB=[9,13,27,32],Hw=co&&"CompositionEvent"in window,Kd=null;co&&"documentMode"in document&&(Kd=document.documentMode);var ZB=co&&"TextEvent"in window&&!Kd,HD=co&&(!Hw||Kd&&8<Kd&&11>=Kd),c2=" ",u2=!1;function qD(e,t){switch(e){case"keyup":return QB.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function KD(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ru=!1;function JB(e,t){switch(e){case"compositionend":return KD(t);case"keypress":return t.which!==32?null:(u2=!0,c2);case"textInput":return e=t.data,e===c2&&u2?null:e;default:return null}}function ez(e,t){if(ru)return e==="compositionend"||!Hw&&qD(e,t)?(e=WD(),Hh=Uw=Ko=null,ru=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return HD&&t.locale!=="ko"?null:t.data;default:return null}}var tz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function d2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!tz[e.type]:t==="textarea"}function GD(e,t,n,r){CD(r),t=wp(t,"onChange"),0<t.length&&(n=new Vw("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gd=null,gf=null;function nz(e){aM(e,0)}function Zg(e){var t=su(e);if(xD(t))return e}function rz(e,t){if(e==="change")return t}var YD=!1;if(co){var Bv;if(co){var zv="oninput"in document;if(!zv){var f2=document.createElement("div");f2.setAttribute("oninput","return;"),zv=typeof f2.oninput=="function"}Bv=zv}else Bv=!1;YD=Bv&&(!document.documentMode||9<document.documentMode)}function m2(){Gd&&(Gd.detachEvent("onpropertychange",XD),gf=Gd=null)}function XD(e){if(e.propertyName==="value"&&Zg(gf)){var t=[];GD(t,gf,e,$w(e)),TD(nz,t)}}function iz(e,t,n){e==="focusin"?(m2(),Gd=t,gf=n,Gd.attachEvent("onpropertychange",XD)):e==="focusout"&&m2()}function az(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zg(gf)}function sz(e,t){if(e==="click")return Zg(t)}function oz(e,t){if(e==="input"||e==="change")return Zg(t)}function lz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hs=typeof Object.is=="function"?Object.is:lz;function vf(e,t){if(hs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ly.call(t,i)||!hs(e[i],t[i]))return!1}return!0}function h2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function p2(e,t){var n=h2(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=h2(n)}}function QD(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?QD(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ZD(){for(var e=window,t=hp();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=hp(e.document)}return t}function qw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function cz(e){var t=ZD(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&QD(n.ownerDocument.documentElement,n)){if(r!==null&&qw(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=p2(n,a);var s=p2(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var uz=co&&"documentMode"in document&&11>=document.documentMode,iu=null,Ay=null,Yd=null,Py=!1;function g2(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Py||iu==null||iu!==hp(r)||(r=iu,"selectionStart"in r&&qw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yd&&vf(Yd,r)||(Yd=r,r=wp(Ay,"onSelect"),0<r.length&&(t=new Vw("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=iu)))}function oh(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var au={animationend:oh("Animation","AnimationEnd"),animationiteration:oh("Animation","AnimationIteration"),animationstart:oh("Animation","AnimationStart"),transitionend:oh("Transition","TransitionEnd")},Uv={},JD={};co&&(JD=document.createElement("div").style,"AnimationEvent"in window||(delete au.animationend.animation,delete au.animationiteration.animation,delete au.animationstart.animation),"TransitionEvent"in window||delete au.transitionend.transition);function Jg(e){if(Uv[e])return Uv[e];if(!au[e])return e;var t=au[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in JD)return Uv[e]=t[n];return e}var eM=Jg("animationend"),tM=Jg("animationiteration"),nM=Jg("animationstart"),rM=Jg("transitionend"),iM=new Map,v2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hl(e,t){iM.set(e,t),Nc(t,[e])}for(var Vv=0;Vv<v2.length;Vv++){var Wv=v2[Vv],dz=Wv.toLowerCase(),fz=Wv[0].toUpperCase()+Wv.slice(1);hl(dz,"on"+fz)}hl(eM,"onAnimationEnd");hl(tM,"onAnimationIteration");hl(nM,"onAnimationStart");hl("dblclick","onDoubleClick");hl("focusin","onFocus");hl("focusout","onBlur");hl(rM,"onTransitionEnd");Tu("onMouseEnter",["mouseout","mouseover"]);Tu("onMouseLeave",["mouseout","mouseover"]);Tu("onPointerEnter",["pointerout","pointerover"]);Tu("onPointerLeave",["pointerout","pointerover"]);Nc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Nc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Nc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Nc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Nc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Nc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mz=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bd));function x2(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,dB(r,t,void 0,e),e.currentTarget=null}function aM(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;x2(i,o,c),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;x2(i,o,c),a=l}}}if(gp)throw e=Sy,gp=!1,Sy=null,e}function nr(e,t){var n=t[Oy];n===void 0&&(n=t[Oy]=new Set);var r=e+"__bubble";n.has(r)||(sM(t,e,2,!1),n.add(r))}function Hv(e,t,n){var r=0;t&&(r|=4),sM(n,e,r,t)}var lh="_reactListening"+Math.random().toString(36).slice(2);function xf(e){if(!e[lh]){e[lh]=!0,mD.forEach(function(n){n!=="selectionchange"&&(mz.has(n)||Hv(n,!1,e),Hv(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[lh]||(t[lh]=!0,Hv("selectionchange",!1,t))}}function sM(e,t,n,r){switch(VD(t)){case 1:var i=AB;break;case 4:i=PB;break;default:i=zw}n=i.bind(null,t,n,e),i=void 0,!ky||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qv(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Hl(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}TD(function(){var c=a,d=$w(n),f=[];e:{var h=iM.get(e);if(h!==void 0){var m=Vw,p=e;switch(e){case"keypress":if(qh(n)===0)break e;case"keydown":case"keyup":m=VB;break;case"focusin":p="focus",m=Rv;break;case"focusout":p="blur",m=Rv;break;case"beforeblur":case"afterblur":m=Rv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=s2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=DB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=qB;break;case eM:case tM:case nM:m=IB;break;case rM:m=GB;break;case"scroll":m=TB;break;case"wheel":m=XB;break;case"copy":case"cut":case"paste":m=LB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=l2}var g=(t&4)!==0,y=!g&&e==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var b=c,w;b!==null;){w=b;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,v!==null&&(S=ff(b,v),S!=null&&g.push(yf(b,S,w)))),y)break;b=b.return}0<g.length&&(h=new m(h,p,null,n,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==by&&(p=n.relatedTarget||n.fromElement)&&(Hl(p)||p[uo]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=n.relatedTarget||n.toElement,m=c,p=p?Hl(p):null,p!==null&&(y=Cc(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=c),m!==p)){if(g=s2,S="onMouseLeave",v="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=l2,S="onPointerLeave",v="onPointerEnter",b="pointer"),y=m==null?h:su(m),w=p==null?h:su(p),h=new g(S,b+"leave",m,n,d),h.target=y,h.relatedTarget=w,S=null,Hl(d)===c&&(g=new g(v,b+"enter",p,n,d),g.target=w,g.relatedTarget=y,S=g),y=S,m&&p)t:{for(g=m,v=p,b=0,w=g;w;w=Hc(w))b++;for(w=0,S=v;S;S=Hc(S))w++;for(;0<b-w;)g=Hc(g),b--;for(;0<w-b;)v=Hc(v),w--;for(;b--;){if(g===v||v!==null&&g===v.alternate)break t;g=Hc(g),v=Hc(v)}g=null}else g=null;m!==null&&y2(f,h,m,g,!1),p!==null&&y!==null&&y2(f,y,p,g,!0)}}e:{if(h=c?su(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var C=rz;else if(d2(h))if(YD)C=oz;else{C=az;var N=iz}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=sz);if(C&&(C=C(e,c))){GD(f,C,n,d);break e}N&&N(e,h,c),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&py(h,"number",h.value)}switch(N=c?su(c):window,e){case"focusin":(d2(N)||N.contentEditable==="true")&&(iu=N,Ay=c,Yd=null);break;case"focusout":Yd=Ay=iu=null;break;case"mousedown":Py=!0;break;case"contextmenu":case"mouseup":case"dragend":Py=!1,g2(f,n,d);break;case"selectionchange":if(uz)break;case"keydown":case"keyup":g2(f,n,d)}var A;if(Hw)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ru?qD(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(HD&&n.locale!=="ko"&&(ru||E!=="onCompositionStart"?E==="onCompositionEnd"&&ru&&(A=WD()):(Ko=d,Uw="value"in Ko?Ko.value:Ko.textContent,ru=!0)),N=wp(c,E),0<N.length&&(E=new o2(E,e,null,n,d),f.push({event:E,listeners:N}),A?E.data=A:(A=KD(n),A!==null&&(E.data=A)))),(A=ZB?JB(e,n):ez(e,n))&&(c=wp(c,"onBeforeInput"),0<c.length&&(d=new o2("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=A))}aM(f,t)})}function yf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function wp(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=ff(e,n),a!=null&&r.unshift(yf(e,a,i)),a=ff(e,t),a!=null&&r.push(yf(e,a,i))),e=e.return}return r}function Hc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function y2(e,t,n,r,i){for(var a=t._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=ff(n,a),l!=null&&s.unshift(yf(n,l,o))):i||(l=ff(n,a),l!=null&&s.push(yf(n,l,o)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var hz=/\r\n?/g,pz=/\u0000|\uFFFD/g;function b2(e){return(typeof e=="string"?e:""+e).replace(hz,`
`).replace(pz,"")}function ch(e,t,n){if(t=b2(t),b2(e)!==t&&n)throw Error(Ge(425))}function kp(){}var Ty=null,Ey=null;function Dy(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var My=typeof setTimeout=="function"?setTimeout:void 0,gz=typeof clearTimeout=="function"?clearTimeout:void 0,w2=typeof Promise=="function"?Promise:void 0,vz=typeof queueMicrotask=="function"?queueMicrotask:typeof w2<"u"?function(e){return w2.resolve(null).then(e).catch(xz)}:My;function xz(e){setTimeout(function(){throw e})}function Kv(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),pf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);pf(t)}function el(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function k2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Zu=Math.random().toString(36).slice(2),Ms="__reactFiber$"+Zu,bf="__reactProps$"+Zu,uo="__reactContainer$"+Zu,Oy="__reactEvents$"+Zu,yz="__reactListeners$"+Zu,bz="__reactHandles$"+Zu;function Hl(e){var t=e[Ms];if(t)return t;for(var n=e.parentNode;n;){if(t=n[uo]||n[Ms]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=k2(e);e!==null;){if(n=e[Ms])return n;e=k2(e)}return t}e=n,n=e.parentNode}return null}function im(e){return e=e[Ms]||e[uo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function su(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ge(33))}function e0(e){return e[bf]||null}var Iy=[],ou=-1;function pl(e){return{current:e}}function ir(e){0>ou||(e.current=Iy[ou],Iy[ou]=null,ou--)}function Yn(e,t){ou++,Iy[ou]=e.current,e.current=t}var cl={},Ei=pl(cl),Ji=pl(!1),lc=cl;function Eu(e,t){var n=e.type.contextTypes;if(!n)return cl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ea(e){return e=e.childContextTypes,e!=null}function Sp(){ir(Ji),ir(Ei)}function S2(e,t,n){if(Ei.current!==cl)throw Error(Ge(168));Yn(Ei,t),Yn(Ji,n)}function oM(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Ge(108,iB(e)||"Unknown",i));return yr({},n,r)}function Np(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cl,lc=Ei.current,Yn(Ei,e),Yn(Ji,Ji.current),!0}function N2(e,t,n){var r=e.stateNode;if(!r)throw Error(Ge(169));n?(e=oM(e,t,lc),r.__reactInternalMemoizedMergedChildContext=e,ir(Ji),ir(Ei),Yn(Ei,e)):ir(Ji),Yn(Ji,n)}var Gs=null,t0=!1,Gv=!1;function lM(e){Gs===null?Gs=[e]:Gs.push(e)}function wz(e){t0=!0,lM(e)}function gl(){if(!Gv&&Gs!==null){Gv=!0;var e=0,t=Ln;try{var n=Gs;for(Ln=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Gs=null,t0=!1}catch(i){throw Gs!==null&&(Gs=Gs.slice(e+1)),OD(Fw,gl),i}finally{Ln=t,Gv=!1}}return null}var lu=[],cu=0,Cp=null,jp=0,Ra=[],Ba=0,cc=null,Js=1,eo="";function $l(e,t){lu[cu++]=jp,lu[cu++]=Cp,Cp=e,jp=t}function cM(e,t,n){Ra[Ba++]=Js,Ra[Ba++]=eo,Ra[Ba++]=cc,cc=e;var r=Js;e=eo;var i=32-us(r)-1;r&=~(1<<i),n+=1;var a=32-us(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Js=1<<32-us(t)+i|n<<i|r,eo=a+e}else Js=1<<a|n<<i|r,eo=e}function Kw(e){e.return!==null&&($l(e,1),cM(e,1,0))}function Gw(e){for(;e===Cp;)Cp=lu[--cu],lu[cu]=null,jp=lu[--cu],lu[cu]=null;for(;e===cc;)cc=Ra[--Ba],Ra[Ba]=null,eo=Ra[--Ba],Ra[Ba]=null,Js=Ra[--Ba],Ra[Ba]=null}var ba=null,xa=null,cr=!1,ss=null;function uM(e,t){var n=Ua(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function C2(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ba=e,xa=el(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ba=e,xa=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=cc!==null?{id:Js,overflow:eo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ua(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ba=e,xa=null,!0):!1;default:return!1}}function _y(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ly(e){if(cr){var t=xa;if(t){var n=t;if(!C2(e,t)){if(_y(e))throw Error(Ge(418));t=el(n.nextSibling);var r=ba;t&&C2(e,t)?uM(r,n):(e.flags=e.flags&-4097|2,cr=!1,ba=e)}}else{if(_y(e))throw Error(Ge(418));e.flags=e.flags&-4097|2,cr=!1,ba=e}}}function j2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ba=e}function uh(e){if(e!==ba)return!1;if(!cr)return j2(e),cr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Dy(e.type,e.memoizedProps)),t&&(t=xa)){if(_y(e))throw dM(),Error(Ge(418));for(;t;)uM(e,t),t=el(t.nextSibling)}if(j2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ge(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){xa=el(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}xa=null}}else xa=ba?el(e.stateNode.nextSibling):null;return!0}function dM(){for(var e=xa;e;)e=el(e.nextSibling)}function Du(){xa=ba=null,cr=!1}function Yw(e){ss===null?ss=[e]:ss.push(e)}var kz=wo.ReactCurrentBatchConfig;function wd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ge(309));var r=n.stateNode}if(!r)throw Error(Ge(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(Ge(284));if(!n._owner)throw Error(Ge(290,e))}return e}function dh(e,t){throw e=Object.prototype.toString.call(t),Error(Ge(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function A2(e){var t=e._init;return t(e._payload)}function fM(e){function t(v,b){if(e){var w=v.deletions;w===null?(v.deletions=[b],v.flags|=16):w.push(b)}}function n(v,b){if(!e)return null;for(;b!==null;)t(v,b),b=b.sibling;return null}function r(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(v,b){return v=il(v,b),v.index=0,v.sibling=null,v}function a(v,b,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<b?(v.flags|=2,b):w):(v.flags|=2,b)):(v.flags|=1048576,b)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,b,w,S){return b===null||b.tag!==6?(b=tx(w,v.mode,S),b.return=v,b):(b=i(b,w),b.return=v,b)}function l(v,b,w,S){var C=w.type;return C===nu?d(v,b,w.props.children,S,w.key):b!==null&&(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ro&&A2(C)===b.type)?(S=i(b,w.props),S.ref=wd(v,b,w),S.return=v,S):(S=Jh(w.type,w.key,w.props,null,v.mode,S),S.ref=wd(v,b,w),S.return=v,S)}function c(v,b,w,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=nx(w,v.mode,S),b.return=v,b):(b=i(b,w.children||[]),b.return=v,b)}function d(v,b,w,S,C){return b===null||b.tag!==7?(b=tc(w,v.mode,S,C),b.return=v,b):(b=i(b,w),b.return=v,b)}function f(v,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=tx(""+b,v.mode,w),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case eh:return w=Jh(b.type,b.key,b.props,null,v.mode,w),w.ref=wd(v,null,b),w.return=v,w;case tu:return b=nx(b,v.mode,w),b.return=v,b;case Ro:var S=b._init;return f(v,S(b._payload),w)}if(Fd(b)||gd(b))return b=tc(b,v.mode,w,null),b.return=v,b;dh(v,b)}return null}function h(v,b,w,S){var C=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:o(v,b,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case eh:return w.key===C?l(v,b,w,S):null;case tu:return w.key===C?c(v,b,w,S):null;case Ro:return C=w._init,h(v,b,C(w._payload),S)}if(Fd(w)||gd(w))return C!==null?null:d(v,b,w,S,null);dh(v,w)}return null}function m(v,b,w,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(w)||null,o(b,v,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case eh:return v=v.get(S.key===null?w:S.key)||null,l(b,v,S,C);case tu:return v=v.get(S.key===null?w:S.key)||null,c(b,v,S,C);case Ro:var N=S._init;return m(v,b,w,N(S._payload),C)}if(Fd(S)||gd(S))return v=v.get(w)||null,d(b,v,S,C,null);dh(b,S)}return null}function p(v,b,w,S){for(var C=null,N=null,A=b,E=b=0,$=null;A!==null&&E<w.length;E++){A.index>E?($=A,A=null):$=A.sibling;var T=h(v,A,w[E],S);if(T===null){A===null&&(A=$);break}e&&A&&T.alternate===null&&t(v,A),b=a(T,b,E),N===null?C=T:N.sibling=T,N=T,A=$}if(E===w.length)return n(v,A),cr&&$l(v,E),C;if(A===null){for(;E<w.length;E++)A=f(v,w[E],S),A!==null&&(b=a(A,b,E),N===null?C=A:N.sibling=A,N=A);return cr&&$l(v,E),C}for(A=r(v,A);E<w.length;E++)$=m(A,v,E,w[E],S),$!==null&&(e&&$.alternate!==null&&A.delete($.key===null?E:$.key),b=a($,b,E),N===null?C=$:N.sibling=$,N=$);return e&&A.forEach(function(M){return t(v,M)}),cr&&$l(v,E),C}function g(v,b,w,S){var C=gd(w);if(typeof C!="function")throw Error(Ge(150));if(w=C.call(w),w==null)throw Error(Ge(151));for(var N=C=null,A=b,E=b=0,$=null,T=w.next();A!==null&&!T.done;E++,T=w.next()){A.index>E?($=A,A=null):$=A.sibling;var M=h(v,A,T.value,S);if(M===null){A===null&&(A=$);break}e&&A&&M.alternate===null&&t(v,A),b=a(M,b,E),N===null?C=M:N.sibling=M,N=M,A=$}if(T.done)return n(v,A),cr&&$l(v,E),C;if(A===null){for(;!T.done;E++,T=w.next())T=f(v,T.value,S),T!==null&&(b=a(T,b,E),N===null?C=T:N.sibling=T,N=T);return cr&&$l(v,E),C}for(A=r(v,A);!T.done;E++,T=w.next())T=m(A,v,E,T.value,S),T!==null&&(e&&T.alternate!==null&&A.delete(T.key===null?E:T.key),b=a(T,b,E),N===null?C=T:N.sibling=T,N=T);return e&&A.forEach(function(O){return t(v,O)}),cr&&$l(v,E),C}function y(v,b,w,S){if(typeof w=="object"&&w!==null&&w.type===nu&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case eh:e:{for(var C=w.key,N=b;N!==null;){if(N.key===C){if(C=w.type,C===nu){if(N.tag===7){n(v,N.sibling),b=i(N,w.props.children),b.return=v,v=b;break e}}else if(N.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ro&&A2(C)===N.type){n(v,N.sibling),b=i(N,w.props),b.ref=wd(v,N,w),b.return=v,v=b;break e}n(v,N);break}else t(v,N);N=N.sibling}w.type===nu?(b=tc(w.props.children,v.mode,S,w.key),b.return=v,v=b):(S=Jh(w.type,w.key,w.props,null,v.mode,S),S.ref=wd(v,b,w),S.return=v,v=S)}return s(v);case tu:e:{for(N=w.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(v,b.sibling),b=i(b,w.children||[]),b.return=v,v=b;break e}else{n(v,b);break}else t(v,b);b=b.sibling}b=nx(w,v.mode,S),b.return=v,v=b}return s(v);case Ro:return N=w._init,y(v,b,N(w._payload),S)}if(Fd(w))return p(v,b,w,S);if(gd(w))return g(v,b,w,S);dh(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(v,b.sibling),b=i(b,w),b.return=v,v=b):(n(v,b),b=tx(w,v.mode,S),b.return=v,v=b),s(v)):n(v,b)}return y}var Mu=fM(!0),mM=fM(!1),Ap=pl(null),Pp=null,uu=null,Xw=null;function Qw(){Xw=uu=Pp=null}function Zw(e){var t=Ap.current;ir(Ap),e._currentValue=t}function $y(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Su(e,t){Pp=e,Xw=uu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Qi=!0),e.firstContext=null)}function Ha(e){var t=e._currentValue;if(Xw!==e)if(e={context:e,memoizedValue:t,next:null},uu===null){if(Pp===null)throw Error(Ge(308));uu=e,Pp.dependencies={lanes:0,firstContext:e}}else uu=uu.next=e;return t}var ql=null;function Jw(e){ql===null?ql=[e]:ql.push(e)}function hM(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Jw(t)):(n.next=i.next,i.next=n),t.interleaved=n,fo(e,r)}function fo(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Bo=!1;function e1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pM(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function io(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function tl(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Sn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,fo(e,n)}return i=r.interleaved,i===null?(t.next=t,Jw(r)):(t.next=i.next,i.next=t),r.interleaved=t,fo(e,n)}function Kh(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Rw(e,n)}}function P2(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Tp(e,t,n,r){var i=e.updateQueue;Bo=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,d=c=l=null,o=a;do{var h=o.lane,m=o.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,g=o;switch(h=t,m=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=yr({},f,h);break e;case 2:Bo=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);dc|=s,e.lanes=s,e.memoizedState=f}}function T2(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ge(191,i));i.call(r)}}}var am={},_s=pl(am),wf=pl(am),kf=pl(am);function Kl(e){if(e===am)throw Error(Ge(174));return e}function t1(e,t){switch(Yn(kf,t),Yn(wf,e),Yn(_s,am),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:vy(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=vy(t,e)}ir(_s),Yn(_s,t)}function Ou(){ir(_s),ir(wf),ir(kf)}function gM(e){Kl(kf.current);var t=Kl(_s.current),n=vy(t,e.type);t!==n&&(Yn(wf,e),Yn(_s,n))}function n1(e){wf.current===e&&(ir(_s),ir(wf))}var pr=pl(0);function Ep(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Yv=[];function r1(){for(var e=0;e<Yv.length;e++)Yv[e]._workInProgressVersionPrimary=null;Yv.length=0}var Gh=wo.ReactCurrentDispatcher,Xv=wo.ReactCurrentBatchConfig,uc=0,xr=null,zr=null,ei=null,Dp=!1,Xd=!1,Sf=0,Sz=0;function wi(){throw Error(Ge(321))}function i1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!hs(e[n],t[n]))return!1;return!0}function a1(e,t,n,r,i,a){if(uc=a,xr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gh.current=e===null||e.memoizedState===null?Az:Pz,e=n(r,i),Xd){a=0;do{if(Xd=!1,Sf=0,25<=a)throw Error(Ge(301));a+=1,ei=zr=null,t.updateQueue=null,Gh.current=Tz,e=n(r,i)}while(Xd)}if(Gh.current=Mp,t=zr!==null&&zr.next!==null,uc=0,ei=zr=xr=null,Dp=!1,t)throw Error(Ge(300));return e}function s1(){var e=Sf!==0;return Sf=0,e}function Ts(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ei===null?xr.memoizedState=ei=e:ei=ei.next=e,ei}function qa(){if(zr===null){var e=xr.alternate;e=e!==null?e.memoizedState:null}else e=zr.next;var t=ei===null?xr.memoizedState:ei.next;if(t!==null)ei=t,zr=e;else{if(e===null)throw Error(Ge(310));zr=e,e={memoizedState:zr.memoizedState,baseState:zr.baseState,baseQueue:zr.baseQueue,queue:zr.queue,next:null},ei===null?xr.memoizedState=ei=e:ei=ei.next=e}return ei}function Nf(e,t){return typeof t=="function"?t(e):t}function Qv(e){var t=qa(),n=t.queue;if(n===null)throw Error(Ge(311));n.lastRenderedReducer=e;var r=zr,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,c=a;do{var d=c.lane;if((uc&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=r):l=l.next=f,xr.lanes|=d,dc|=d}c=c.next}while(c!==null&&c!==a);l===null?s=r:l.next=o,hs(r,t.memoizedState)||(Qi=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,xr.lanes|=a,dc|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Zv(e){var t=qa(),n=t.queue;if(n===null)throw Error(Ge(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);hs(a,t.memoizedState)||(Qi=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function vM(){}function xM(e,t){var n=xr,r=qa(),i=t(),a=!hs(r.memoizedState,i);if(a&&(r.memoizedState=i,Qi=!0),r=r.queue,o1(wM.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||ei!==null&&ei.memoizedState.tag&1){if(n.flags|=2048,Cf(9,bM.bind(null,n,r,i,t),void 0,null),ti===null)throw Error(Ge(349));uc&30||yM(n,t,i)}return i}function yM(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=xr.updateQueue,t===null?(t={lastEffect:null,stores:null},xr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function bM(e,t,n,r){t.value=n,t.getSnapshot=r,kM(t)&&SM(e)}function wM(e,t,n){return n(function(){kM(t)&&SM(e)})}function kM(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!hs(e,n)}catch{return!0}}function SM(e){var t=fo(e,1);t!==null&&ds(t,e,1,-1)}function E2(e){var t=Ts();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nf,lastRenderedState:e},t.queue=e,e=e.dispatch=jz.bind(null,xr,e),[t.memoizedState,e]}function Cf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=xr.updateQueue,t===null?(t={lastEffect:null,stores:null},xr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function NM(){return qa().memoizedState}function Yh(e,t,n,r){var i=Ts();xr.flags|=e,i.memoizedState=Cf(1|t,n,void 0,r===void 0?null:r)}function n0(e,t,n,r){var i=qa();r=r===void 0?null:r;var a=void 0;if(zr!==null){var s=zr.memoizedState;if(a=s.destroy,r!==null&&i1(r,s.deps)){i.memoizedState=Cf(t,n,a,r);return}}xr.flags|=e,i.memoizedState=Cf(1|t,n,a,r)}function D2(e,t){return Yh(8390656,8,e,t)}function o1(e,t){return n0(2048,8,e,t)}function CM(e,t){return n0(4,2,e,t)}function jM(e,t){return n0(4,4,e,t)}function AM(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function PM(e,t,n){return n=n!=null?n.concat([e]):null,n0(4,4,AM.bind(null,t,e),n)}function l1(){}function TM(e,t){var n=qa();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&i1(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function EM(e,t){var n=qa();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&i1(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function DM(e,t,n){return uc&21?(hs(n,t)||(n=LD(),xr.lanes|=n,dc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Qi=!0),e.memoizedState=n)}function Nz(e,t){var n=Ln;Ln=n!==0&&4>n?n:4,e(!0);var r=Xv.transition;Xv.transition={};try{e(!1),t()}finally{Ln=n,Xv.transition=r}}function MM(){return qa().memoizedState}function Cz(e,t,n){var r=rl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},OM(e))IM(t,n);else if(n=hM(e,t,n,r),n!==null){var i=Bi();ds(n,e,r,i),_M(n,t,r)}}function jz(e,t,n){var r=rl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(OM(e))IM(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,hs(o,s)){var l=t.interleaved;l===null?(i.next=i,Jw(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=hM(e,t,i,r),n!==null&&(i=Bi(),ds(n,e,r,i),_M(n,t,r))}}function OM(e){var t=e.alternate;return e===xr||t!==null&&t===xr}function IM(e,t){Xd=Dp=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function _M(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Rw(e,n)}}var Mp={readContext:Ha,useCallback:wi,useContext:wi,useEffect:wi,useImperativeHandle:wi,useInsertionEffect:wi,useLayoutEffect:wi,useMemo:wi,useReducer:wi,useRef:wi,useState:wi,useDebugValue:wi,useDeferredValue:wi,useTransition:wi,useMutableSource:wi,useSyncExternalStore:wi,useId:wi,unstable_isNewReconciler:!1},Az={readContext:Ha,useCallback:function(e,t){return Ts().memoizedState=[e,t===void 0?null:t],e},useContext:Ha,useEffect:D2,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Yh(4194308,4,AM.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yh(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yh(4,2,e,t)},useMemo:function(e,t){var n=Ts();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ts();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Cz.bind(null,xr,e),[r.memoizedState,e]},useRef:function(e){var t=Ts();return e={current:e},t.memoizedState=e},useState:E2,useDebugValue:l1,useDeferredValue:function(e){return Ts().memoizedState=e},useTransition:function(){var e=E2(!1),t=e[0];return e=Nz.bind(null,e[1]),Ts().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=xr,i=Ts();if(cr){if(n===void 0)throw Error(Ge(407));n=n()}else{if(n=t(),ti===null)throw Error(Ge(349));uc&30||yM(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,D2(wM.bind(null,r,a,e),[e]),r.flags|=2048,Cf(9,bM.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ts(),t=ti.identifierPrefix;if(cr){var n=eo,r=Js;n=(r&~(1<<32-us(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Sf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Sz++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Pz={readContext:Ha,useCallback:TM,useContext:Ha,useEffect:o1,useImperativeHandle:PM,useInsertionEffect:CM,useLayoutEffect:jM,useMemo:EM,useReducer:Qv,useRef:NM,useState:function(){return Qv(Nf)},useDebugValue:l1,useDeferredValue:function(e){var t=qa();return DM(t,zr.memoizedState,e)},useTransition:function(){var e=Qv(Nf)[0],t=qa().memoizedState;return[e,t]},useMutableSource:vM,useSyncExternalStore:xM,useId:MM,unstable_isNewReconciler:!1},Tz={readContext:Ha,useCallback:TM,useContext:Ha,useEffect:o1,useImperativeHandle:PM,useInsertionEffect:CM,useLayoutEffect:jM,useMemo:EM,useReducer:Zv,useRef:NM,useState:function(){return Zv(Nf)},useDebugValue:l1,useDeferredValue:function(e){var t=qa();return zr===null?t.memoizedState=e:DM(t,zr.memoizedState,e)},useTransition:function(){var e=Zv(Nf)[0],t=qa().memoizedState;return[e,t]},useMutableSource:vM,useSyncExternalStore:xM,useId:MM,unstable_isNewReconciler:!1};function is(e,t){if(e&&e.defaultProps){t=yr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Fy(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:yr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var r0={isMounted:function(e){return(e=e._reactInternals)?Cc(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Bi(),i=rl(e),a=io(r,i);a.payload=t,n!=null&&(a.callback=n),t=tl(e,a,i),t!==null&&(ds(t,e,i,r),Kh(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Bi(),i=rl(e),a=io(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=tl(e,a,i),t!==null&&(ds(t,e,i,r),Kh(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bi(),r=rl(e),i=io(n,r);i.tag=2,t!=null&&(i.callback=t),t=tl(e,i,r),t!==null&&(ds(t,e,r,n),Kh(t,e,r))}};function M2(e,t,n,r,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!vf(n,r)||!vf(i,a):!0}function LM(e,t,n){var r=!1,i=cl,a=t.contextType;return typeof a=="object"&&a!==null?a=Ha(a):(i=ea(t)?lc:Ei.current,r=t.contextTypes,a=(r=r!=null)?Eu(e,i):cl),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=r0,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function O2(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&r0.enqueueReplaceState(t,t.state,null)}function Ry(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},e1(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Ha(a):(a=ea(t)?lc:Ei.current,i.context=Eu(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Fy(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&r0.enqueueReplaceState(i,i.state,null),Tp(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Iu(e,t){try{var n="",r=t;do n+=rB(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Jv(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function By(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ez=typeof WeakMap=="function"?WeakMap:Map;function $M(e,t,n){n=io(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ip||(Ip=!0,Xy=r),By(e,t)},n}function FM(e,t,n){n=io(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){By(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){By(e,t),typeof r!="function"&&(nl===null?nl=new Set([this]):nl.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function I2(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ez;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Wz.bind(null,e,t,n),t.then(e,e))}function _2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function L2(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=io(-1,1),t.tag=2,tl(n,t,1))),n.lanes|=1),e)}var Dz=wo.ReactCurrentOwner,Qi=!1;function $i(e,t,n,r){t.child=e===null?mM(t,null,n,r):Mu(t,e.child,n,r)}function $2(e,t,n,r,i){n=n.render;var a=t.ref;return Su(t,i),r=a1(e,t,n,r,a,i),n=s1(),e!==null&&!Qi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,mo(e,t,i)):(cr&&n&&Kw(t),t.flags|=1,$i(e,t,r,i),t.child)}function F2(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!g1(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,RM(e,t,a,r,i)):(e=Jh(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:vf,n(s,r)&&e.ref===t.ref)return mo(e,t,i)}return t.flags|=1,e=il(a,r),e.ref=t.ref,e.return=t,t.child=e}function RM(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(vf(a,r)&&e.ref===t.ref)if(Qi=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(Qi=!0);else return t.lanes=e.lanes,mo(e,t,i)}return zy(e,t,n,r,i)}function BM(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yn(fu,pa),pa|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Yn(fu,pa),pa|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Yn(fu,pa),pa|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Yn(fu,pa),pa|=r;return $i(e,t,i,n),t.child}function zM(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function zy(e,t,n,r,i){var a=ea(n)?lc:Ei.current;return a=Eu(t,a),Su(t,i),n=a1(e,t,n,r,a,i),r=s1(),e!==null&&!Qi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,mo(e,t,i)):(cr&&r&&Kw(t),t.flags|=1,$i(e,t,n,i),t.child)}function R2(e,t,n,r,i){if(ea(n)){var a=!0;Np(t)}else a=!1;if(Su(t,i),t.stateNode===null)Xh(e,t),LM(t,n,r),Ry(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ha(c):(c=ea(n)?lc:Ei.current,c=Eu(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==c)&&O2(t,s,r,c),Bo=!1;var h=t.memoizedState;s.state=h,Tp(t,r,s,i),l=t.memoizedState,o!==r||h!==l||Ji.current||Bo?(typeof d=="function"&&(Fy(t,n,d,r),l=t.memoizedState),(o=Bo||M2(t,n,o,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,pM(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:is(t.type,o),s.props=c,f=t.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ha(l):(l=ea(n)?lc:Ei.current,l=Eu(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&O2(t,s,r,l),Bo=!1,h=t.memoizedState,s.state=h,Tp(t,r,s,i);var p=t.memoizedState;o!==f||h!==p||Ji.current||Bo?(typeof m=="function"&&(Fy(t,n,m,r),p=t.memoizedState),(c=Bo||M2(t,n,c,r,h,p,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Uy(e,t,n,r,a,i)}function Uy(e,t,n,r,i,a){zM(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&N2(t,n,!1),mo(e,t,a);r=t.stateNode,Dz.current=t;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Mu(t,e.child,null,a),t.child=Mu(t,null,o,a)):$i(e,t,o,a),t.memoizedState=r.state,i&&N2(t,n,!0),t.child}function UM(e){var t=e.stateNode;t.pendingContext?S2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&S2(e,t.context,!1),t1(e,t.containerInfo)}function B2(e,t,n,r,i){return Du(),Yw(i),t.flags|=256,$i(e,t,n,r),t.child}var Vy={dehydrated:null,treeContext:null,retryLane:0};function Wy(e){return{baseLanes:e,cachePool:null,transitions:null}}function VM(e,t,n){var r=t.pendingProps,i=pr.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Yn(pr,i&1),e===null)return Ly(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,a?(r=t.mode,a=t.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=s0(s,r,0,null),e=tc(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Wy(n),t.memoizedState=Vy,e):c1(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Mz(e,t,s,r,o,i,n);if(a){a=r.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=il(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=il(o,a):(a=tc(a,s,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,s=e.child.memoizedState,s=s===null?Wy(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=Vy,r}return a=e.child,e=a.sibling,r=il(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function c1(e,t){return t=s0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function fh(e,t,n,r){return r!==null&&Yw(r),Mu(t,e.child,null,n),e=c1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Mz(e,t,n,r,i,a,s){if(n)return t.flags&256?(t.flags&=-257,r=Jv(Error(Ge(422))),fh(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=s0({mode:"visible",children:r.children},i,0,null),a=tc(a,i,s,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Mu(t,e.child,null,s),t.child.memoizedState=Wy(s),t.memoizedState=Vy,a);if(!(t.mode&1))return fh(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(Ge(419)),r=Jv(a,r,void 0),fh(e,t,s,r)}if(o=(s&e.childLanes)!==0,Qi||o){if(r=ti,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,fo(e,i),ds(r,e,i,-1))}return p1(),r=Jv(Error(Ge(421))),fh(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Hz.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,xa=el(i.nextSibling),ba=t,cr=!0,ss=null,e!==null&&(Ra[Ba++]=Js,Ra[Ba++]=eo,Ra[Ba++]=cc,Js=e.id,eo=e.overflow,cc=t),t=c1(t,r.children),t.flags|=4096,t)}function z2(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),$y(e.return,t,n)}function ex(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function WM(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if($i(e,t,r.children,n),r=pr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&z2(e,n,t);else if(e.tag===19)z2(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Yn(pr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ep(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ex(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ep(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ex(t,!0,n,null,a);break;case"together":ex(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mo(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),dc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ge(153));if(t.child!==null){for(e=t.child,n=il(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=il(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Oz(e,t,n){switch(t.tag){case 3:UM(t),Du();break;case 5:gM(t);break;case 1:ea(t.type)&&Np(t);break;case 4:t1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Yn(Ap,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Yn(pr,pr.current&1),t.flags|=128,null):n&t.child.childLanes?VM(e,t,n):(Yn(pr,pr.current&1),e=mo(e,t,n),e!==null?e.sibling:null);Yn(pr,pr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return WM(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Yn(pr,pr.current),r)break;return null;case 22:case 23:return t.lanes=0,BM(e,t,n)}return mo(e,t,n)}var HM,Hy,qM,KM;HM=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Hy=function(){};qM=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Kl(_s.current);var a=null;switch(n){case"input":i=my(e,i),r=my(e,r),a=[];break;case"select":i=yr({},i,{value:void 0}),r=yr({},r,{value:void 0}),a=[];break;case"textarea":i=gy(e,i),r=gy(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=kp)}xy(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(uf.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(uf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&nr("scroll",e),a||o===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};KM=function(e,t,n,r){n!==r&&(t.flags|=4)};function kd(e,t){if(!cr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ki(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Iz(e,t,n){var r=t.pendingProps;switch(Gw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ki(t),null;case 1:return ea(t.type)&&Sp(),ki(t),null;case 3:return r=t.stateNode,Ou(),ir(Ji),ir(Ei),r1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(uh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ss!==null&&(Jy(ss),ss=null))),Hy(e,t),ki(t),null;case 5:n1(t);var i=Kl(kf.current);if(n=t.type,e!==null&&t.stateNode!=null)qM(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ge(166));return ki(t),null}if(e=Kl(_s.current),uh(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Ms]=t,r[bf]=a,e=(t.mode&1)!==0,n){case"dialog":nr("cancel",r),nr("close",r);break;case"iframe":case"object":case"embed":nr("load",r);break;case"video":case"audio":for(i=0;i<Bd.length;i++)nr(Bd[i],r);break;case"source":nr("error",r);break;case"img":case"image":case"link":nr("error",r),nr("load",r);break;case"details":nr("toggle",r);break;case"input":XN(r,a),nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},nr("invalid",r);break;case"textarea":ZN(r,a),nr("invalid",r)}xy(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&ch(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&ch(r.textContent,o,e),i=["children",""+o]):uf.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&nr("scroll",r)}switch(n){case"input":th(r),QN(r,a,!0);break;case"textarea":th(r),JN(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=kp)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=wD(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Ms]=t,e[bf]=r,HM(e,t,!1,!1),t.stateNode=e;e:{switch(s=yy(n,r),n){case"dialog":nr("cancel",e),nr("close",e),i=r;break;case"iframe":case"object":case"embed":nr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Bd.length;i++)nr(Bd[i],e);i=r;break;case"source":nr("error",e),i=r;break;case"img":case"image":case"link":nr("error",e),nr("load",e),i=r;break;case"details":nr("toggle",e),i=r;break;case"input":XN(e,r),i=my(e,r),nr("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=yr({},r,{value:void 0}),nr("invalid",e);break;case"textarea":ZN(e,r),i=gy(e,r),nr("invalid",e);break;default:i=r}xy(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?ND(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&kD(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&df(e,l):typeof l=="number"&&df(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(uf.hasOwnProperty(a)?l!=null&&a==="onScroll"&&nr("scroll",e):l!=null&&Ow(e,a,l,s))}switch(n){case"input":th(e),QN(e,r,!1);break;case"textarea":th(e),JN(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ll(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?yu(e,!!r.multiple,a,!1):r.defaultValue!=null&&yu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=kp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ki(t),null;case 6:if(e&&t.stateNode!=null)KM(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ge(166));if(n=Kl(kf.current),Kl(_s.current),uh(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ms]=t,(a=r.nodeValue!==n)&&(e=ba,e!==null))switch(e.tag){case 3:ch(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ch(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ms]=t,t.stateNode=r}return ki(t),null;case 13:if(ir(pr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(cr&&xa!==null&&t.mode&1&&!(t.flags&128))dM(),Du(),t.flags|=98560,a=!1;else if(a=uh(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(Ge(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ge(317));a[Ms]=t}else Du(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ki(t),a=!1}else ss!==null&&(Jy(ss),ss=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||pr.current&1?Vr===0&&(Vr=3):p1())),t.updateQueue!==null&&(t.flags|=4),ki(t),null);case 4:return Ou(),Hy(e,t),e===null&&xf(t.stateNode.containerInfo),ki(t),null;case 10:return Zw(t.type._context),ki(t),null;case 17:return ea(t.type)&&Sp(),ki(t),null;case 19:if(ir(pr),a=t.memoizedState,a===null)return ki(t),null;if(r=(t.flags&128)!==0,s=a.rendering,s===null)if(r)kd(a,!1);else{if(Vr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Ep(e),s!==null){for(t.flags|=128,kd(a,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Yn(pr,pr.current&1|2),t.child}e=e.sibling}a.tail!==null&&Er()>_u&&(t.flags|=128,r=!0,kd(a,!1),t.lanes=4194304)}else{if(!r)if(e=Ep(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),kd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!cr)return ki(t),null}else 2*Er()-a.renderingStartTime>_u&&n!==1073741824&&(t.flags|=128,r=!0,kd(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(n=a.last,n!==null?n.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Er(),t.sibling=null,n=pr.current,Yn(pr,r?n&1|2:n&1),t):(ki(t),null);case 22:case 23:return h1(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?pa&1073741824&&(ki(t),t.subtreeFlags&6&&(t.flags|=8192)):ki(t),null;case 24:return null;case 25:return null}throw Error(Ge(156,t.tag))}function _z(e,t){switch(Gw(t),t.tag){case 1:return ea(t.type)&&Sp(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ou(),ir(Ji),ir(Ei),r1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return n1(t),null;case 13:if(ir(pr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ge(340));Du()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ir(pr),null;case 4:return Ou(),null;case 10:return Zw(t.type._context),null;case 22:case 23:return h1(),null;case 24:return null;default:return null}}var mh=!1,Ci=!1,Lz=typeof WeakSet=="function"?WeakSet:Set,vt=null;function du(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Cr(e,t,r)}else n.current=null}function qy(e,t,n){try{n()}catch(r){Cr(e,t,r)}}var U2=!1;function $z(e,t){if(Ty=yp,e=ZD(),qw(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(o=s+i),f!==a||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++c===i&&(o=s),h===a&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ey={focusedElem:e,selectionRange:n},yp=!1,vt=t;vt!==null;)if(t=vt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,vt=e;else for(;vt!==null;){t=vt;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,y=p.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:is(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ge(163))}}catch(S){Cr(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,vt=e;break}vt=t.return}return p=U2,U2=!1,p}function Qd(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&qy(t,n,a)}i=i.next}while(i!==r)}}function i0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ky(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function GM(e){var t=e.alternate;t!==null&&(e.alternate=null,GM(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ms],delete t[bf],delete t[Oy],delete t[yz],delete t[bz])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function YM(e){return e.tag===5||e.tag===3||e.tag===4}function V2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||YM(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gy(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=kp));else if(r!==4&&(e=e.child,e!==null))for(Gy(e,t,n),e=e.sibling;e!==null;)Gy(e,t,n),e=e.sibling}function Yy(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Yy(e,t,n),e=e.sibling;e!==null;)Yy(e,t,n),e=e.sibling}var fi=null,as=!1;function _o(e,t,n){for(n=n.child;n!==null;)XM(e,t,n),n=n.sibling}function XM(e,t,n){if(Is&&typeof Is.onCommitFiberUnmount=="function")try{Is.onCommitFiberUnmount(Xg,n)}catch{}switch(n.tag){case 5:Ci||du(n,t);case 6:var r=fi,i=as;fi=null,_o(e,t,n),fi=r,as=i,fi!==null&&(as?(e=fi,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):fi.removeChild(n.stateNode));break;case 18:fi!==null&&(as?(e=fi,n=n.stateNode,e.nodeType===8?Kv(e.parentNode,n):e.nodeType===1&&Kv(e,n),pf(e)):Kv(fi,n.stateNode));break;case 4:r=fi,i=as,fi=n.stateNode.containerInfo,as=!0,_o(e,t,n),fi=r,as=i;break;case 0:case 11:case 14:case 15:if(!Ci&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&qy(n,t,s),i=i.next}while(i!==r)}_o(e,t,n);break;case 1:if(!Ci&&(du(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Cr(n,t,o)}_o(e,t,n);break;case 21:_o(e,t,n);break;case 22:n.mode&1?(Ci=(r=Ci)||n.memoizedState!==null,_o(e,t,n),Ci=r):_o(e,t,n);break;default:_o(e,t,n)}}function W2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Lz),t.forEach(function(r){var i=qz.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function rs(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:fi=o.stateNode,as=!1;break e;case 3:fi=o.stateNode.containerInfo,as=!0;break e;case 4:fi=o.stateNode.containerInfo,as=!0;break e}o=o.return}if(fi===null)throw Error(Ge(160));XM(a,s,i),fi=null,as=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Cr(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)QM(t,e),t=t.sibling}function QM(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rs(t,e),Cs(e),r&4){try{Qd(3,e,e.return),i0(3,e)}catch(g){Cr(e,e.return,g)}try{Qd(5,e,e.return)}catch(g){Cr(e,e.return,g)}}break;case 1:rs(t,e),Cs(e),r&512&&n!==null&&du(n,n.return);break;case 5:if(rs(t,e),Cs(e),r&512&&n!==null&&du(n,n.return),e.flags&32){var i=e.stateNode;try{df(i,"")}catch(g){Cr(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=n!==null?n.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&yD(i,a),yy(o,s);var c=yy(o,a);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?ND(i,f):d==="dangerouslySetInnerHTML"?kD(i,f):d==="children"?df(i,f):Ow(i,d,f,c)}switch(o){case"input":hy(i,a);break;case"textarea":bD(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?yu(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?yu(i,!!a.multiple,a.defaultValue,!0):yu(i,!!a.multiple,a.multiple?[]:"",!1))}i[bf]=a}catch(g){Cr(e,e.return,g)}}break;case 6:if(rs(t,e),Cs(e),r&4){if(e.stateNode===null)throw Error(Ge(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Cr(e,e.return,g)}}break;case 3:if(rs(t,e),Cs(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{pf(t.containerInfo)}catch(g){Cr(e,e.return,g)}break;case 4:rs(t,e),Cs(e);break;case 13:rs(t,e),Cs(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(f1=Er())),r&4&&W2(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ci=(c=Ci)||d,rs(t,e),Ci=c):rs(t,e),Cs(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(vt=e,d=e.child;d!==null;){for(f=vt=d;vt!==null;){switch(h=vt,m=h.child,h.tag){case 0:case 11:case 14:case 15:Qd(4,h,h.return);break;case 1:du(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Cr(r,n,g)}}break;case 5:du(h,h.return);break;case 22:if(h.memoizedState!==null){q2(f);continue}}m!==null?(m.return=h,vt=m):q2(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=SD("display",s))}catch(g){Cr(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Cr(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:rs(t,e),Cs(e),r&4&&W2(e);break;case 21:break;default:rs(t,e),Cs(e)}}function Cs(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(YM(n)){var r=n;break e}n=n.return}throw Error(Ge(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(df(i,""),r.flags&=-33);var a=V2(e);Yy(e,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=V2(e);Gy(e,o,s);break;default:throw Error(Ge(161))}}catch(l){Cr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fz(e,t,n){vt=e,ZM(e)}function ZM(e,t,n){for(var r=(e.mode&1)!==0;vt!==null;){var i=vt,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||mh;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Ci;o=mh;var c=Ci;if(mh=s,(Ci=l)&&!c)for(vt=i;vt!==null;)s=vt,l=s.child,s.tag===22&&s.memoizedState!==null?K2(i):l!==null?(l.return=s,vt=l):K2(i);for(;a!==null;)vt=a,ZM(a),a=a.sibling;vt=i,mh=o,Ci=c}H2(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,vt=a):H2(e)}}function H2(e){for(;vt!==null;){var t=vt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ci||i0(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ci)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:is(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&T2(t,a,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}T2(t,s,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&pf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ge(163))}Ci||t.flags&512&&Ky(t)}catch(h){Cr(t,t.return,h)}}if(t===e){vt=null;break}if(n=t.sibling,n!==null){n.return=t.return,vt=n;break}vt=t.return}}function q2(e){for(;vt!==null;){var t=vt;if(t===e){vt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,vt=n;break}vt=t.return}}function K2(e){for(;vt!==null;){var t=vt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{i0(4,t)}catch(l){Cr(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Cr(t,i,l)}}var a=t.return;try{Ky(t)}catch(l){Cr(t,a,l)}break;case 5:var s=t.return;try{Ky(t)}catch(l){Cr(t,s,l)}}}catch(l){Cr(t,t.return,l)}if(t===e){vt=null;break}var o=t.sibling;if(o!==null){o.return=t.return,vt=o;break}vt=t.return}}var Rz=Math.ceil,Op=wo.ReactCurrentDispatcher,u1=wo.ReactCurrentOwner,Wa=wo.ReactCurrentBatchConfig,Sn=0,ti=null,Lr=null,pi=0,pa=0,fu=pl(0),Vr=0,jf=null,dc=0,a0=0,d1=0,Zd=null,Xi=null,f1=0,_u=1/0,Ks=null,Ip=!1,Xy=null,nl=null,hh=!1,Go=null,_p=0,Jd=0,Qy=null,Qh=-1,Zh=0;function Bi(){return Sn&6?Er():Qh!==-1?Qh:Qh=Er()}function rl(e){return e.mode&1?Sn&2&&pi!==0?pi&-pi:kz.transition!==null?(Zh===0&&(Zh=LD()),Zh):(e=Ln,e!==0||(e=window.event,e=e===void 0?16:VD(e.type)),e):1}function ds(e,t,n,r){if(50<Jd)throw Jd=0,Qy=null,Error(Ge(185));nm(e,n,r),(!(Sn&2)||e!==ti)&&(e===ti&&(!(Sn&2)&&(a0|=n),Vr===4&&Ho(e,pi)),ta(e,r),n===1&&Sn===0&&!(t.mode&1)&&(_u=Er()+500,t0&&gl()))}function ta(e,t){var n=e.callbackNode;kB(e,t);var r=xp(e,e===ti?pi:0);if(r===0)n!==null&&n2(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&n2(n),t===1)e.tag===0?wz(G2.bind(null,e)):lM(G2.bind(null,e)),vz(function(){!(Sn&6)&&gl()}),n=null;else{switch($D(r)){case 1:n=Fw;break;case 4:n=ID;break;case 16:n=vp;break;case 536870912:n=_D;break;default:n=vp}n=sO(n,JM.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function JM(e,t){if(Qh=-1,Zh=0,Sn&6)throw Error(Ge(327));var n=e.callbackNode;if(Nu()&&e.callbackNode!==n)return null;var r=xp(e,e===ti?pi:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Lp(e,r);else{t=r;var i=Sn;Sn|=2;var a=tO();(ti!==e||pi!==t)&&(Ks=null,_u=Er()+500,ec(e,t));do try{Uz();break}catch(o){eO(e,o)}while(!0);Qw(),Op.current=a,Sn=i,Lr!==null?t=0:(ti=null,pi=0,t=Vr)}if(t!==0){if(t===2&&(i=Ny(e),i!==0&&(r=i,t=Zy(e,i))),t===1)throw n=jf,ec(e,0),Ho(e,r),ta(e,Er()),n;if(t===6)Ho(e,r);else{if(i=e.current.alternate,!(r&30)&&!Bz(i)&&(t=Lp(e,r),t===2&&(a=Ny(e),a!==0&&(r=a,t=Zy(e,a))),t===1))throw n=jf,ec(e,0),Ho(e,r),ta(e,Er()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Ge(345));case 2:Fl(e,Xi,Ks);break;case 3:if(Ho(e,r),(r&130023424)===r&&(t=f1+500-Er(),10<t)){if(xp(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Bi(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=My(Fl.bind(null,e,Xi,Ks),t);break}Fl(e,Xi,Ks);break;case 4:if(Ho(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-us(r);a=1<<s,s=t[s],s>i&&(i=s),r&=~a}if(r=i,r=Er()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Rz(r/1960))-r,10<r){e.timeoutHandle=My(Fl.bind(null,e,Xi,Ks),r);break}Fl(e,Xi,Ks);break;case 5:Fl(e,Xi,Ks);break;default:throw Error(Ge(329))}}}return ta(e,Er()),e.callbackNode===n?JM.bind(null,e):null}function Zy(e,t){var n=Zd;return e.current.memoizedState.isDehydrated&&(ec(e,t).flags|=256),e=Lp(e,t),e!==2&&(t=Xi,Xi=n,t!==null&&Jy(t)),e}function Jy(e){Xi===null?Xi=e:Xi.push.apply(Xi,e)}function Bz(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!hs(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ho(e,t){for(t&=~d1,t&=~a0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-us(t),r=1<<n;e[n]=-1,t&=~r}}function G2(e){if(Sn&6)throw Error(Ge(327));Nu();var t=xp(e,0);if(!(t&1))return ta(e,Er()),null;var n=Lp(e,t);if(e.tag!==0&&n===2){var r=Ny(e);r!==0&&(t=r,n=Zy(e,r))}if(n===1)throw n=jf,ec(e,0),Ho(e,t),ta(e,Er()),n;if(n===6)throw Error(Ge(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fl(e,Xi,Ks),ta(e,Er()),null}function m1(e,t){var n=Sn;Sn|=1;try{return e(t)}finally{Sn=n,Sn===0&&(_u=Er()+500,t0&&gl())}}function fc(e){Go!==null&&Go.tag===0&&!(Sn&6)&&Nu();var t=Sn;Sn|=1;var n=Wa.transition,r=Ln;try{if(Wa.transition=null,Ln=1,e)return e()}finally{Ln=r,Wa.transition=n,Sn=t,!(Sn&6)&&gl()}}function h1(){pa=fu.current,ir(fu)}function ec(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,gz(n)),Lr!==null)for(n=Lr.return;n!==null;){var r=n;switch(Gw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Sp();break;case 3:Ou(),ir(Ji),ir(Ei),r1();break;case 5:n1(r);break;case 4:Ou();break;case 13:ir(pr);break;case 19:ir(pr);break;case 10:Zw(r.type._context);break;case 22:case 23:h1()}n=n.return}if(ti=e,Lr=e=il(e.current,null),pi=pa=t,Vr=0,jf=null,d1=a0=dc=0,Xi=Zd=null,ql!==null){for(t=0;t<ql.length;t++)if(n=ql[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}ql=null}return e}function eO(e,t){do{var n=Lr;try{if(Qw(),Gh.current=Mp,Dp){for(var r=xr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Dp=!1}if(uc=0,ei=zr=xr=null,Xd=!1,Sf=0,u1.current=null,n===null||n.return===null){Vr=1,jf=t,Lr=null;break}e:{var a=e,s=n.return,o=n,l=t;if(t=pi,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=_2(s);if(m!==null){m.flags&=-257,L2(m,s,o,a,t),m.mode&1&&I2(a,c,t),t=m,l=c;var p=t.updateQueue;if(p===null){var g=new Set;g.add(l),t.updateQueue=g}else p.add(l);break e}else{if(!(t&1)){I2(a,c,t),p1();break e}l=Error(Ge(426))}}else if(cr&&o.mode&1){var y=_2(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),L2(y,s,o,a,t),Yw(Iu(l,o));break e}}a=l=Iu(l,o),Vr!==4&&(Vr=2),Zd===null?Zd=[a]:Zd.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=$M(a,l,t);P2(a,v);break e;case 1:o=l;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(nl===null||!nl.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=FM(a,o,t);P2(a,S);break e}}a=a.return}while(a!==null)}rO(n)}catch(C){t=C,Lr===n&&n!==null&&(Lr=n=n.return);continue}break}while(!0)}function tO(){var e=Op.current;return Op.current=Mp,e===null?Mp:e}function p1(){(Vr===0||Vr===3||Vr===2)&&(Vr=4),ti===null||!(dc&268435455)&&!(a0&268435455)||Ho(ti,pi)}function Lp(e,t){var n=Sn;Sn|=2;var r=tO();(ti!==e||pi!==t)&&(Ks=null,ec(e,t));do try{zz();break}catch(i){eO(e,i)}while(!0);if(Qw(),Sn=n,Op.current=r,Lr!==null)throw Error(Ge(261));return ti=null,pi=0,Vr}function zz(){for(;Lr!==null;)nO(Lr)}function Uz(){for(;Lr!==null&&!mB();)nO(Lr)}function nO(e){var t=aO(e.alternate,e,pa);e.memoizedProps=e.pendingProps,t===null?rO(e):Lr=t,u1.current=null}function rO(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=_z(n,t),n!==null){n.flags&=32767,Lr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Vr=6,Lr=null;return}}else if(n=Iz(n,t,pa),n!==null){Lr=n;return}if(t=t.sibling,t!==null){Lr=t;return}Lr=t=e}while(t!==null);Vr===0&&(Vr=5)}function Fl(e,t,n){var r=Ln,i=Wa.transition;try{Wa.transition=null,Ln=1,Vz(e,t,n,r)}finally{Wa.transition=i,Ln=r}return null}function Vz(e,t,n,r){do Nu();while(Go!==null);if(Sn&6)throw Error(Ge(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ge(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(SB(e,a),e===ti&&(Lr=ti=null,pi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hh||(hh=!0,sO(vp,function(){return Nu(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Wa.transition,Wa.transition=null;var s=Ln;Ln=1;var o=Sn;Sn|=4,u1.current=null,$z(e,n),QM(n,e),cz(Ey),yp=!!Ty,Ey=Ty=null,e.current=n,Fz(n),hB(),Sn=o,Ln=s,Wa.transition=a}else e.current=n;if(hh&&(hh=!1,Go=e,_p=i),a=e.pendingLanes,a===0&&(nl=null),vB(n.stateNode),ta(e,Er()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ip)throw Ip=!1,e=Xy,Xy=null,e;return _p&1&&e.tag!==0&&Nu(),a=e.pendingLanes,a&1?e===Qy?Jd++:(Jd=0,Qy=e):Jd=0,gl(),null}function Nu(){if(Go!==null){var e=$D(_p),t=Wa.transition,n=Ln;try{if(Wa.transition=null,Ln=16>e?16:e,Go===null)var r=!1;else{if(e=Go,Go=null,_p=0,Sn&6)throw Error(Ge(331));var i=Sn;for(Sn|=4,vt=e.current;vt!==null;){var a=vt,s=a.child;if(vt.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(vt=c;vt!==null;){var d=vt;switch(d.tag){case 0:case 11:case 15:Qd(8,d,a)}var f=d.child;if(f!==null)f.return=d,vt=f;else for(;vt!==null;){d=vt;var h=d.sibling,m=d.return;if(GM(d),d===c){vt=null;break}if(h!==null){h.return=m,vt=h;break}vt=m}}}var p=a.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}vt=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,vt=s;else e:for(;vt!==null;){if(a=vt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Qd(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,vt=v;break e}vt=a.return}}var b=e.current;for(vt=b;vt!==null;){s=vt;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,vt=w;else e:for(s=b;vt!==null;){if(o=vt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:i0(9,o)}}catch(C){Cr(o,o.return,C)}if(o===s){vt=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,vt=S;break e}vt=o.return}}if(Sn=i,gl(),Is&&typeof Is.onPostCommitFiberRoot=="function")try{Is.onPostCommitFiberRoot(Xg,e)}catch{}r=!0}return r}finally{Ln=n,Wa.transition=t}}return!1}function Y2(e,t,n){t=Iu(n,t),t=$M(e,t,1),e=tl(e,t,1),t=Bi(),e!==null&&(nm(e,1,t),ta(e,t))}function Cr(e,t,n){if(e.tag===3)Y2(e,e,n);else for(;t!==null;){if(t.tag===3){Y2(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(nl===null||!nl.has(r))){e=Iu(n,e),e=FM(t,e,1),t=tl(t,e,1),e=Bi(),t!==null&&(nm(t,1,e),ta(t,e));break}}t=t.return}}function Wz(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Bi(),e.pingedLanes|=e.suspendedLanes&n,ti===e&&(pi&n)===n&&(Vr===4||Vr===3&&(pi&130023424)===pi&&500>Er()-f1?ec(e,0):d1|=n),ta(e,t)}function iO(e,t){t===0&&(e.mode&1?(t=ih,ih<<=1,!(ih&130023424)&&(ih=4194304)):t=1);var n=Bi();e=fo(e,t),e!==null&&(nm(e,t,n),ta(e,n))}function Hz(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),iO(e,n)}function qz(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ge(314))}r!==null&&r.delete(t),iO(e,n)}var aO;aO=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ji.current)Qi=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Qi=!1,Oz(e,t,n);Qi=!!(e.flags&131072)}else Qi=!1,cr&&t.flags&1048576&&cM(t,jp,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Xh(e,t),e=t.pendingProps;var i=Eu(t,Ei.current);Su(t,n),i=a1(null,t,r,e,i,n);var a=s1();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ea(r)?(a=!0,Np(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,e1(t),i.updater=r0,t.stateNode=i,i._reactInternals=t,Ry(t,r,e,n),t=Uy(null,t,r,!0,a,n)):(t.tag=0,cr&&a&&Kw(t),$i(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Xh(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Gz(r),e=is(r,e),i){case 0:t=zy(null,t,r,e,n);break e;case 1:t=R2(null,t,r,e,n);break e;case 11:t=$2(null,t,r,e,n);break e;case 14:t=F2(null,t,r,is(r.type,e),n);break e}throw Error(Ge(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:is(r,i),zy(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:is(r,i),R2(e,t,r,i,n);case 3:e:{if(UM(t),e===null)throw Error(Ge(387));r=t.pendingProps,a=t.memoizedState,i=a.element,pM(e,t),Tp(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Iu(Error(Ge(423)),t),t=B2(e,t,r,n,i);break e}else if(r!==i){i=Iu(Error(Ge(424)),t),t=B2(e,t,r,n,i);break e}else for(xa=el(t.stateNode.containerInfo.firstChild),ba=t,cr=!0,ss=null,n=mM(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Du(),r===i){t=mo(e,t,n);break e}$i(e,t,r,n)}t=t.child}return t;case 5:return gM(t),e===null&&Ly(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,Dy(r,i)?s=null:a!==null&&Dy(r,a)&&(t.flags|=32),zM(e,t),$i(e,t,s,n),t.child;case 6:return e===null&&Ly(t),null;case 13:return VM(e,t,n);case 4:return t1(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Mu(t,null,r,n):$i(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:is(r,i),$2(e,t,r,i,n);case 7:return $i(e,t,t.pendingProps,n),t.child;case 8:return $i(e,t,t.pendingProps.children,n),t.child;case 12:return $i(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Yn(Ap,r._currentValue),r._currentValue=s,a!==null)if(hs(a.value,s)){if(a.children===i.children&&!Ji.current){t=mo(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=io(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),$y(a.return,n,t),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(Ge(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),$y(s,n,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}$i(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Su(t,n),i=Ha(i),r=r(i),t.flags|=1,$i(e,t,r,n),t.child;case 14:return r=t.type,i=is(r,t.pendingProps),i=is(r.type,i),F2(e,t,r,i,n);case 15:return RM(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:is(r,i),Xh(e,t),t.tag=1,ea(r)?(e=!0,Np(t)):e=!1,Su(t,n),LM(t,r,i),Ry(t,r,i,n),Uy(null,t,r,!0,e,n);case 19:return WM(e,t,n);case 22:return BM(e,t,n)}throw Error(Ge(156,t.tag))};function sO(e,t){return OD(e,t)}function Kz(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ua(e,t,n,r){return new Kz(e,t,n,r)}function g1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gz(e){if(typeof e=="function")return g1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_w)return 11;if(e===Lw)return 14}return 2}function il(e,t){var n=e.alternate;return n===null?(n=Ua(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Jh(e,t,n,r,i,a){var s=2;if(r=e,typeof e=="function")g1(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case nu:return tc(n.children,i,a,t);case Iw:s=8,i|=8;break;case cy:return e=Ua(12,n,t,i|2),e.elementType=cy,e.lanes=a,e;case uy:return e=Ua(13,n,t,i),e.elementType=uy,e.lanes=a,e;case dy:return e=Ua(19,n,t,i),e.elementType=dy,e.lanes=a,e;case gD:return s0(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case hD:s=10;break e;case pD:s=9;break e;case _w:s=11;break e;case Lw:s=14;break e;case Ro:s=16,r=null;break e}throw Error(Ge(130,e==null?e:typeof e,""))}return t=Ua(s,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function tc(e,t,n,r){return e=Ua(7,e,r,t),e.lanes=n,e}function s0(e,t,n,r){return e=Ua(22,e,r,t),e.elementType=gD,e.lanes=n,e.stateNode={isHidden:!1},e}function tx(e,t,n){return e=Ua(6,e,null,t),e.lanes=n,e}function nx(e,t,n){return t=Ua(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yz(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lv(0),this.expirationTimes=Lv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function v1(e,t,n,r,i,a,s,o,l){return e=new Yz(e,t,n,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ua(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},e1(a),e}function Xz(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tu,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function oO(e){if(!e)return cl;e=e._reactInternals;e:{if(Cc(e)!==e||e.tag!==1)throw Error(Ge(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ea(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ge(171))}if(e.tag===1){var n=e.type;if(ea(n))return oM(e,n,t)}return t}function lO(e,t,n,r,i,a,s,o,l){return e=v1(n,r,!0,e,i,a,s,o,l),e.context=oO(null),n=e.current,r=Bi(),i=rl(n),a=io(r,i),a.callback=t??null,tl(n,a,i),e.current.lanes=i,nm(e,i,r),ta(e,r),e}function o0(e,t,n,r){var i=t.current,a=Bi(),s=rl(i);return n=oO(n),t.context===null?t.context=n:t.pendingContext=n,t=io(a,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=tl(i,t,s),e!==null&&(ds(e,i,s,a),Kh(e,i,s)),s}function $p(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function X2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function x1(e,t){X2(e,t),(e=e.alternate)&&X2(e,t)}function Qz(){return null}var cO=typeof reportError=="function"?reportError:function(e){console.error(e)};function y1(e){this._internalRoot=e}l0.prototype.render=y1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ge(409));o0(e,t,null,null)};l0.prototype.unmount=y1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fc(function(){o0(null,e,null,null)}),t[uo]=null}};function l0(e){this._internalRoot=e}l0.prototype.unstable_scheduleHydration=function(e){if(e){var t=BD();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Wo.length&&t!==0&&t<Wo[n].priority;n++);Wo.splice(n,0,e),n===0&&UD(e)}};function b1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Q2(){}function Zz(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=$p(s);a.call(c)}}var s=lO(t,r,e,0,null,!1,!1,"",Q2);return e._reactRootContainer=s,e[uo]=s.current,xf(e.nodeType===8?e.parentNode:e),fc(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=$p(l);o.call(c)}}var l=v1(e,0,!1,null,null,!1,!1,"",Q2);return e._reactRootContainer=l,e[uo]=l.current,xf(e.nodeType===8?e.parentNode:e),fc(function(){o0(t,l,n,r)}),l}function u0(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=$p(s);o.call(l)}}o0(t,s,e,i)}else s=Zz(n,t,e,i,r);return $p(s)}FD=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Rd(t.pendingLanes);n!==0&&(Rw(t,n|1),ta(t,Er()),!(Sn&6)&&(_u=Er()+500,gl()))}break;case 13:fc(function(){var r=fo(e,1);if(r!==null){var i=Bi();ds(r,e,1,i)}}),x1(e,1)}};Bw=function(e){if(e.tag===13){var t=fo(e,134217728);if(t!==null){var n=Bi();ds(t,e,134217728,n)}x1(e,134217728)}};RD=function(e){if(e.tag===13){var t=rl(e),n=fo(e,t);if(n!==null){var r=Bi();ds(n,e,t,r)}x1(e,t)}};BD=function(){return Ln};zD=function(e,t){var n=Ln;try{return Ln=e,t()}finally{Ln=n}};wy=function(e,t,n){switch(t){case"input":if(hy(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=e0(r);if(!i)throw Error(Ge(90));xD(r),hy(r,i)}}}break;case"textarea":bD(e,n);break;case"select":t=n.value,t!=null&&yu(e,!!n.multiple,t,!1)}};AD=m1;PD=fc;var Jz={usingClientEntryPoint:!1,Events:[im,su,e0,CD,jD,m1]},Sd={findFiberByHostInstance:Hl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},e6={bundleType:Sd.bundleType,version:Sd.version,rendererPackageName:Sd.rendererPackageName,rendererConfig:Sd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=DD(e),e===null?null:e.stateNode},findFiberByHostInstance:Sd.findFiberByHostInstance||Qz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ph.isDisabled&&ph.supportsFiber)try{Xg=ph.inject(e6),Is=ph}catch{}}Aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jz;Aa.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b1(t))throw Error(Ge(200));return Xz(e,t,null,n)};Aa.createRoot=function(e,t){if(!b1(e))throw Error(Ge(299));var n=!1,r="",i=cO;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=v1(e,1,!1,null,null,n,!1,r,i),e[uo]=t.current,xf(e.nodeType===8?e.parentNode:e),new y1(t)};Aa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ge(188)):(e=Object.keys(e).join(","),Error(Ge(268,e)));return e=DD(t),e=e===null?null:e.stateNode,e};Aa.flushSync=function(e){return fc(e)};Aa.hydrate=function(e,t,n){if(!c0(t))throw Error(Ge(200));return u0(null,e,t,!0,n)};Aa.hydrateRoot=function(e,t,n){if(!b1(e))throw Error(Ge(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=cO;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=lO(t,null,e,1,n??null,i,!1,a,s),e[uo]=t.current,xf(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new l0(t)};Aa.render=function(e,t,n){if(!c0(t))throw Error(Ge(200));return u0(null,e,t,!1,n)};Aa.unmountComponentAtNode=function(e){if(!c0(e))throw Error(Ge(40));return e._reactRootContainer?(fc(function(){u0(null,null,e,!1,function(){e._reactRootContainer=null,e[uo]=null})}),!0):!1};Aa.unstable_batchedUpdates=m1;Aa.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!c0(n))throw Error(Ge(200));if(e==null||e._reactInternals===void 0)throw Error(Ge(38));return u0(e,t,n,!1,r)};Aa.version="18.3.1-next-f1338f8080-20240426";function uO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uO)}catch(e){console.error(e)}}uO(),uD.exports=Aa;var Ju=uD.exports,Z2=Ju;oy.createRoot=Z2.createRoot,oy.hydrateRoot=Z2.hydrateRoot;const t6=new Set(["Vulnerability","Weakness","Blind","Cripple","Chill","Immobilize","Slow","Fear","Taunt"]),dO=[{id:"damage",label:"Damage",field:"damage",source:"dpsAll"},{id:"directDmg",label:"Direct Damage",field:"directDmg",source:"statsTargets"},{id:"connectedDamageCount",label:"Connected Damage Count",field:"connectedDamageCount",source:"statsTargets"},{id:"connectedDirectDamageCount",label:"Connected Direct Damage Count",field:"connectedDirectDamageCount",source:"statsTargets"},{id:"battleStandardHits",label:"Battle Standard Tracking"},{id:"criticalRate",label:"Critical Rate",field:"criticalRate",isRate:!0,isPercent:!0,denomField:"critableDirectDamageCount",source:"statsTargets"},{id:"criticalDmg",label:"Critical Damage",field:"criticalDmg",source:"statsTargets"},{id:"flankingRate",label:"Flanking Rate",field:"flankingRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"glanceRate",label:"Glance Rate",field:"glanceRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"missed",label:"Missed",field:"missed",source:"statsTargets"},{id:"evaded",label:"Evaded (enemy)",field:"evaded",source:"statsTargets"},{id:"blocked",label:"Blocked (enemy)",field:"blocked",source:"statsTargets"},{id:"interrupts",label:"Interrupts",field:"interrupts",source:"statsTargets"},{id:"invulned",label:"Invulned",field:"invulned",source:"statsTargets"},{id:"killed",label:"Killed",field:"killed",source:"statsTargets"},{id:"downed",label:"Downed",field:"downed",source:"statsTargets"},{id:"downContribution",label:"Down Contribution",field:"downContribution",source:"statsTargets"},{id:"downContributionPercent",label:"Down Contribution %",isRate:!0,isPercent:!0},{id:"againstDownedDamage",label:"Against Downed Damage",field:"againstDownedDamage",source:"statsTargets"},{id:"appliedCrowdControl",label:"Applied CC",field:"appliedCrowdControl",source:"statsTargets"},{id:"appliedCrowdControlDuration",label:"Applied CC Duration",field:"appliedCrowdControlDuration",source:"statsTargets"},{id:"appliedCrowdControlDownContribution",label:"Applied CC Down Contribution",field:"appliedCrowdControlDownContribution",source:"statsTargets"},{id:"appliedCrowdControlDurationDownContribution",label:"Applied CC Duration Down Contribution",field:"appliedCrowdControlDurationDownContribution",source:"statsTargets"},{id:"boonStrips",label:"Boon Strips",field:"boonStrips",source:"support"}],fO=[{id:"damageTaken",label:"Damage Taken",field:"damageTaken"},{id:"damageTakenCount",label:"Damage Taken Count",field:"damageTakenCount"},{id:"conditionDamageTaken",label:"Condition Damage Taken",field:"conditionDamageTaken"},{id:"conditionDamageTakenCount",label:"Condition Damage Taken Count",field:"conditionDamageTakenCount"},{id:"powerDamageTaken",label:"Power Damage Taken",field:"powerDamageTaken"},{id:"powerDamageTakenCount",label:"Power Damage Taken Count",field:"powerDamageTakenCount"},{id:"downedDamageTaken",label:"Downed Damage Taken",field:"downedDamageTaken"},{id:"downedDamageTakenCount",label:"Downed Damage Taken Count",field:"downedDamageTakenCount"},{id:"damageBarrier",label:"Damage Barrier",field:"damageBarrier"},{id:"damageBarrierCount",label:"Damage Barrier Count",field:"damageBarrierCount"},{id:"blockedCount",label:"Blocked Count",field:"blockedCount"},{id:"evadedCount",label:"Evaded Count",field:"evadedCount"},{id:"missedCount",label:"Missed Count",field:"missedCount"},{id:"dodgeCount",label:"Dodge Count",field:"dodgeCount"},{id:"invulnedCount",label:"Invulnerable Count",field:"invulnedCount"},{id:"interruptedCount",label:"Interrupted Count",field:"interruptedCount"},{id:"downCount",label:"Down Count",field:"downCount"},{id:"deadCount",label:"Death Count",field:"deadCount"},{id:"boonStrips",label:"Boon Strips (Incoming)",field:"boonStrips"},{id:"conditionCleanses",label:"Cleanses (Incoming)",field:"conditionCleanses"},{id:"receivedCrowdControl",label:"Crowd Control (Incoming)",field:"receivedCrowdControl"}],n6=[{id:"totalHits",label:"Total Hits"},{id:"evaded",label:"Evaded"},{id:"blocked",label:"Blocked"},{id:"glanced",label:"Glanced"},{id:"missed",label:"Missed"},{id:"invulned",label:"Invulned"},{id:"interrupted",label:"Interrupted"},{id:"totalMitigation",label:"Damage Mitigation"},{id:"minMitigation",label:"Min Damage Mitigation"}],mO=[{id:"condiCleanse",label:"Condition Cleanses",field:"condiCleanse"},{id:"condiCleanseTime",label:"Condition Cleanse Time",field:"condiCleanseTime",isTime:!0},{id:"condiCleanseSelf",label:"Condition Cleanse Self",field:"condiCleanseSelf"},{id:"condiCleanseTimeSelf",label:"Condition Cleanse Time Self",field:"condiCleanseTimeSelf",isTime:!0},{id:"boonStrips",label:"Boon Strips",field:"boonStrips"},{id:"boonStripsTime",label:"Boon Strips Time",field:"boonStripsTime",isTime:!0},{id:"boonStripDownContribution",label:"Boon Strip Down Contribution",field:"boonStripDownContribution"},{id:"boonStripDownContributionTime",label:"Boon Strip Down Contribution Time",field:"boonStripDownContributionTime",isTime:!0},{id:"stunBreak",label:"Stun Breaks",field:"stunBreak"},{id:"removedStunDuration",label:"Removed Stun Duration",field:"removedStunDuration",isTime:!0},{id:"resurrects",label:"Resurrects",field:"resurrects"},{id:"resurrectTime",label:"Resurrect Time",field:"resurrectTime",isTime:!0}],r6=[{id:"healing",label:"Healing",baseField:"healing",perSecond:!1,decimals:0},{id:"healingPerSecond",label:"Healing Per Second",baseField:"healing",perSecond:!0,decimals:2},{id:"barrier",label:"Barrier",baseField:"barrier",perSecond:!1,decimals:0},{id:"barrierPerSecond",label:"Barrier Per Second",baseField:"barrier",perSecond:!0,decimals:2},{id:"downedHealing",label:"Downed Healing",baseField:"downedHealing",perSecond:!1,decimals:0},{id:"downedHealingPerSecond",label:"Downed Healing Per Second",baseField:"downedHealing",perSecond:!0,decimals:1},{id:"resUtility",label:"Resurrect Utility",baseField:"resUtility",perSecond:!1,decimals:0}],i6=["battle standard","glyph of renewal","glyph of the stars","illusion of life","spirit of nature","nature spirit","search and rescue","signet of mercy"],a6=new Set([10244]),s6=(e,t)=>{var i;if(a6.has(e))return!0;const n=(t==null?void 0:t[`s${e}`])||(t==null?void 0:t[`${e}`]),r=((i=n==null?void 0:n.name)==null?void 0:i.toLowerCase())||"";return i6.some(a=>r.includes(a))},o6=e=>{const t=e.toLowerCase();return t.includes("autoattack")||t.includes("auto attack")},gh=e=>{if(!e||!Number.isFinite(e))return"--:--";const t=Math.max(0,Math.round(e/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),i=t%60;return n>0?`${n}:${String(r).padStart(2,"0")}:${String(i).padStart(2,"0")}`:`${r}:${String(i).padStart(2,"0")}`},hO=()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(max-width: 640px)").matches,pO=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e),n=e<0?"-":"";if(t>=1e6){const i=(t/1e6).toFixed(2).replace(/\.?0+$/,"");return`${n}${i}m`}if(t>=1e4){const i=(t/1e3).toFixed(0);return`${n}${i}k`}return`${e.toLocaleString()}`},ha=(e,t=2)=>Number.isFinite(e)?hO()&&Math.abs(e)>=1e4?pO(e):e.toLocaleString(void 0,{minimumFractionDigits:t,maximumFractionDigits:t}):"--",$o=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e);return hO()&&t>=1e4?pO(e):t>=1e6?`${(e/1e6).toFixed(2).replace(/\.?0+$/,"")}m`:Math.round(e).toLocaleString()};var l6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const c6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tn=(e,t)=>{const n=x.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,children:o,...l},c)=>x.createElement("svg",{ref:c,...l6,width:i,height:i,stroke:r,strokeWidth:s?Number(a)*24/Number(i):a,className:`lucide lucide-${c6(e)}`,...l},[...t.map(([d,f])=>x.createElement(d,f)),...(Array.isArray(o)?o:[o])||[]]));return n.displayName=`${e}`,n},gO=tn("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),u6=tn("ArrowBigDown",[["path",{d:"M15 6v6h4l-7 7-7-7h4V6h6z",key:"1thax2"}]]),w1=tn("ArrowBigUp",[["path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z",key:"1x06kx"}]]),vO=tn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),d6=tn("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),f6=tn("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),xO=tn("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),eb=tn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),m6=tn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),ps=tn("Columns",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"12",x2:"12",y1:"3",y2:"21",key:"1efggb"}]]),h6=tn("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]),p6=tn("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),g6=tn("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Af=tn("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),v6=tn("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),k1=tn("GitCompareArrows",[["circle",{cx:"5",cy:"6",r:"3",key:"1qnov2"}],["path",{d:"M12 6h5a2 2 0 0 1 2 2v7",key:"1yj91y"}],["path",{d:"m15 9-3-3 3-3",key:"1lwv8l"}],["circle",{cx:"19",cy:"18",r:"3",key:"1qljk2"}],["path",{d:"M12 18H7a2 2 0 0 1-2-2V9",key:"16sdep"}],["path",{d:"m9 15 3 3-3 3",key:"1m3kbl"}]]),x6=tn("Hammer",[["path",{d:"m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9",key:"1afvon"}],["path",{d:"M17.64 15 22 10.64",key:"zsji6s"}],["path",{d:"m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 0 0-3.94-1.64H9l.92.82A6.18 6.18 0 0 1 12 8.4v1.56l2 2h2.47l2.26 1.91",key:"lehyy1"}]]),yO=tn("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]),y6=tn("HelpingHand",[["path",{d:"m3 15 5.12-5.12A3 3 0 0 1 10.24 9H13a2 2 0 1 1 0 4h-2.5m4-.68 4.17-4.89a1.88 1.88 0 0 1 2.92 2.36l-4.2 5.94A3 3 0 0 1 14.96 17H9.83a2 2 0 0 0-1.42.59L7 19",key:"nitrv7"}],["path",{d:"m2 14 6 6",key:"g6j1uo"}]]),S1=tn("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]),b6=tn("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),N1=tn("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]),w6=tn("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),C1=tn("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),aa=tn("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),J2=tn("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),k6=tn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),S6=tn("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),N6=tn("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),bO=tn("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Lu=tn("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),d0=tn("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]),f0=tn("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Fp=tn("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),C6=tn("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]),Yo=tn("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]),nc=tn("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),j6=tn("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),Ar=tn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),A6=tn("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),wO=tn("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Hi=tn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Pf=tn("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),j1=({className:e})=>u.jsx(k6,{className:e,strokeWidth:3.2}),sm=e=>{if(typeof window<"u"&&(window.location.pathname||"").includes("/web/web/"))return`../${e.replace(/^\/+/,"")}`;const t="./",n=t.endsWith("/")?t:`${t}/`,r=e.replace(/^\/+/,"");return`${n}${r}`},A1=({className:e=""})=>{const t=sm("svg/custom-icons/mouse.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},P1=({className:e=""})=>{const t=sm("svg/custom-icons/gw2_boon.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},T1=({className:e=""})=>{const t=sm("svg/custom-icons/dam_mit.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},E1=({className:e=""})=>{const t=sm("svg/custom-icons/gw2_sigil.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},P6=[{id:"overview",label:"Overview",icon:nc,sectionIds:["overview","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","squad-composition","timeline","map-distribution"],items:[{id:"overview",label:"Overview",icon:nc},{id:"fight-breakdown",label:"Fight Breakdown",icon:Yo},{id:"top-players",label:"Top Players",icon:nc},{id:"top-skills-outgoing",label:"Top Skills",icon:w1},{id:"squad-composition",label:"Classes",icon:Ar},{id:"timeline",label:"Squad vs Enemy",icon:Ar},{id:"map-distribution",label:"Map Distribution",icon:C1}]},{id:"roster",label:"Roster Intel",icon:Af,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance Ledger",icon:Af},{id:"squad-comp-fight",label:"Squad Comp by Fight",icon:Ar},{id:"fight-comp",label:"Fight Comp",icon:Yo}]},{id:"offense",label:"Offensive Stats",icon:Yo,sectionIds:["offense-detailed","player-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:Yo},{id:"player-breakdown",label:"Player Breakdown",icon:N1},{id:"spike-damage",label:"Spike Damage",icon:Pf},{id:"conditions-outgoing",label:"Conditions",icon:d0}]},{id:"defense",label:"Defensive Stats",icon:Lu,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","support-detailed","healing-stats","boon-output"],items:[{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:N6},{id:"defense-detailed",label:"Defense Detailed",icon:Lu},{id:"defense-mitigation",label:"Damage Mitigation",icon:T1},{id:"support-detailed",label:"Support Detailed",icon:j1},{id:"healing-stats",label:"Healing Stats",icon:yO},{id:"boon-output",label:"Boon Output",icon:P1}]},{id:"other",label:"Other Metrics",icon:Fp,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:k1},{id:"special-buffs",label:"Special Buffs",icon:Fp},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:E1},{id:"skill-usage",label:"Skill Usage",icon:S1},{id:"apm-stats",label:"APM Breakdown",icon:A1}]}],T6=(e,t=!0)=>{const[n,r]=x.useState(!1),[i,a]=x.useState("overview"),s=x.useRef(null),o=x.useRef(null),l=x.useRef(0),c=x.useMemo(()=>P6,[]),d=x.useMemo(()=>c.flatMap(m=>m.items),[c]),f=m=>{const p=m==="kdr"?"overview":m,g=s.current,y=document.getElementById(p);if(g&&y){const v=g.getBoundingClientRect(),w=y.getBoundingClientRect().top-v.top+g.scrollTop,S=Math.max(0,g.scrollHeight-g.clientHeight),C=Math.min(Math.max(w-16,0),S);g.scrollTo({top:C,behavior:"smooth"}),a(p)}else y&&(y.scrollIntoView({behavior:"smooth",block:"start"}),a(p));r(!1)};x.useEffect(()=>{if(e)return;const m=p=>{const g=s.current;if(!g)return;const y=p.target;if(!(y instanceof Element&&y.closest("[data-stats-mobile-nav]"))&&!(y instanceof Node&&g.contains(y))&&p.deltaY!==0&&!(g.scrollHeight<=g.clientHeight)){if(l.current+=p.deltaY,o.current===null){const v=()=>{const b=l.current;if(Math.abs(b)<.5){l.current=0,o.current=null;return}const w=b*.2;l.current=b-w,g.scrollBy({top:w,behavior:"auto"}),o.current=requestAnimationFrame(v)};o.current=requestAnimationFrame(v)}p.preventDefault()}};return window.addEventListener("wheel",m,{passive:!1}),()=>{window.removeEventListener("wheel",m),o.current!==null&&(cancelAnimationFrame(o.current),o.current=null),l.current=0}},[e]);const h=m=>{var v;const p=Math.max(0,d.findIndex(b=>b.id===i)),g=Math.min(Math.max(p+m,0),d.length-1),y=(v=d[g])==null?void 0:v.id;y&&f(y)};return x.useEffect(()=>{if(!t)return;const m=s.current;if(!m)return;let p=0;const g=()=>{var w;const v=m.getBoundingClientRect().top;let b=((w=d[0])==null?void 0:w.id)||"overview";d.forEach(S=>{const C=document.getElementById(S.id);if(!C)return;C.getBoundingClientRect().top-v<=24&&(b=S.id)}),a(S=>S===b?S:b)},y=()=>{p&&cancelAnimationFrame(p),p=requestAnimationFrame(g)};return g(),m.addEventListener("scroll",y,{passive:!0}),window.addEventListener("resize",y),()=>{p&&cancelAnimationFrame(p),m.removeEventListener("scroll",y),window.removeEventListener("resize",y)}},[d,t]),{mobileNavOpen:n,setMobileNavOpen:r,activeNavId:i,setActiveNavId:a,scrollContainerRef:s,tocGroups:c,tocItems:d,scrollToSection:f,stepSection:h}},eC=["selfBuffs","groupBuffs","squadBuffs"],qs=(e,t,n=0)=>t?e/t:n,tC=e=>e!=null&&e.classification?e.classification==="Boon":!0,kO=e=>`b${e}`,E6=(e,t)=>{const n=Array.isArray(e==null?void 0:e.activeTimes)?e.activeTimes:[],r=typeof n[0]=="number"?n[0]:0;return r>0?r:t},SO=(e,t,n,r,i,a,s)=>{const o=e==="selfBuffs"?1:Math.max(e==="groupBuffs"?a-1:s-1,0);return!o||!i?{generationMs:0,wastedMs:0}:t?{generationMs:n*i*o,wastedMs:r*i*o}:{generationMs:n/100*i*o,wastedMs:r/100*i*o}},D6=(e,t,n)=>{const r=e.activeTimeMs||1,i=e.numFights||1,a=e.groupSupported||1,s=e.squadSupported||1,o=e.categories.selfBuffs,l=e.categories.squadBuffs,c=t==="totalBuffs"?{generationMs:o.generationMs+l.generationMs,wastedMs:o.wastedMs+l.wastedMs}:e.categories[t],d=c.generationMs,f=c.wastedMs;let h=1;t==="groupBuffs"?h=qs(a-i,i,1):t==="squadBuffs"?h=qs(s-i,i,1):t==="totalBuffs"&&(h=s);let m=0,p=0;if(t==="selfBuffs")m=n?qs(d,r):qs(d,r)*100,p=n?qs(f,r):qs(f,r)*100;else{const g=qs(d,r)/(h||1),y=qs(f,r)/(h||1);m=n?g:g*100,p=n?y:y*100}return{generationMs:d,wastedMs:f,uptimeRaw:m,wastedRaw:p}},NO=(e,t,n,r)=>{const{generationMs:i,uptimeRaw:a}=D6(e,t,n),s=e.activeTimeMs||1;return r==="total"?i/1e3:r==="average"?qs(i,s):a},M6=(e,t,n,r,i)=>{const a=NO(e,t,n,r),s=r==="uptime"&&!n,o=r==="average",l=i!=null&&i.roundCountStats&&!s&&!o?0:2,c=a.toLocaleString(void 0,{minimumFractionDigits:l,maximumFractionDigits:l});return s?`${c}%`:c},O6=e=>{const t=new Map,n=new Map;return e.forEach(a=>{const s=a.details;if(!s)return;const o=s.durationMS||0,l=s.buffMap||{};Object.entries(l).forEach(([m,p])=>{if(!t.has(m)){t.set(m,p);return}const g=t.get(m)||{},y={name:g.name||p.name,stacking:g.stacking??p.stacking,icon:g.icon||p.icon,classification:g.classification||p.classification};t.set(m,y)});const d=(s.players||[]).filter(m=>!m.notInSquad),f=d.length,h=new Map;d.forEach(m=>{const p=m.group??0;h.set(p,(h.get(p)||0)+1)}),d.forEach(m=>{const p=m.account||m.name||m.character_name||"Unknown",g=m.profession||"Unknown",y=m.group??0,v=h.get(y)||1,b=E6(m,o);n.has(p)||n.set(p,{account:p,profession:g,professions:new Set,professionTimeMs:{},activeTimeMs:0,numFights:0,groupSupported:0,squadSupported:0,boons:{}});const w=n.get(p);w.profession=g,g!=="Unknown"&&(w.professions.add(g),w.professionTimeMs[g]=(w.professionTimeMs[g]||0)+b),w.activeTimeMs+=b,w.numFights+=1,w.groupSupported+=v,w.squadSupported+=f,eC.forEach(S=>{(m[S]||[]).forEach(N=>{var Q,re,ce,K;if(typeof(N==null?void 0:N.id)!="number")return;const A=kO(N.id),E=l[A];if(!tC(E))return;const $=(E==null?void 0:E.stacking)??!1,T=((re=(Q=N.buffData)==null?void 0:Q[0])==null?void 0:re.generation)??0,M=((K=(ce=N.buffData)==null?void 0:ce[0])==null?void 0:K.wasted)??0,{generationMs:O,wastedMs:Y}=SO(S,$,T,M,o,v,f);!O&&!Y||(t.has(A)||t.set(A,E||{}),w.boons[A]||(w.boons[A]={selfBuffs:{generationMs:0,wastedMs:0},groupBuffs:{generationMs:0,wastedMs:0},squadBuffs:{generationMs:0,wastedMs:0}}),w.boons[A][S].generationMs+=O,w.boons[A][S].wastedMs+=Y)})})})}),{boonTables:Array.from(t.keys()).filter(a=>tC(t.get(a))).map(a=>{const s=t.get(a)||{},o=[];return n.forEach(l=>{var m;const c=l.boons[a];if(!c||!eC.some(p=>c[p].generationMs>0||c[p].wastedMs>0))return;const f=Array.from(l.professions||[]).filter(p=>p&&p!=="Unknown");let h=l.profession;if(f.length>0){h=f[0];let p=((m=l.professionTimeMs)==null?void 0:m[h])||0;f.forEach(g=>{var v;const y=((v=l.professionTimeMs)==null?void 0:v[g])||0;y>p&&(p=y,h=g)})}o.push({account:l.account,profession:h||"Unknown",professionList:f,activeTimeMs:l.activeTimeMs||1,numFights:l.numFights||1,groupSupported:l.groupSupported||1,squadSupported:l.squadSupported||1,categories:{selfBuffs:{...c.selfBuffs},groupBuffs:{...c.groupBuffs},squadBuffs:{...c.squadBuffs}}})}),{id:a,name:s.name||a,icon:s.icon,stacking:s.stacking??!1,rows:o}}).filter(a=>a.rows.length>0)}},nC=(e,t,n,r,i,a,s={})=>{var m,p,g,y;const l=((e==null?void 0:e[t])||[]).find(v=>v.id===n);if(!l)return{generationMs:0,wastedMs:0};const c=s[kO(n)],d=(c==null?void 0:c.stacking)??!1,f=((p=(m=l.buffData)==null?void 0:m[0])==null?void 0:p.generation)??0,h=((y=(g=l.buffData)==null?void 0:g[0])==null?void 0:y.wasted)??0;return SO(t,d,f,h,r,i,a)},I6={tiered:{tiers:{shortMs:500,mediumMs:1500,weights:{short:.5,medium:1,long:2}}}},_6={methods:I6},L6=_6,D1="count",$6=e=>(e||0)/1e3,F6=(e,t)=>{var i;if(!e)return 0;const n=(i=L6.methods.tiered)==null?void 0:i.tiers;if(!n)return e;const r=t/Math.max(e,1);return r<=n.shortMs?e*n.weights.short:r<=n.mediumMs?e*n.weights.medium:e*n.weights.long},CO=(e,t,n)=>n==="duration"?$6(t):n==="tiered"?F6(e,t):e;function R6(e,t=D1){var a;const n=(a=e.statsAll)==null?void 0:a[0],r=Number((n==null?void 0:n.appliedCrowdControl)??0),i=Number((n==null?void 0:n.appliedCrowdControlDuration)??0);return CO(r,i,t)}function B6(e,t){const n=(t==null?void 0:t.durationMS)||0,r=(t==null?void 0:t.buffMap)||{},i=e.filter(o=>!o.notInSquad),a=i.length,s=new Map;i.forEach(o=>{const l=o.group??0;s.set(l,(s.get(l)||0)+1)}),i.forEach(o=>{const l=s.get(o.group??0)||1,c=nC(o,"selfBuffs",1122,n,l,a,r),d=nC(o,"squadBuffs",1122,n,l,a,r);o.stabGeneration=(c.generationMs+d.generationMs)/1e3})}function z6(e){if(!e.statsTargets)return 0;let t=0;for(const n of e.statsTargets)n&&n.length>0&&(t+=n[0].downContribution||0);return t}function U6(e){if(!e.extBarrierStats||!e.extBarrierStats.outgoingBarrierAllies)return 0;let t=0;for(const n of e.extBarrierStats.outgoingBarrierAllies)if(n)for(const r of n)r&&(t+=r.barrier||0);return t}function V6(e){if(!e.extHealingStats||!e.extHealingStats.outgoingHealingAllies)return 0;let t=0;for(const n of e.extHealingStats.outgoingHealingAllies)if(n)for(const r of n)r&&(t+=r.healing||0);return t}const rC=e=>{var t,n,r,i;return(((n=(t=e.support)==null?void 0:t[0])==null?void 0:n.condiCleanse)||0)+(((i=(r=e.support)==null?void 0:r[0])==null?void 0:i.condiCleanseSelf)||0)},iC=(e,t=D1)=>{var a;const n=(a=e.support)==null?void 0:a[0],r=Number((n==null?void 0:n.boonStrips)??0),i=Number((n==null?void 0:n.boonStripsTime)??0);return CO(r,i,t)},aC=e=>z6(e),sC=e=>V6(e),oC=e=>U6(e),lC=(e,t=D1)=>R6(e,t),W6=(e,t)=>B6(e,t),H6="count",jO={downContribution:1,healing:1,cleanses:1,strips:1,stability:1,cc:.7,revives:.7,distanceToTag:.7,participation:.7,dodging:.4,dps:.2,damage:.2},tb={showTopStats:!0,showMvp:!0,roundCountStats:!1,topStatsMode:"total",topSkillDamageSource:"target",topSkillsMetric:"damage"},q6={uploading:!1,message:null,url:null,buildStatus:"idle"},cC=new Map([["bleeding","Bleeding"],["burning","Burning"],["confusion","Confusion"],["poison","Poison"],["torment","Torment"],["vulnerability","Vulnerability"],["weakness","Weakness"],["weakened","Weakness"],["blind","Blind"],["blinded","Blind"],["blinding","Blind"],["cripple","Cripple"],["crippled","Cripple"],["chill","Chill"],["chilled","Chill"],["immob","Immobilize"],["immobile","Immobilize"],["immobilized","Immobilize"],["slow","Slow"],["slowed","Slow"],["fear","Fear"],["feared","Fear"],["taunt","Taunt"],["taunted","Taunt"]]),AO={Blind:"https://render.guildwars2.com/file/09770136BB76FD0DBE1CC4267DEED54774CB20F6/102837.png",Chill:"https://render.guildwars2.com/file/28C4EC547A3516AF0242E826772DA43A5EAC3DF3/102839.png",Cripple:"https://render.guildwars2.com/file/070325E519C178D502A8160523766070D30C0C19/102838.png",Fear:"https://render.guildwars2.com/file/30307A6E766D74B6EB09EDA12A4A2DE50E4D76F4/102869.png",Immobilize:"https://render.guildwars2.com/file/397A613651BFCA2832B6469CE34735580A2C120E/102844.png",Slow:"https://render.guildwars2.com/file/F60D1EF5271D7B9319610855676D320CD25F01C6/961397.png",Taunt:"https://render.guildwars2.com/file/02EED459AD65FAF7DF32A260E479C625070841B9/1228472.png",Vulnerability:"https://render.guildwars2.com/file/3A394C1A0A3257EB27A44842DDEEF0DF000E1241/102850.png",Weakness:"https://render.guildwars2.com/file/6CB0E64AF9AA292E332A38C1770CE577E2CDE0E8/102853.png"},vh=e=>{if(e)return AO[e]},Tf=e=>{if(!e)return null;const t=e.trim().toLowerCase(),n=cC.get(t);if(n)return n;const r=t.split(/[^a-z]+/).filter(Boolean);for(const i of r){const a=cC.get(i);if(a)return a}return null},Zc=e=>Tf(e),PO=e=>{const t=new Map;return e&&(Object.values(e).forEach(n=>{if(!(n!=null&&n.icon)||!(n!=null&&n.name))return;const r=Tf(n.name);r&&(t.has(r)||t.set(r,n.icon))}),Object.entries(AO).forEach(([n,r])=>{t.has(n)||t.set(n,r)})),t},ep=(e,t,n)=>{var r;if(t&&n){const i=(r=n[`b${t}`])==null?void 0:r.name,a=Tf(i);if(a)return a}return e?Tf(e):null},K6=e=>{const t=(e==null?void 0:e.account)||"Unknown";return t&&t!=="Unknown"?t:(e==null?void 0:e.name)||"Unknown"||null},G6=e=>{if(!e||e.length===0)return 0;let t=0,n=null;return e.forEach(r=>{const i=Number(r[1]??0);if(Number.isFinite(i)){if(n===null){n=i;return}i>n&&(t+=i-n),n=i}}),t},Y6=e=>{if(!e||e.length===0)return 0;let t=0;return e.forEach(n=>{const r=Number(n[0]??0),i=Number(n[1]??0);Number.isFinite(i)&&r!==0&&i>0&&(t+=1)}),t},X6=e=>{const{players:t,targets:n,skillMap:r,buffMap:i}=e,a=e.getPlayerKey||K6,s=PO(i),o={},l={};t.forEach(m=>{if(m!=null&&m.notInSquad)return;const p=a(m);p&&(o[p]||(o[p]={}),m!=null&&m.totalDamageDist&&m.totalDamageDist.forEach(g=>{g&&g.forEach(y=>{if(!y.id)return;let v=`Skill ${y.id}`,b;r&&(r[`s${y.id}`]?(v=r[`s${y.id}`].name||v,b=r[`s${y.id}`].icon||b):r[`${y.id}`]&&(v=r[`${y.id}`].name||v,b=r[`${y.id}`].icon||b));const w=ep(v,y.id,i);if(!w)return;const S=i==null?void 0:i[`b${y.id}`],C=S==null?void 0:S.name,N=s.get(w)||(S==null?void 0:S.icon),A=v.startsWith("Skill ")?C||w:v,E=b||(S==null?void 0:S.icon),$=Number(y.connectedHits??0),T=Number(y.hits??0),M=$>0?$:T,O=Number(y.totalDamage??0);if(!Number.isFinite(M)&&!Number.isFinite(O))return;const Y=l[w]||{name:w,icon:N,applications:0,damage:0};Y.applications+=Number.isFinite(M)?M:0,Y.damage+=Number.isFinite(O)?O:0,!Y.icon&&N&&(Y.icon=N),l[w]=Y;const Q=o[p][w]||{icon:N,applications:0,damage:0,skills:{}};Q.applications+=Number.isFinite(M)?M:0,Q.damage+=Number.isFinite(O)?O:0;const re=Q.skills[A]||{name:A,hits:0,damage:0,icon:E};re.hits+=Number.isFinite(M)?M:0,re.damage+=Number.isFinite(O)?O:0,!re.icon&&E&&(re.icon=E),Q.skills[A]=re,!Q.icon&&N&&(Q.icon=N),o[p][w]=Q})}))});const c=new Map;t.forEach(m=>{if(m!=null&&m.notInSquad)return;const p=a(m);p&&m!=null&&m.name&&c.set(m.name,p)});let d=0,f=0,h=0;return n.forEach(m=>{m!=null&&m.buffs&&m.buffs.forEach(p=>{const g=Number(p==null?void 0:p.id);if(!Number.isFinite(g))return;const y=i==null?void 0:i[`b${g}`],v=Tf(y==null?void 0:y.name);if(!v||y!=null&&y.classification&&y.classification!=="Condition")return;const b=v;if(!b)return;const w=p.statesPerSource||{};h+=1,Object.entries(w).forEach(([S,C])=>{var M;const N=c.get(S);if(!N)return;f+=1;const A=G6(C),E=Y6(C);d+=A;const $=((M=o[N])==null?void 0:M[b])||{applications:0,damage:0,skills:{}};$.applicationsFromBuffs=($.applicationsFromBuffs||0)+A,$.applicationsFromBuffsActive=($.applicationsFromBuffsActive||0)+E,o[N]=o[N]||{},o[N][b]=$;const T=l[b]||{name:b,applications:0,damage:0};T.applicationsFromBuffs=(T.applicationsFromBuffs||0)+A,T.applicationsFromBuffsActive=(T.applicationsFromBuffsActive||0)+E,l[b]=T})})}),Object.values(o).forEach(m=>{Object.values(m).forEach(p=>{typeof p.applicationsFromBuffs=="number"&&(p.applications=p.applicationsFromBuffs)})}),Object.values(l).forEach(m=>{typeof m.applicationsFromBuffs=="number"&&(m.applications=m.applicationsFromBuffs)}),{playerConditions:o,summary:l,meta:{buffStateApplicationsTotal:d,targetBuffEntriesSeen:h,buffStateSourcesSeen:f}}},Ef={Guardian:"#72C1D9",Dragonhunter:"#72C1D9",Firebrand:"#72C1D9",Willbender:"#72C1D9",Revenant:"#D16E5A",Herald:"#D16E5A",Renegade:"#D16E5A",Vindicator:"#D16E5A",Warrior:"#FFD166",Berserker:"#FFD166",Spellbreaker:"#FFD166",Bladesworn:"#FFD166",Engineer:"#D09C59",Scrapper:"#D09C59",Holosmith:"#D09C59",Mechanist:"#D09C59",Ranger:"#8CDC82",Druid:"#8CDC82",Soulbeast:"#8CDC82",Untamed:"#8CDC82",Thief:"#C08F95",Daredevil:"#C08F95",Deadeye:"#C08F95",Specter:"#C08F95",Elementalist:"#F68A87",Tempest:"#F68A87",Weaver:"#F68A87",Catalyst:"#F68A87",Mesmer:"#B679D5",Chronomancer:"#B679D5",Mirage:"#B679D5",Virtuoso:"#B679D5",Necromancer:"#52A76F",Reaper:"#52A76F",Scourge:"#52A76F",Harbinger:"#52A76F",Ritualist:"#52A76F",Luminary:"#72C1D9",Conduit:"#D16E5A",Paragon:"#FFD166",Amalgam:"#D09C59",Galeshot:"#8CDC82",Antiquary:"#C08F95",Evoker:"#F68A87",Troubadour:"#B679D5",Unknown:"#64748B"},Q6={Guardian:"Guardian",Dragonhunter:"Guardian",Firebrand:"Guardian",Willbender:"Guardian",Revenant:"Revenant",Herald:"Revenant",Renegade:"Revenant",Vindicator:"Revenant",Warrior:"Warrior",Berserker:"Warrior",Spellbreaker:"Warrior",Bladesworn:"Warrior",Engineer:"Engineer",Scrapper:"Engineer",Holosmith:"Engineer",Mechanist:"Engineer",Ranger:"Ranger",Druid:"Ranger",Soulbeast:"Ranger",Untamed:"Ranger",Thief:"Thief",Daredevil:"Thief",Deadeye:"Thief",Specter:"Thief",Elementalist:"Elementalist",Tempest:"Elementalist",Weaver:"Elementalist",Catalyst:"Elementalist",Mesmer:"Mesmer",Chronomancer:"Mesmer",Mirage:"Mesmer",Virtuoso:"Mesmer",Necromancer:"Necromancer",Reaper:"Necromancer",Scourge:"Necromancer",Harbinger:"Necromancer",Ritualist:"Necromancer",Luminary:"Guardian",Conduit:"Revenant",Paragon:"Warrior",Amalgam:"Engineer",Galeshot:"Ranger",Antiquary:"Thief",Evoker:"Elementalist",Troubadour:"Mesmer",Unknown:"Unknown"};function rc(e){return Ef[e]||Ef.Unknown}function Z6(e){return e?Q6[e]||e:"Unknown"}function Gl(e){if(!e)return null;const n=typeof window<"u"&&/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/")?"/svg/class-icons":"./svg/class-icons",r=Ef[e]?e:null;if(r&&r!=="Unknown")return`${n}/${r}.svg`;const i=Z6(e);return i&&i!=="Unknown"?`${n}/${i}.svg`:null}const J6=e=>{if(e==null||e==="")return 0;if(typeof e=="number")return!Number.isFinite(e)||e<=0?0:e>1e12?e:e*1e3;if(e instanceof Date){const s=e.getTime();return Number.isFinite(s)&&s>0?s:0}const t=String(e).trim();if(!t)return 0;const n=Number(t);if(Number.isFinite(n)&&n>0)return n>1e12?n:n*1e3;const r=Date.parse(t);if(Number.isFinite(r)&&r>0)return r;const i=t.replace(/([+-]\d{2})$/,"$1:00"),a=Date.parse(i);return Number.isFinite(a)&&a>0?a:0},_i=(e,t)=>J6((e==null?void 0:e.uploadTime)??(t==null?void 0:t.uploadTime)??(e==null?void 0:e.timeStartStd)??(e==null?void 0:e.timeStart)??(e==null?void 0:e.timeEndStd)??(e==null?void 0:e.timeEnd)??(e==null?void 0:e.timeStartText)??(e==null?void 0:e.timeEndText)),zd=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})=>{const a=e.filter(h=>h.details&&h.details.players&&h.details.players.length>0),s=r||tb,o=n||jO,l=f=>{if(!f||typeof f!="object")return f;const h=Array.isArray(f.fightBreakdown)?f.fightBreakdown:null;if(!h||h.length===0)return f;const m=S=>Array.isArray(S)&&S.some(C=>C&&Number(C.count)>0),p=new Map,g=new Map;e.forEach(S=>{var A;const C=(S==null?void 0:S.filePath)||(S==null?void 0:S.id);C&&p.set(String(C),S);const N=(S==null?void 0:S.permalink)||((A=S==null?void 0:S.details)==null?void 0:A.permalink);typeof N=="string"&&N.trim()&&g.set(N.trim(),S)});const y=h.map(S=>{var T;if(!S||typeof S!="object")return S;const C=S.id?String(S.id):"",N=typeof S.permalink=="string"?S.permalink.trim():"",A=(C?p.get(C):void 0)||(N?g.get(N):void 0);if(!A)return S;let E=S;if(Number(S.timestamp)<=0){const M=_i(A==null?void 0:A.details,A);M&&(E={...E,timestamp:M})}const $=(T=A==null?void 0:A.details)==null?void 0:T.teamBreakdown;return m($)&&(E={...E,teamBreakdown:$}),E}),v=Array.isArray(f.fightDiffMode)?f.fightDiffMode:[],w=v.some(S=>Array.isArray(S==null?void 0:S.targetFocus)&&S.targetFocus.some(C=>Number((C==null?void 0:C.damage)||0)>0||Number((C==null?void 0:C.hits)||0)>0))?v:y.map((S,C)=>{const N=S&&typeof S.enemyClassCounts=="object"&&S.enemyClassCounts?S.enemyClassCounts:{},A=Object.entries(N).map(([K,G])=>({label:String(K||"Unknown"),count:Number(G||0)})).filter(K=>K.count>0).sort((K,G)=>G.count-K.count||K.label.localeCompare(G.label)),E=A.reduce((K,G)=>K+G.count,0),$=A.map(K=>({label:K.label,damage:K.count,hits:0,share:E>0?K.count/E:0})),T=Number((S==null?void 0:S.enemyDowns)||0),M=Number((S==null?void 0:S.enemyDeaths)||0),O=Number((S==null?void 0:S.alliesDown)||0),Y=Number((S==null?void 0:S.alliesDead)||0),Q=Number((S==null?void 0:S.totalOutgoingDamage)||0),re=Number((S==null?void 0:S.totalIncomingDamage)||0),ce=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:S!=null&&S.isWin?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:Number((S==null?void 0:S.squadCount)||0)},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:Number((S==null?void 0:S.enemyCount)||0)},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:Y>0?M/Y:M},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:M},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:T},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:Y},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:O},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:Q-re},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:Q},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:re},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:Number((S==null?void 0:S.incomingBarrierAbsorbed)||0)},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:Number((S==null?void 0:S.outgoingBarrierAbsorbed)||0)},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:Number((S==null?void 0:S.alliesRevived)||0)}];return{id:String((S==null?void 0:S.id)||`fight-${C+1}`),shortLabel:`F${C+1}`,fullLabel:`${String((S==null?void 0:S.mapName)||(S==null?void 0:S.label)||"Unknown Map")}  ${String((S==null?void 0:S.duration)||"--:--")}`,mapName:String((S==null?void 0:S.mapName)||""),timestamp:Number((S==null?void 0:S.timestamp)||0),duration:String((S==null?void 0:S.duration)||"--:--"),isWin:!!(S!=null&&S.isWin),targetFocus:$,squadMetrics:ce}});return{...f,fightBreakdown:y,fightDiffMode:w}},c=(()=>{if(t)return l(t);const f=i||H6,h=s.topSkillDamageSource||"target",m=s.topSkillsMetric||"damage",p=a.length;let g=0,y=0,v=0,b=0,w=0,S=0,C=0,N=0;const A=D=>{const q=((D==null?void 0:D.players)||[]).filter(lt=>!lt.notInSquad);let Ee=0,de=0,Be=0,Ne=0;return q.forEach(lt=>{var Ut;const ht=(Ut=lt.defenses)==null?void 0:Ut[0];if(!ht)return;const St=Number(ht.downCount||0),Gt=Number(ht.deadCount||0);Ee+=St+Gt,Be+=Gt}),q.forEach(lt=>{!lt.statsTargets||lt.statsTargets.length===0||lt.statsTargets.forEach(ht=>{const St=ht==null?void 0:ht[0];if(!St)return;const Gt=Number(St.downed||0),Ut=Number(St.killed||0);de+=Gt+Ut,Ne+=Ut})}),{squadDownsDeaths:Ee,enemyDownsDeaths:de,squadDeaths:Be,enemyDeaths:Ne}},E=D=>{const{squadDownsDeaths:W,enemyDownsDeaths:q}=A(D);return W>0||q>0?q>W:typeof(D==null?void 0:D.success)=="boolean"?D.success:!1},$=new Map,T=new Set(["boonStripsTime","condiCleanseTime","condiCleanseTimeSelf"]),M={},O={},Y=new Map,Q={},re={},ce={},K=new Map,G=new Map,L=new Set(Object.keys(Ef)),P=Object.keys(Ef).filter(D=>D&&D!=="Unknown").sort((D,W)=>W.length-D.length),j=["Guardian","Revenant","Warrior","Engineer","Ranger","Thief","Elementalist","Mesmer","Necromancer"],U=D=>{if(!D)return"Unknown";const W=String(D).replace(/\s*\([^)]*\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").replace(/\s\d+$/,"").trim();if(L.has(W))return W;const q=W.toLowerCase();for(const de of P)if(q.includes(de.toLowerCase()))return de;return j.find(de=>q.includes(de.toLowerCase()))||W||"Unknown"},k=D=>D!=null&&D.classification?D.classification==="Boon":!0,_=new Map,ae=new Map,ee=()=>({totalHits:0,blocked:0,evaded:0,glanced:0,missed:0,invulned:0,interrupted:0,totalMitigation:0,minMitigation:0}),V=D=>{const W=Number(D);return Number.isFinite(W)?W:0},ne=D=>{const W=String(D).split("|"),q=W[0]||"Unknown",Ee=U(W[1]||"Unknown"),de=W[2]||q||"Unknown";return{name:q,profession:Ee,account:de}},F=(D,W,q)=>{let Ee=D.get(W);return Ee?q.profession&&!Ee.professionList.includes(q.profession)&&Ee.professionList.push(q.profession):(Ee={account:q.account,name:q.name,profession:q.profession,professionList:q.profession?[q.profession]:[],activeMs:0,mitigationTotals:ee()},D.set(W,Ee)),Ee},J=(D,W,q)=>{let Ee=D.get(W);return Ee?q.profession&&!Ee.professionList.includes(q.profession)&&Ee.professionList.push(q.profession):(Ee={account:q.account,name:q.name,profession:q.profession,professionList:q.profession?[q.profession]:[],activeMs:0,mitigationTotals:ee(),minion:q.minion},D.set(W,Ee)),Ee},ue=(D,W)=>{D.totalHits+=V((W==null?void 0:W.skill_hits)??(W==null?void 0:W.skillHits)),D.blocked+=V(W==null?void 0:W.blocked),D.evaded+=V(W==null?void 0:W.evaded),D.glanced+=V(W==null?void 0:W.glanced),D.missed+=V(W==null?void 0:W.missed),D.invulned+=V(W==null?void 0:W.invulned),D.interrupted+=V(W==null?void 0:W.interrupted),D.totalMitigation+=V((W==null?void 0:W.avoided_damage)??(W==null?void 0:W.avoidedDamage)),D.minMitigation+=V((W==null?void 0:W.min_avoided_damage)??(W==null?void 0:W.minAvoidedDamage))},ie=D=>Object.values(D).some(W=>W>0),H=(D,W,q)=>{var Be,Ne,lt,ht;const Ee=`s${D}`;if((Be=W==null?void 0:W[Ee])!=null&&Be.name)return W[Ee].name;if((Ne=W==null?void 0:W[String(D)])!=null&&Ne.name)return W[String(D)].name;const de=`b${D}`;return(lt=q==null?void 0:q[de])!=null&&lt.name?q[de].name:(ht=q==null?void 0:q[String(D)])!=null&&ht.name?q[String(D)].name:`Unknown Skill ${D}`},B=new Map,I=D=>{const W=B.get(D);if(!W)return{hasSkill:!1,avg:1,min:1,hits:0};const q=W.connectedHits||0,Ee=q>0?W.totalDamage/q:0,de=W.minCount>0?W.minTotal/W.minCount:0;return{hasSkill:!0,avg:Ee,min:de,hits:q}},te="Ashtonlightstone.9145",Pe="Illusionary Warden",Ue=[],se=[],Ye=[],Oe=[],wt=new Map,qt=new Map,vn=(D,W,q)=>{const Ee=D.get(W)||ee();return Ee.totalHits+=q.totalHits,Ee.blocked+=q.blocked,Ee.evaded+=q.evaded,Ee.glanced+=q.glanced,Ee.missed+=q.missed,Ee.invulned+=q.invulned,Ee.interrupted+=q.interrupted,D.set(W,Ee),Ee};a.forEach(D=>{const W=D.details;if(!W)return;(W.targets||[]).forEach(Ee=>{const de=(Ee==null?void 0:Ee.totalDamageDist)||[],Be=Array.isArray(de)?de[0]:null;Be==null||Be.forEach(Ne=>{if(!(Ne!=null&&Ne.id))return;const lt=Number(Ne.id),ht=B.get(lt)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};ht.totalDamage+=Number(Ne.totalDamage||0),ht.connectedHits+=Number(Ne.connectedHits||0);const St=Number.isFinite(Number(Ne.min))?Number(Ne.min):0;ht.minTotal+=St,ht.minCount+=1,B.set(lt,ht)})})}),a.forEach((D,W)=>{var en,on;const q=D.details;if(!q)return;const Ee=q.players,de=q.targets||[],Be=q.skillMap||{},Ne=q.buffMap||{},lt=new Map,ht=new Map;de.forEach(z=>{const le=(z==null?void 0:z.totalDamageDist)||[],De=Array.isArray(le)?le[0]:null;De==null||De.forEach(Ke=>{var _t;if(!(Ke!=null&&Ke.id))return;const Te=Number(Ke.id),oe=((_t=Be==null?void 0:Be[Te])==null?void 0:_t.name)||Ke.name||Ke.skillName||String(Te),_e=lt.get(Te)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};_e.totalDamage+=Number(Ke.totalDamage||0),_e.connectedHits+=Number(Ke.connectedHits||0);const Se=Number.isFinite(Number(Ke.min))?Number(Ke.min):0;_e.minTotal+=Se,_e.minCount+=1,lt.set(Te,_e);const nt=ht.get(oe)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};nt.totalDamage+=Number(Ke.totalDamage||0),nt.connectedHits+=Number(Ke.connectedHits||0);const Rt=Number.isFinite(Number(Ke.min))?Number(Ke.min):0;nt.minTotal+=Rt,nt.minCount+=1,ht.set(oe,nt)})});const St=z=>{const le=lt.get(z);if(!le||le.connectedHits<=0)return{avg:1,min:1};const De=le.connectedHits>0?le.totalDamage/le.connectedHits:0,Ke=le.minCount>0?le.minTotal/le.minCount:De;return{avg:De||1,min:Ke||1}},Gt=z=>{const le=ht.get(z);if(!le||le.connectedHits<=0)return{avg:1,min:1};const De=le.connectedHits>0?le.totalDamage/le.connectedHits:0,Ke=le.minCount>0?le.minTotal/le.minCount:De;return{avg:De||1,min:Ke||1}},Ut=q.combatReplayMetaData||{},kn=(Ut==null?void 0:Ut.inchToPixel)>0?Ut.inchToPixel:1,qe=(Ut==null?void 0:Ut.pollingRate)>0?Ut.pollingRate:1,Qe=5e3,rt=z=>Array.isArray(z)?z.map(le=>Array.isArray(le)?[Number(le[0]),Number(le[1])]:null).filter(le=>!!le&&Number.isFinite(le[0])):[];let Ot=[],ct=q.durationMS||0,xe=!1;const ye=Ee.find(z=>(z==null?void 0:z.hasCommanderTag)&&!(z!=null&&z.notInSquad));(en=ye==null?void 0:ye.combatReplayData)!=null&&en.positions&&(Ot=ye.combatReplayData.positions,rt(ye.combatReplayData.dead).forEach(([le])=>{le>0&&(xe=!0,ct=Math.min(ct,le))}));const Re=z=>{var nt;const le=(nt=z.statsAll)==null?void 0:nt[0];if((le==null?void 0:le.distToCom)!==void 0&&(le==null?void 0:le.distToCom)!=="Infinity")return Math.round(Number(le.distToCom));if((le==null?void 0:le.stackDist)!==void 0)return Math.round(Number(le.stackDist))||0;if(z.hasCommanderTag)return 0;const De=z.combatReplayData;if(!(De!=null&&De.positions)||!Ot.length)return 0;const Ke=De.positions,Te=rt(De.dead),oe=rt(De.down),_e=Math.floor((De.start||0)/qe);let Se=0;if(Te.length&&oe.length)for(const[Rt]of Te){if(Rt<0)continue;const _t=Math.max(0,Math.floor(Rt/qe))-_e;for(const[ft,Et]of oe){if(Rt!==Et)continue;const Bt=xe&&ft>ct?Math.max(1,Math.floor(ct/qe)):_t,Kt=Math.max(0,Math.min(Bt,Ke.length,Ot.length));if(Kt<=0)continue;let Nt=0;for(let Tt=0;Tt<Kt;Tt++){const[Fe,st]=Ke[Tt],[pt,Ct]=Ot[Tt];Nt+=Math.hypot(Fe-pt,st-Ct)}Se=Math.round(Nt/Kt/kn)}}return Se},je=Ee.filter(z=>!z.notInSquad);v+=je.length,b+=de.filter(z=>!z.isFake).length,W6(Ee,{durationMS:q.durationMS,buffMap:q.buffMap});const{squadDeaths:tt,enemyDeaths:fe}=A(q);w+=tt,S+=fe,N+=tt,C+=fe,E(q)?g++:y++;const Je=q.skillMap?Number((on=Object.keys(q.skillMap).find(z=>{var le,De;return((De=(le=q.skillMap)==null?void 0:le[z])==null?void 0:De.name)==="Battle Standard"}))==null?void 0:on.replace(/^s/,"")):null;Ee.forEach((z,le)=>{var Vs,Ws,Lc,jl,da,$c,Wm,dd,Ea,Al,Za,Ja,Fc;if(z.notInSquad)return;const De=z.account||"Unknown",Ke=De!=="Unknown"?De:z.name||"Unknown",Te=z.name||"Unknown";$.has(Ke)||$.set(Ke,{name:Te,account:Ke,characterNames:new Set,downContrib:0,cleanses:0,strips:0,stab:0,healing:0,barrier:0,cc:0,logsJoined:0,totalDist:0,distCount:0,dodges:0,downs:0,deaths:0,totalFightMs:0,offenseTotals:{},offenseRateWeights:{},defenseActiveMs:0,defenseTotals:{},supportActiveMs:0,supportTotals:{},healingActiveMs:0,healingTotals:{},profession:z.profession||"Unknown",professions:new Set,professionTimeMs:{},squadActiveMs:0,firstSeenFightTs:0,lastSeenFightTs:0,lastSeenFightDurationMs:0,isCommander:!1,damage:0,dps:0,revives:0,outgoingConditions:{},incomingConditions:{}});const oe=$.get(Ke);if(z.hasCommanderTag&&(oe.isCommander=!0),Te!=="Unknown"&&oe.characterNames.add(String(Te)),z.profession&&z.profession!=="Unknown"){oe.profession=z.profession,oe.professions.add(z.profession);const Ce=Array.isArray(z.activeTimes)&&typeof z.activeTimes[0]=="number"?z.activeTimes[0]:q.durationMS||0;oe.professionTimeMs[z.profession]=(oe.professionTimeMs[z.profession]||0)+Ce}oe.logsJoined++,oe.downContrib+=aC(z),oe.cleanses+=rC(z),oe.strips+=iC(z,f),oe.healing+=sC(z),oe.barrier+=oC(z),oe.cc+=lC(z,f),oe.stab+=z.stabGeneration||0;const _e=Re(z);_e<=Qe&&(oe.totalDist+=_e,oe.distCount++),(Vs=z.defenses)!=null&&Vs[0]&&(oe.dodges+=z.defenses[0].dodgeCount||0,oe.downs+=z.defenses[0].downCount||0,oe.deaths+=z.defenses[0].deadCount||0),q.durationMS&&(oe.totalFightMs+=q.durationMS);const Se=Array.isArray(z.activeTimes)&&typeof z.activeTimes[0]=="number"?z.activeTimes[0]:q.durationMS||0;oe.squadActiveMs+=Se;const nt=_i(q,D),Rt=Number((q==null?void 0:q.durationMS)||0);nt>0&&((oe.firstSeenFightTs<=0||nt<oe.firstSeenFightTs)&&(oe.firstSeenFightTs=nt),oe.lastSeenFightTs<=0||nt>oe.lastSeenFightTs?(oe.lastSeenFightTs=nt,oe.lastSeenFightDurationMs=Rt):nt===oe.lastSeenFightTs&&Rt>oe.lastSeenFightDurationMs&&(oe.lastSeenFightDurationMs=Rt)),oe.defenseActiveMs+=Se,oe.supportActiveMs+=Se,oe.healingActiveMs+=Se,Array.isArray(z.buffUptimes)&&z.buffUptimes.length>0&&z.buffUptimes.forEach(Ce=>{var Hm,Tl,qm,Km,Gm,Ma;if(typeof(Ce==null?void 0:Ce.id)!="number")return;const He=`b${Ce.id}`,Ze=((Hm=q.buffMap)==null?void 0:Hm[He])||((Tl=q.buffMap)==null?void 0:Tl[String(Ce.id)]);if(!Ze||k(Ze))return;const ut=Number(((Km=(qm=Ce.buffData)==null?void 0:qm[0])==null?void 0:Km.uptime)??0),zt=Number(((Ma=(Gm=Ce.buffData)==null?void 0:Gm[0])==null?void 0:Ma.presence)??0);if((!Number.isFinite(ut)||ut<=0)&&(!Number.isFinite(zt)||zt<=0))return;const fr=(Ze==null?void 0:Ze.stacking)??!1,Rn=(fr?Number.isFinite(ut)?ut:0:Number.isFinite(ut)?ut/100:0)*Se,yi=fr?zt:ut,Do=Math.min(Math.max(Number.isFinite(yi)?yi:0,0),100)/100*Se,bi=Number.isFinite(Rn)&&Rn>0,Pl=Number.isFinite(Do)&&Do>0;if(!bi&&!Pl)return;const oi=Zc(Ze==null?void 0:Ze.name);if(oi&&t6.has(oi)&&(!(Ze!=null&&Ze.classification)||Ze.classification==="Condition")){const es=Rn/1e3,Ki=Ze==null?void 0:Ze.icon,El=Q[oi]||{name:oi,icon:Ki,applications:0,damage:0};El.applicationsFromUptime=(El.applicationsFromUptime||0)+es,!El.icon&&Ki&&(El.icon=Ki),Q[oi]=El;const Dl=oe.outgoingConditions[oi]||{applications:0,damage:0,skills:{},icon:Ki};Dl.applicationsFromUptime=(Dl.applicationsFromUptime||0)+es,!Dl.icon&&Ki&&(Dl.icon=Ki),oe.outgoingConditions[oi]=Dl;const Mo=re[oi]||{name:oi,icon:Ki,applications:0,damage:0};Mo.applicationsFromUptime=(Mo.applicationsFromUptime||0)+es,!Mo.icon&&Ki&&(Mo.icon=Ki),re[oi]=Mo;const Oo=oe.incomingConditions[oi]||{applications:0,damage:0,skills:{},icon:Ki};Oo.applicationsFromUptime=(Oo.applicationsFromUptime||0)+es,!Oo.icon&&Ki&&(Oo.icon=Ki),oe.incomingConditions[oi]=Oo}K.has(He)||K.set(He,{name:Ze==null?void 0:Ze.name,stacking:fr,icon:Ze==null?void 0:Ze.icon}),G.has(He)||G.set(He,new Map);const Rc=G.get(He),fd=oe.account||z.account||z.name||"Unknown";let Da=Rc.get(fd);Da||(Da={account:fd,profession:oe.profession||z.profession||"Unknown",professions:new Set,professionTimeMs:{},totalMs:0,uptimeMs:0,durationMs:0},Rc.set(fd,Da));const li=z.profession||oe.profession;li&&li!=="Unknown"&&(Da.professions.add(li),Da.professionTimeMs[li]=(Da.professionTimeMs[li]||0)+Se,Da.profession=li),Da.totalMs+=bi?Rn:0,Da.uptimeMs+=Pl?Do:0,Da.durationMs+=Se}),(Ws=z.defenses)!=null&&Ws[0]&&fO.forEach(Ce=>{const He=Number(z.defenses[0][Ce.field]??0);Number.isFinite(He)&&(oe.defenseTotals[Ce.id]=(oe.defenseTotals[Ce.id]||0)+He)}),(Lc=z.support)!=null&&Lc[0]&&mO.forEach(Ce=>{let He=Number(z.support[0][Ce.field]??0);Number.isFinite(He)&&(T.has(Ce.field)&&He>999999&&(He=0),oe.supportTotals[Ce.id]=(oe.supportTotals[Ce.id]||0)+He)});const _t=(Ce,He)=>{Number.isFinite(He)&&(oe.healingTotals[Ce]=(oe.healingTotals[Ce]||0)+He)},ft=(Ce,He)=>Array.isArray(Ce)?Ce.reduce((Ze,ut)=>Ze+Number((ut==null?void 0:ut[He])??0),0):0,Et=(Ce,He,Ze)=>{if(!Number.isFinite(Ze)||Ze<=0)return;const ut=Ee[He],zt=He===le,fr=ut==null?void 0:ut.notInSquad,En=!fr,Rn=En&&(ut==null?void 0:ut.group)!=null&&ut.group===z.group;_t(Ce,Ze),En&&_t(`squad${Ce[0].toUpperCase()}${Ce.slice(1)}`,Ze),Rn&&_t(`group${Ce[0].toUpperCase()}${Ce.slice(1)}`,Ze),zt&&_t(`self${Ce[0].toUpperCase()}${Ce.slice(1)}`,Ze),fr&&_t(`offSquad${Ce[0].toUpperCase()}${Ce.slice(1)}`,Ze)};if(Array.isArray(z.rotation)){let Ce=0;z.rotation.forEach(He=>{var ut;if(!(He!=null&&He.id)||!s6(He.id,q.skillMap))return;const Ze=((ut=He.skills)==null?void 0:ut.length)||0;Ze>0&&(Ce+=Ze,_t(`resUtility_s${He.id}`,Ze))}),Ce>0&&_t("resUtility",Ce)}const Bt=(jl=z.extHealingStats)==null?void 0:jl.outgoingHealingAllies;Array.isArray(Bt)&&Bt.forEach((Ce,He)=>{const Ze=ft(Ce,"healing"),ut=ft(Ce,"downedHealing");Et("healing",He,Ze),Et("downedHealing",He,ut)});const Kt=(da=z.extBarrierStats)==null?void 0:da.outgoingBarrierAllies;Array.isArray(Kt)&&Kt.forEach((Ce,He)=>{const Ze=ft(Ce,"barrier");Et("barrier",He,Ze)});const Nt=($c=z.statsAll)==null?void 0:$c[0],Tt=(Wm=z.dpsAll)==null?void 0:Wm[0],Fe=(dd=z.support)==null?void 0:dd[0];if(dO.forEach(Ce=>{if(Ce.id==="downContributionPercent"||!Ce.field)return;let He=0,Ze=0;Ce.source==="dpsAll"&&Tt?He=Number(Tt[Ce.field]??0):Ce.source==="statsAll"&&Nt?(He=Number(Nt[Ce.field]??0),Ze=Number(Nt[Ce.denomField||Ce.weightField||"connectedDamageCount"]??0)):Ce.source==="support"&&Fe?He=Number(Fe[Ce.field]??0):z.statsTargets&&z.statsTargets.forEach(ut=>{ut!=null&&ut[0]&&(He+=Number(ut[0][Ce.field]??0),Ze+=Number(ut[0][Ce.denomField||Ce.weightField||"connectedDamageCount"]??0))}),Number.isFinite(He)&&(oe.offenseTotals[Ce.id]=(oe.offenseTotals[Ce.id]||0)+He,Ce.isRate&&Ze>0&&(oe.offenseRateWeights[Ce.id]=(oe.offenseRateWeights[Ce.id]||0)+Ze))}),z.targetDamageDist&&Number.isFinite(Je)){const Ce=z.targetDamageDist.flatMap(He=>He||[]).flatMap(He=>He||[]).reduce((He,Ze)=>Ze!=null&&Ze.id&&Ze.id===Je?He+((Ze==null?void 0:Ze.connectedHits)||0):He,0);oe.offenseTotals.battleStandardHits=(oe.offenseTotals.battleStandardHits||0)+Ce}oe.revives+=((Al=(Ea=z.support)==null?void 0:Ea[0])==null?void 0:Al.resurrects)||0,Tt&&(oe.damage+=Tt.damage||0,oe.dps+=Tt.dps||0);const st=Ce=>{var zt,fr,En,Rn;let He=`Skill ${Ce.id}`;const Ze=((zt=q.skillMap)==null?void 0:zt[`s${Ce.id}`])||((fr=q.skillMap)==null?void 0:fr[`${Ce.id}`]);let ut=Ze==null?void 0:Ze.icon;if(Ze!=null&&Ze.name&&(He=Ze.name),He.startsWith("Skill ")){const yi=ep(He,Ce.id,q.buffMap);yi&&(He=yi,ut=((Rn=(En=q.buffMap)==null?void 0:En[`b${Ce.id}`])==null?void 0:Rn.icon)||ut)}return{name:He,icon:ut}},pt=Ce=>{if(!(Ce!=null&&Ce.id))return;const{name:He,icon:Ze}=st(Ce);M[Ce.id]||(M[Ce.id]={name:He,icon:Ze,damage:0,hits:0,downContribution:0}),M[Ce.id].name.startsWith("Skill ")&&!He.startsWith("Skill ")&&(M[Ce.id].name=He),!M[Ce.id].icon&&Ze&&(M[Ce.id].icon=Ze),M[Ce.id].damage+=Ce.totalDamage,M[Ce.id].hits+=Ce.connectedHits,M[Ce.id].downContribution+=Number(Ce.downContribution||0)},Ct=z.account||z.name||"Unknown",fn=z.profession||"Unknown",An=`${Ct}|${fn}`;let Fn=Y.get(An);Fn||(Fn={key:An,account:Ct,displayName:Ct,profession:fn,professionList:[fn],totalFightMs:0,skills:new Map},Y.set(An,Fn)),Fn.professionList.includes(fn)||Fn.professionList.push(fn),Fn.totalFightMs+=q.durationMS||0;const Mr=Ce=>{if(!(Ce!=null&&Ce.id))return;const{name:He,icon:Ze}=st(Ce),ut=`s${Ce.id}`;let zt=Fn.skills.get(ut);zt||(zt={id:ut,name:He,icon:Ze,damage:0,downContribution:0},Fn.skills.set(ut,zt)),zt.name.startsWith("Skill ")&&!He.startsWith("Skill ")&&(zt.name=He),!zt.icon&&Ze&&(zt.icon=Ze),zt.damage+=Number(Ce.totalDamage||0),zt.downContribution+=Number(Ce.downContribution||0)};if(h==="total")(Za=z.totalDamageDist)==null||Za.forEach(Ce=>{Ce==null||Ce.forEach(He=>{pt(He),Mr(He)})});else{const Ce=new Map;(Ja=z.targetDamageDist)==null||Ja.forEach(Ze=>{Ze==null||Ze.forEach(ut=>{ut==null||ut.forEach(zt=>{const fr=Number(zt==null?void 0:zt.id);if(Number.isFinite(fr)){const En=Ce.get(fr)||{damage:0,hits:0,downContribution:0};En.damage+=Number((zt==null?void 0:zt.totalDamage)||0),En.hits+=Number((zt==null?void 0:zt.connectedHits)||0),En.downContribution+=Number((zt==null?void 0:zt.downContribution)||0),Ce.set(fr,En)}pt(zt),Mr(zt)})})}),!(q!=null&&q.detailedWvW)&&((Fc=z.totalDamageDist)==null||Fc.forEach(Ze=>{Ze==null||Ze.forEach(ut=>{const zt=Number(ut==null?void 0:ut.id);if(!Number.isFinite(zt))return;const fr=Ce.get(zt);if(!fr){pt(ut),Mr(ut);return}const En=Number((ut==null?void 0:ut.totalDamage)||0),Rn=Number((ut==null?void 0:ut.connectedHits)||0),yi=Number((ut==null?void 0:ut.downContribution)||0),Eo=En-Number(fr.damage||0),Do=Rn-Number(fr.hits||0),bi=yi-Number(fr.downContribution||0);if(Eo<=0&&Do<=0&&bi<=0)return;const Pl={...ut,totalDamage:Math.max(0,Eo),connectedHits:Math.max(0,Do),downContribution:Math.max(0,bi)};pt(Pl),Mr(Pl)})}))}z.totalDamageTaken&&z.totalDamageTaken.forEach(Ce=>{Ce==null||Ce.forEach(He=>{var fr,En,Rn,yi;if(!(He!=null&&He.id))return;let Ze=`Skill ${He.id}`;const ut=((fr=q.skillMap)==null?void 0:fr[`s${He.id}`])||((En=q.skillMap)==null?void 0:En[`${He.id}`]);let zt=ut==null?void 0:ut.icon;if(ut!=null&&ut.name&&(Ze=ut.name),Ze.startsWith("Skill ")){const Eo=ep(Ze,He.id,q.buffMap);Eo&&(Ze=Eo,zt=((yi=(Rn=q.buffMap)==null?void 0:Rn[`b${He.id}`])==null?void 0:yi.icon)||zt)}O[He.id]||(O[He.id]={name:Ze,icon:zt,damage:0,hits:0}),(!O[He.id].name.startsWith("Skill ")||Ze.startsWith("Skill "))&&(O[He.id].name=Ze),!O[He.id].icon&&zt&&(O[He.id].icon=zt),O[He.id].damage+=He.totalDamage,O[He.id].hits+=He.hits})})}),de.forEach(z=>{if(z!=null&&z.isFake)return;const le=U((z==null?void 0:z.profession)||(z==null?void 0:z.name)||(z==null?void 0:z.id));le&&(ce[le]=(ce[le]||0)+1)});const $e=X6({players:Ee,targets:de,skillMap:q.skillMap,buffMap:q.buffMap,getPlayerKey:z=>z.account&&z.account!=="Unknown"?z.account:z.name||null}),et=PO(q.buffMap);Object.entries($e.playerConditions).forEach(([z,le])=>{const De=$.get(z);De&&Object.entries(le).forEach(([Ke,Te])=>{const oe=De.outgoingConditions[Ke]||{applications:0,damage:0,skills:{},icon:Te.icon};oe.applications+=Number(Te.applications||0),oe.damage+=Number(Te.damage||0),Te.applicationsFromBuffs&&(oe.applicationsFromBuffs=(oe.applicationsFromBuffs||0)+Te.applicationsFromBuffs),Te.applicationsFromBuffsActive&&(oe.applicationsFromBuffsActive=(oe.applicationsFromBuffsActive||0)+Te.applicationsFromBuffsActive),Object.entries(Te.skills||{}).forEach(([_e,Se])=>{const nt=oe.skills[_e]||{name:Se.name,hits:0,damage:0,icon:Se.icon};nt.hits+=Number(Se.hits||0),nt.damage+=Number(Se.damage||0),!nt.icon&&Se.icon&&(nt.icon=Se.icon),oe.skills[_e]=nt}),!oe.icon&&Te.icon&&(oe.icon=Te.icon),De.outgoingConditions[Ke]=oe})}),Object.entries($e.summary).forEach(([z,le])=>{const De=Q[z]||{name:le.name||z,icon:le.icon,applications:0,damage:0};De.applications+=Number(le.applications||0),De.damage+=Number(le.damage||0),le.applicationsFromBuffs&&(De.applicationsFromBuffs=(De.applicationsFromBuffs||0)+le.applicationsFromBuffs),le.applicationsFromBuffsActive&&(De.applicationsFromBuffsActive=(De.applicationsFromBuffsActive||0)+le.applicationsFromBuffsActive),!De.icon&&le.icon&&(De.icon=le.icon),Q[z]=De}),je.forEach(z=>{const le=z.account&&z.account!=="Unknown"?z.account:z.name||"Unknown",De=$.get(le);!De||!z.totalDamageTaken||z.totalDamageTaken.forEach(Ke=>Ke==null?void 0:Ke.forEach(Te=>{var Tt,Fe,st,pt,Ct,fn;if(!(Te!=null&&Te.id))return;let oe=`Skill ${Te.id}`;const _e=((Tt=q.skillMap)==null?void 0:Tt[`s${Te.id}`])||((Fe=q.skillMap)==null?void 0:Fe[`${Te.id}`]);_e!=null&&_e.name&&(oe=_e.name);const Se=ep(oe,Te.id,q.buffMap);if(!Se)return;const nt=(pt=(st=q.buffMap)==null?void 0:st[`b${Te.id}`])==null?void 0:pt.name,Rt=et.get(Se)||((fn=(Ct=q.buffMap)==null?void 0:Ct[`b${Te.id}`])==null?void 0:fn.icon),_t=(_e==null?void 0:_e.icon)||Rt;oe.startsWith("Skill ")&&(nt||Se)&&(oe=nt||Se);const ft=Number(Te.hits??0),Et=Number(Te.totalDamage??0),Bt=re[Se]||{name:Se,icon:Rt,applications:0,damage:0};Bt.applications+=Number.isFinite(ft)?ft:0,Bt.damage+=Number.isFinite(Et)?Et:0,!Bt.icon&&Rt&&(Bt.icon=Rt),re[Se]=Bt;const Kt=De.incomingConditions[Se]||{applications:0,damage:0,skills:{},icon:Rt};Kt.applications+=Number.isFinite(ft)?ft:0,Kt.damage+=Number.isFinite(Et)?Et:0;const Nt=Kt.skills[oe]||{name:oe,hits:0,damage:0,icon:_t};Nt.hits+=Number.isFinite(ft)?ft:0,Nt.damage+=Number.isFinite(Et)?Et:0,!Nt.icon&&_t&&(Nt.icon=_t),Kt.skills[oe]=Nt,!Kt.icon&&Rt&&(Kt.icon=Rt),De.incomingConditions[Se]=Kt}))});const Yt=q.player_damage_mitigation||q.playerDamageMitigation,On=Yt&&typeof Yt=="object"&&Object.keys(Yt).length>0;On&&Object.entries(Yt).forEach(([z,le])=>{if(!le||typeof le!="object")return;const De=ne(z),Ke=F(_,De.account,De);Object.values(le).forEach(Te=>{V((Te==null?void 0:Te.avoided_damage)??(Te==null?void 0:Te.avoidedDamage))<=0||ue(Ke.mitigationTotals,Te)})});const Nn=q.player_minion_damage_mitigation||q.playerMinionDamageMitigation,rn=Nn&&typeof Nn=="object"&&Object.keys(Nn).length>0;rn&&Object.entries(Nn).forEach(([z,le])=>{if(!le||typeof le!="object")return;const De=ne(z);Object.entries(le).forEach(([Ke,Te])=>{if(!Te||typeof Te!="object")return;const oe=`${De.account}::${Ke}`,_e=J(ae,oe,{...De,minion:String(Ke||"Unknown")});Object.values(Te).forEach(Se=>{ue(_e.mitigationTotals,Se)})})}),(!On||!rn)&&(On||je.forEach(z=>{const le=(z==null?void 0:z.totalDamageTaken)||[];if(!Array.isArray(le)||le.length===0)return;const De=z.account||z.name||"Unknown",Ke={account:De,name:z.name||De,profession:U(z.profession||"Unknown")};F(_,De,Ke);const Te=q.skillMap||{},oe=q.buffMap||{},_e=Array.isArray(le)?le[0]:null;if(_e==null||_e.forEach(Se=>{if(!(Se!=null&&Se.id))return;const nt=V(Se.blocked),Rt=V(Se.evaded),_t=V(Se.glance??Se.glanced),ft=V(Se.missed),Et=V(Se.invulned),Bt=V(Se.interrupted),Kt=V(Se.hits??Se.connectedHits),Nt=Number(Se.id),Tt=H(Nt,Te,oe);if(vn(wt,`${De}::${Nt}`,{totalHits:Kt,blocked:nt,evaded:Rt,glanced:_t,missed:ft,invulned:Et,interrupted:Bt}),De===te){const Fe=B.get(Nt),st=I(Nt),pt=st.hasSkill?st.hits>0?st.avg:0:1,Ct=st.hasSkill?st.min||0:1,fn=st.hits>0?_t*pt/2+(nt+Rt+ft+Et+Bt)*pt:0,An=st.hits>0?_t*Ct/2+(nt+Rt+ft+Et+Bt)*Ct:0;Ye.push({logId:D.filePath||D.id||W,skillId:Se.id,skillName:Tt,blocked:nt,evaded:Rt,glanced:_t,missed:ft,invulned:Et,interrupted:Bt,totalAvoids:nt+Rt+_t+ft+Et+Bt,avg:pt,min:Ct,enemyHits:(Fe==null?void 0:Fe.connectedHits)??0,enemyTotalDmg:(Fe==null?void 0:Fe.totalDamage)??0,avoidDmg:fn,avoidMinDmg:An})}}),De===te){const Se=(nt,Rt)=>{let _t=0,ft=0,Et=0;if(!Array.isArray(nt))return{total:_t,minTotal:ft,hits:Et};for(const Bt of nt){if(!(Bt!=null&&Bt.id))continue;const Kt=V(Bt.blocked),Nt=V(Bt.evaded),Tt=V(Bt.glance??Bt.glanced),Fe=V(Bt.missed),st=V(Bt.invulned),pt=V(Bt.interrupted),Ct=H(Number(Bt.id),Be,Ne),fn=Rt(Number(Bt.id),Ct);(fn.hits??0)>0&&(_t+=Tt*fn.avg/2+(Kt+Nt+Fe+st+pt)*fn.avg,ft+=Tt*fn.min/2+(Kt+Nt+Fe+st+pt)*fn.min),Et+=V(Bt.hits??Bt.connectedHits)}return{total:_t,minTotal:ft,hits:Et}};Oe.push({logId:D.filePath||D.id||W,variant:"current_global_name_taken0",...Se(_e,(nt,Rt)=>{const _t=I(nt),ft=_t.hasSkill?_t.hits>0?_t.avg:0:1,Et=_t.hasSkill?_t.min||0:1;return{avg:ft,min:Et,hits:_t.hits}})})}}),rn||je.forEach(z=>{const le=(z==null?void 0:z.minions)||[];if(!Array.isArray(le)||le.length===0)return;const De=z.account||z.name||"Unknown",Ke={account:De,name:z.name||De,profession:U(z.profession||"Unknown")},Te=q.skillMap||{},oe=q.buffMap||{};le.forEach(_e=>{const Se=(_e==null?void 0:_e.totalDamageTakenDist)||[];if(!Array.isArray(Se)||Se.length===0)return;let nt=String((_e==null?void 0:_e.name)||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";nt.toUpperCase().includes("UNKNOWN")&&(nt="Unknown");const Rt=`${De}::${nt}`;J(ae,Rt,{...Ke,minion:nt});const _t=Array.isArray(Se)?Se[0]:null;if(_t==null||_t.forEach(ft=>{if(!(ft!=null&&ft.id))return;const Et=V(ft.blocked),Bt=V(ft.evaded),Kt=V(ft.glance??ft.glanced),Nt=V(ft.missed),Tt=V(ft.invulned),Fe=V(ft.interrupted),st=V(ft.hits??ft.connectedHits),pt=Number(ft.id),Ct=H(pt,Te,oe);if(vn(qt,`${Rt}::${pt}`,{totalHits:st,blocked:Et,evaded:Bt,glanced:Kt,missed:Nt,invulned:Tt,interrupted:Fe}),De===te&&nt===Pe){const fn=B.get(pt),An=I(pt),Fn=An.hasSkill?An.hits>0?An.avg:0:1,Mr=An.hasSkill?An.min||0:1,Vs=An.hits>0?Kt*Fn/2+(Et+Bt+Nt+Tt+Fe)*Fn:0,Ws=An.hits>0?Kt*Mr/2+(Et+Bt+Nt+Tt+Fe)*Mr:0;Ue.push({logId:D.filePath||D.id||W,skillId:ft.id,skillName:Ct,blocked:Et,evaded:Bt,glanced:Kt,missed:Nt,invulned:Tt,interrupted:Fe,totalAvoids:Et+Bt+Kt+Nt+Tt+Fe,avg:Fn,min:Mr,enemyHits:(fn==null?void 0:fn.connectedHits)??0,enemyTotalDmg:(fn==null?void 0:fn.totalDamage)??0,avoidDmg:Vs,avoidMinDmg:Ws})}}),De===te&&nt===Pe){const ft=(Nt,Tt)=>{let Fe=0,st=0,pt=0;if(!Array.isArray(Nt))return{total:Fe,minTotal:st,hits:pt};for(const Ct of Nt){if(!(Ct!=null&&Ct.id))continue;const fn=V(Ct.blocked),An=V(Ct.evaded),Fn=V(Ct.glance??Ct.glanced),Mr=V(Ct.missed),Vs=V(Ct.invulned),Ws=V(Ct.interrupted),Lc=H(Number(Ct.id),Be,Ne),{avg:jl,min:da}=Tt(Number(Ct.id),Lc);V(Ct.hits??Ct.connectedHits)>0&&(Fe+=Fn*jl/2+(fn+An+Mr+Vs+Ws)*jl,st+=Fn*da/2+(fn+An+Mr+Vs+Ws)*da),pt+=V(Ct.hits??Ct.connectedHits)}return{total:Fe,minTotal:st,hits:pt}},Et=Array.isArray(Se)?Se[0]||[]:[],Bt=Array.isArray(Se)?Se.flat():[],Kt=Array.isArray(_e==null?void 0:_e.totalDamageTaken)?_e.totalDamageTaken[0]||[]:[];se.push({logId:D.filePath||D.id||W,variant:"current_global_name_dist0",...ft(Et,(Nt,Tt)=>{const Fe=I(Nt),st=Fe.hasSkill?Fe.hits>0?Fe.avg:0:1,pt=Fe.hasSkill&&Fe.min||0;return{avg:st,min:pt}})}),se.push({logId:D.filePath||D.id||W,variant:"local_name_dist0",...ft(Et,(Nt,Tt)=>Gt(Tt))}),se.push({logId:D.filePath||D.id||W,variant:"local_id_dist0",...ft(Et,Nt=>St(Nt))}),se.push({logId:D.filePath||D.id||W,variant:"global_name_alllists",...ft(Bt,(Nt,Tt)=>{const Fe=I(Nt),st=Fe.hasSkill?Fe.hits>0?Fe.avg:0:1,pt=Fe.hasSkill&&Fe.min||0;return{avg:st,min:pt}})}),se.push({logId:D.filePath||D.id||W,variant:"global_name_taken0",...ft(Kt,(Nt,Tt)=>{const Fe=I(Nt),st=Fe.hasSkill?Fe.hits>0?Fe.avg:0:1,pt=Fe.hasSkill&&Fe.min||0;return{avg:st,min:pt}})})}})}))}),Ue.length>0&&(console.groupCollapsed("[Mitigation Debug] Ashtonlightstone.9145 / Illusionary Warden"),console.table(Ue),se.length>0&&console.table(se),console.groupEnd()),Ye.length>0&&(console.groupCollapsed("[Mitigation Debug] Ashtonlightstone.9145 / Player"),console.table(Ye),Oe.length>0&&console.table(Oe),console.groupEnd());const $n=(D,W)=>{const q=new Map,Ee=de=>{let Be=q.get(de);return Be||(Be=ee(),q.set(de,Be)),Be};W.forEach((de,Be)=>{const Ne=Be.lastIndexOf("::"),lt=Ne>-1?Be.slice(0,Ne):Be,ht=Ne>-1?Number(Be.slice(Ne+2)):Number.NaN,St=Number.isFinite(ht)?I(ht):{hasSkill:!1,avg:0,min:0,hits:0};if(!St.hasSkill||St.hits<=0)return;const Gt=St.avg,Ut=St.min,kn=de.glanced*Gt/2+(de.blocked+de.evaded+de.missed+de.invulned+de.interrupted)*Gt,qe=de.glanced*Ut/2+(de.blocked+de.evaded+de.missed+de.invulned+de.interrupted)*Ut;if(kn<=0)return;const Qe=Ee(lt);Qe.totalHits+=de.totalHits,Qe.blocked+=de.blocked,Qe.evaded+=de.evaded,Qe.glanced+=de.glanced,Qe.missed+=de.missed,Qe.invulned+=de.invulned,Qe.interrupted+=de.interrupted,Qe.totalMitigation+=kn,Qe.minMitigation+=qe}),D.forEach((de,Be)=>{const Ne=q.get(Be)||ee();de.mitigationTotals.totalHits=Ne.totalHits,de.mitigationTotals.blocked=Ne.blocked,de.mitigationTotals.evaded=Ne.evaded,de.mitigationTotals.glanced=Ne.glanced,de.mitigationTotals.missed=Ne.missed,de.mitigationTotals.invulned=Ne.invulned,de.mitigationTotals.interrupted=Ne.interrupted,de.mitigationTotals.totalMitigation=Ne.totalMitigation,de.mitigationTotals.minMitigation=Ne.minMitigation})};$n(_,wt),$n(ae,qt);const ge=p>0?Math.round(v/p):0,Le=p>0?Math.round(b/p):0,kt=w>0?(S/w).toFixed(2):S>0?"":"0.00",Qt=C>0?(N/C).toFixed(2):N>0?"":"0.00",Vt=(D,W)=>{const Ee=D.filter(Ne=>Number.isFinite(Ne.value)&&(W?Ne.value>0:Ne.value>=0)).sort((Ne,lt)=>{const ht=W?lt.value-Ne.value:Ne.value-lt.value;return ht!==0?ht:Ne.account.localeCompare(lt.account)});let de=null,Be=0;return Ee.map((Ne,lt)=>((de===null||Ne.value!==de)&&(Be=lt+1,de=Ne.value),{rank:Be,...Ne}))},wn=Array.from($.values()).map(D=>{const W=Array.from(D.professions).filter(q=>q!=="Unknown");if(D.professionList=W,W.length>0){let q=W[0],Ee=D.professionTimeMs[q]||0;W.forEach(de=>{const Be=D.professionTimeMs[de]||0;Be>Ee&&(Ee=Be,q=de)}),D.profession=q}return{key:D.account,stat:D}}),qi=D=>{const W=$.get(D.account);if(!W){const de=D.professionList.length>0?D.professionList:D.profession?[D.profession]:[];return{...D,professionList:de}}const q=W.professionList&&W.professionList.length>0?W.professionList:Array.from(W.professions||[]).filter(de=>de&&de!=="Unknown"),Ee=W.profession||D.profession;return{...D,profession:Ee,professionList:q.length>0?q:Ee?[Ee]:[],activeMs:W.defenseActiveMs||W.totalFightMs||D.activeMs}},vi=Array.from(_.values()).map(qi).filter(D=>ie(D.mitigationTotals)).sort((D,W)=>D.account.localeCompare(W.account)),ca=Array.from(ae.values()).map(qi).filter(D=>D.mitigationTotals.totalMitigation>0).sort((D,W)=>{const q=D.account.localeCompare(W.account);return q!==0?q:String(D.minion||"").localeCompare(String(W.minion||""))}),or=(D,W)=>{switch(W){case"downContrib":return D.downContrib;case"barrier":return D.barrier;case"healing":return D.healing;case"dodges":return D.dodges;case"strips":return D.strips;case"cleanses":return D.cleanses;case"cc":return D.cc;case"stability":return D.stab;case"revives":return D.revives;case"dps":return D.dps;case"damage":return D.damage;case"participation":return D.logsJoined;case"closestToTag":return!D.isCommander&&D.distCount>0?D.totalDist/D.distCount:Number.POSITIVE_INFINITY;default:return 0}},xn=(D,W)=>Vt(wn.map(({stat:q})=>({account:q.account,profession:q.profession,professionList:q.professionList,value:or(q,D),count:q.logsJoined})),W),un={downContrib:xn("downContrib",!0),barrier:xn("barrier",!0),healing:xn("healing",!0),dodges:xn("dodges",!0),strips:xn("strips",!0),cleanses:xn("cleanses",!0),cc:xn("cc",!0),stability:xn("stability",!0),revives:xn("revives",!0),participation:xn("participation",!0),dps:xn("dps",!0),damage:xn("damage",!0),closestToTag:xn("closestToTag",!1).filter(D=>Number.isFinite(D.value))},ii={downContrib:"downContrib",barrier:"barrier",healing:"healing",dodges:"dodges",strips:"strips",cleanses:"cleanses",cc:"cc",stability:"stability",closestToTag:"closestToTag"},yn=D=>{const W=D==null?void 0:D[0];return{value:(W==null?void 0:W.value)??0,player:(W==null?void 0:W.account)??"-",count:(W==null?void 0:W.count)??0,profession:(W==null?void 0:W.profession)??"Unknown",professionList:(W==null?void 0:W.professionList)??[]}},ai={maxDownContrib:yn([]),maxBarrier:yn([]),maxHealing:yn([]),maxDodges:yn([]),maxStrips:yn([]),maxCleanses:yn([]),maxCC:yn([]),maxStab:yn([]),closestToTag:yn([])},Yr={},Ta=(D,W)=>{if(W==="closestToTag")return or(D,W);const q=Math.max(1,(D.totalFightMs||0)/1e3);return or(D,W)/q};Object.values(ii).forEach(D=>{const W=D!=="closestToTag";Yr[D]=Vt(wn.map(({stat:q})=>({account:q.account,profession:q.profession,professionList:q.professionList,value:Ta(q,D),count:q.logsJoined})),W)}),ai.maxDownContrib=yn(Yr.downContrib),ai.maxBarrier=yn(Yr.barrier),ai.maxHealing=yn(Yr.healing),ai.maxDodges=yn(Yr.dodges),ai.maxStrips=yn(Yr.strips),ai.maxCleanses=yn(Yr.cleanses),ai.maxCC=yn(Yr.cc),ai.maxStab=yn(Yr.stability),ai.closestToTag=yn(Yr.closestToTag);const ua={maxDownContrib:yn(un.downContrib),maxBarrier:yn(un.barrier),maxHealing:yn(un.healing),maxDodges:yn(un.dodges),maxStrips:yn(un.strips),maxCleanses:yn(un.cleanses),maxCC:yn(un.cc),maxStab:yn(un.stability),closestToTag:yn(un.closestToTag)};let Qa={player:"None",account:"None",score:-1,profession:"Unknown",professionList:[],color:"#64748b",topStats:[]},Dc,Sl,Mc=0;if(s!=null&&s.showMvp){const D={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},W=Be=>{const Ne=D[Be];return Ne?Number(o[Ne]||0)>0:!1},q=[],Ee=Be=>[...Be||[]].filter(Ne=>W(Ne==null?void 0:Ne.name)).sort((Ne,lt)=>lt.ratio-Ne.ratio||Ne.rank-lt.rank||Ne.name.localeCompare(lt.name)).slice(0,3),de=Be=>{var lt;if(!Be)return;const Ne=Ee(Be.contribs);return{...Be,player:Be.name,reason:((lt=Ne[0])==null?void 0:lt.name)||"Top Performance",topStats:Ne}};wn.forEach(({stat:Be})=>{let Ne=0;const lt=[],ht=(St,Gt,Ut,kn,qe=!0)=>{var rt,Ot;if(Ut<=0)return;const Qe=((rt=Gt[0])==null?void 0:rt.value)||0;if(Qe&&Number.isFinite(St)&&(qe?St>0:St<Number.POSITIVE_INFINITY)){const ct=qe?St/Qe:Qe/St;Ne+=ct*Ut;const xe=((Ot=Gt.find(ye=>ye.account===Be.account))==null?void 0:Ot.rank)||0;lt.push({name:kn,ratio:ct,val:St.toLocaleString(),rank:xe})}};ht(Be.downContrib,un.downContrib,o.downContribution,"Down Contribution"),ht(Be.healing,un.healing,o.healing,"Healing"),ht(Be.cleanses,un.cleanses,o.cleanses,"Cleanses"),ht(Be.strips,un.strips,o.strips,"Strips"),ht(Be.stab,un.stability,o.stability,"Stability"),ht(Be.cc,un.cc,o.cc,"CC"),ht(Be.revives,un.revives,o.revives,"Revives"),ht(or(Be,"closestToTag"),un.closestToTag,o.distanceToTag,"Distance to Tag",!1),ht(Be.logsJoined,un.participation,o.participation,"Participation"),ht(Be.dodges,un.dodges,o.dodging,"Dodging"),ht(Be.dps,un.dps,o.dps,"DPS"),ht(Be.damage,un.damage,o.damage,"Damage"),q.push({...Be,score:Ne,contribs:lt.filter(St=>W(St.name))})}),q.sort((Be,Ne)=>Ne.score-Be.score),q[0]&&q[0].score>0&&(Qa=de(q[0])||Qa),Dc=de(q[1]),Sl=de(q[2]),Mc=q.length>0?q.reduce((Be,Ne)=>Be+Ne.score,0)/q.length:0}const Oc=Object.values(M).sort((D,W)=>W.damage-D.damage||W.hits-D.hits||String(D.name||"").localeCompare(String(W.name||""))).slice(0,25),Nl=Object.values(M).sort((D,W)=>W.downContribution-D.downContribution||W.hits-D.hits||String(D.name||"").localeCompare(String(W.name||""))).slice(0,25),Ic=m==="downContribution"?Nl:Oc,_c=Object.values(O).sort((D,W)=>W.damage-D.damage).slice(0,25),Z=D=>{const W=String(D).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),q=W.match(/^(Red|Blue|Green)\s+(?:Alpine|Desert)?\s*Borderlands$/i);return q?`${q[1]} Borderlands`:W||"Unknown"},he=(D,W)=>Z((D==null?void 0:D.zone)||(D==null?void 0:D.mapName)||(D==null?void 0:D.map)||(D==null?void 0:D.location)||(D==null?void 0:D.fightName)||(W==null?void 0:W.fightName)||(W==null?void 0:W.encounterName)||"Unknown"),we=(D,W)=>{const q=(W==null?void 0:W.permalink)||(D==null?void 0:D.permalink);if(typeof q=="string"&&q.trim().length>0)return q.trim();const Ee=D==null?void 0:D.uploadLinks;if(!Array.isArray(Ee))return"";for(const de of Ee){if(typeof de=="string"&&de.trim().length>0)return de.trim();if(de&&typeof de=="object"){const Be=de.permalink||de.link||de.url||de.reportLink;if(typeof Be=="string"&&Be.trim().length>0)return Be.trim()}}return""},it={};a.forEach(D=>{const W=he(D==null?void 0:D.details,D);it[W]=(it[W]||0)+1});const Dt=Object.entries(it).map(([D,W])=>{const q=String(D).trim(),Ee=/eternal battlegrounds|^ebg$/i.test(q);let de="#64748b";return Ee?de="#ffffff":/red/i.test(q)?de="#ef4444":/blue/i.test(q)?de="#3b82f6":/green/i.test(q)&&(de="#22c55e"),{name:D,value:W,color:de}}).sort((D,W)=>W.value-D.value),{boonTables:Wt}=O6(a),Jt=a.map((D,W)=>{var Ee,de;const q=((Ee=D.details)==null?void 0:Ee.players)||[];return{index:W+1,label:`Log ${W+1}`,timestamp:_i(D.details,D),squadCount:q.filter(Be=>!Be.notInSquad).length,friendlyCount:q.length,enemies:((de=D.details)==null?void 0:de.targets).filter(Be=>!Be.isFake).length}}).sort((D,W)=>D.timestamp-W.timestamp),bt={};Array.from($.values()).forEach(D=>{D.profession&&D.profession!=="Unknown"&&(bt[D.profession]=(bt[D.profession]||0)+1)});const mt=Object.entries(bt).map(([D,W])=>({name:D,value:W,color:rc(D)})).sort((D,W)=>W.value-D.value),pn={};Object.keys(ce).length===0&&a.forEach(D=>{var W,q;(q=(W=D.details)==null?void 0:W.targets)==null||q.forEach(Ee=>{if(Ee.isFake)return;const de=Ee.profession&&Ee.profession!=="Unknown"?Ee.profession:Ee.name||Ee.id||"Unknown",Be=U(de);pn[Be]=(pn[Be]||0)+1})});const Xr=Object.keys(ce).length>0?ce:pn,We=Object.entries(Xr).map(([D,W])=>({name:D,value:W,color:rc(D)})).sort((D,W)=>W.value-D.value),Mt=a.map((D,W)=>({log:D,originalIndex:W})).sort((D,W)=>_i(D.log.details,D.log)-_i(W.log.details,W.log)),nn=Mt.map(({log:D},W)=>{const q=D.details;if(!q)return null;const Ee=q.players||[],de=Ee.filter(fe=>!fe.notInSquad),Be=Ee.filter(fe=>fe.notInSquad),lt=(q.targets||[]).filter(fe=>!fe.isFake),ht=de.reduce((fe,ze)=>{var Je,$e;return fe+((($e=(Je=ze.dpsAll)==null?void 0:Je[0])==null?void 0:$e.damage)||0)},0),St=de.reduce((fe,ze)=>{var Je,$e;return fe+((($e=(Je=ze.defenses)==null?void 0:Je[0])==null?void 0:$e.damageTaken)||0)},0),{enemyDeaths:Gt,enemyDownsDeaths:Ut}=A(q),kn=E(q),qe=_i(q,D),Qe=he(q,D),rt=fe=>{if(!fe||typeof fe!="object")return;const ze=fe.teamID??fe.teamId??fe.team??fe.teamColor??fe.team_color;if(ze!=null)return ze;const Je=Object.keys(fe).find($e=>/^team/i.test($e));return Je?fe[Je]:void 0},Ot=(fe,ze)=>{const Je={};return fe.forEach($e=>{const et=ze($e),Yt=U(et);Yt&&(Je[Yt]=(Je[Yt]||0)+1)}),Je},ct=Ot(de,fe=>(fe==null?void 0:fe.profession)||(fe==null?void 0:fe.name)),xe=Ot(Be,fe=>(fe==null?void 0:fe.profession)||(fe==null?void 0:fe.name)),ye=Ot(lt,fe=>(fe==null?void 0:fe.profession)||(fe==null?void 0:fe.name)||(fe==null?void 0:fe.id)),Re=new Set;de.forEach(fe=>{const ze=rt(fe);ze!=null&&Re.add(String(ze))});const je=new Map;lt.forEach(fe=>{if((fe==null?void 0:fe.enemyPlayer)===!1)return;const ze=rt(fe);if(ze==null)return;const Je=String(ze);Re.has(Je)||je.set(Je,(je.get(Je)||0)+1)});const tt=Array.from(je.entries()).sort((fe,ze)=>{const Je=ze[1]-fe[1];return Je!==0?Je:fe[0].localeCompare(ze[0],void 0,{numeric:!0})}).slice(0,3).map(([fe,ze])=>({teamId:fe,count:ze}));return{id:D.filePath||`fight-${W}`,label:D.encounterName||`Fight ${W+1}`,permalink:we(q,D),timestamp:qe,mapName:Qe,duration:gh(q.durationMS),isWin:kn,squadCount:de.length,allyCount:Be.length,enemyCount:lt.length,teamBreakdown:tt,alliesDown:de.reduce((fe,ze)=>{var Je,$e;return fe+((($e=(Je=ze.defenses)==null?void 0:Je[0])==null?void 0:$e.downCount)||0)},0),alliesDead:de.reduce((fe,ze)=>{var Je,$e;return fe+((($e=(Je=ze.defenses)==null?void 0:Je[0])==null?void 0:$e.deadCount)||0)},0),alliesRevived:de.reduce((fe,ze)=>{var Je,$e;return Number((($e=(Je=ze.statsAll)==null?void 0:Je[0])==null?void 0:$e.saved)||0)>0?fe+1:fe},0),rallies:0,enemyDeaths:Gt,enemyDowns:Math.max(0,Ut-Gt),totalOutgoingDamage:ht,totalIncomingDamage:St,incomingBarrierAbsorbed:de.reduce((fe,ze)=>{var Je,$e;return fe+((($e=(Je=ze.defenses)==null?void 0:Je[0])==null?void 0:$e.damageBarrier)||0)},0),outgoingBarrierAbsorbed:de.reduce((fe,ze)=>{var et;const Je=(et=ze.extBarrierStats)==null?void 0:et.outgoingBarrier;if(!Array.isArray(Je))return fe;let $e=0;return Je.forEach(Yt=>{if(Array.isArray(Yt)){Yt.forEach(On=>{$e+=Number((On==null?void 0:On.barrier)||0)});return}$e+=Number((Yt==null?void 0:Yt.barrier)||0)}),fe+$e},0),squadClassCountsFight:ct,allyClassCountsFight:xe,enemyClassCounts:ye}}).filter(Boolean),dn=Mt.map(({log:D},W)=>{const q=D.details;if(!q)return null;const de=(Array.isArray(q.players)?q.players:[]).filter(z=>!z.notInSquad),Be=Array.isArray(q.targets)?q.targets:[],Ne=_i(q,D),lt=he(q,D),ht=Number(q.durationMS||0),{squadDownsDeaths:St,enemyDownsDeaths:Gt,squadDeaths:Ut,enemyDeaths:kn}=A(q),qe=new Map,Qe=(z,le,De)=>{const Ke=qe.get(z)||{label:z,damage:0,hits:0};Ke.damage+=le,Ke.hits+=De,qe.set(z,Ke)};if(de.forEach(z=>{(Array.isArray(z==null?void 0:z.statsTargets)?z.statsTargets:[]).forEach((De,Ke)=>{const Te=Array.isArray(De)?De[0]:De,oe=Number((Te==null?void 0:Te.damage)??(Te==null?void 0:Te.totalDmg)??(Te==null?void 0:Te.connectedDmg)??0),_e=Number((Te==null?void 0:Te.connectedHits)??(Te==null?void 0:Te.connectedDamageCount)??(Te==null?void 0:Te.hits)??0);if(oe<=0&&_e<=0)return;const Se=Be[Ke];if(Se!=null&&Se.isFake)return;const nt=(Se==null?void 0:Se.profession)||(Se==null?void 0:Se.name)||(Se==null?void 0:Se.id)||`Target ${Ke+1}`,Rt=U(nt);Qe(Rt||String(nt),oe,_e)})}),qe.size===0){const z=new Map,le=De=>{if(!Array.isArray(De)||De.length===0)return[];const Ke=De[0];if(Array.isArray(Ke)&&Array.isArray(Ke[0])){if(typeof Ke[0][0]=="number")return Ke;if(Array.isArray(Ke[0])&&typeof Ke[0][0]=="number")return De.map(Te=>Array.isArray(Te)?Te[0]||[]:[])}return[]};de.forEach(De=>{le(De==null?void 0:De.targetDamage1S).forEach((Te,oe)=>{if(!Array.isArray(Te)||Te.length===0)return;const _e=Te.map(nt=>Number(nt)).filter(nt=>Number.isFinite(nt)&&nt>=0);if(_e.length===0)return;const Se=Math.max(0,_e[_e.length-1]||0);Se<=0||z.set(oe,(z.get(oe)||0)+Se)})}),z.forEach((De,Ke)=>{if(De<=0)return;const Te=Be[Ke];if(Te!=null&&Te.isFake)return;const oe=(Te==null?void 0:Te.profession)||(Te==null?void 0:Te.name)||(Te==null?void 0:Te.id)||`Target ${Ke+1}`,_e=U(oe);Qe(_e||String(oe),De,0)})}if(qe.size===0&&Be.forEach((z,le)=>{if(z!=null&&z.isFake)return;const De=Array.isArray(z==null?void 0:z.totalDamageTaken)?z.totalDamageTaken:Array.isArray(z==null?void 0:z.totalDamageDist)?z.totalDamageDist:[];let Ke=0,Te=0;if(De.forEach(Se=>{Ke+=Number((Se==null?void 0:Se.totalDamage)||(Se==null?void 0:Se.damage)||0),Te+=Number((Se==null?void 0:Se.connectedHits)||(Se==null?void 0:Se.hits)||0)}),Ke<=0&&Number((z==null?void 0:z.damageTaken)||0)>0&&(Ke=Number(z.damageTaken||0)),Ke<=0&&Te<=0)return;const oe=(z==null?void 0:z.profession)||(z==null?void 0:z.name)||(z==null?void 0:z.id)||`Target ${le+1}`,_e=U(oe);Qe(_e||String(oe),Ke,Te)}),qe.size===0){const z=new Map;Be.forEach((le,De)=>{if(le!=null&&le.isFake)return;const Ke=(le==null?void 0:le.profession)||(le==null?void 0:le.name)||(le==null?void 0:le.id)||`Target ${De+1}`,Te=U(Ke)||String(Ke);z.set(Te,(z.get(Te)||0)+1)}),z.forEach((le,De)=>{le>0&&Qe(De,le,0)})}const rt=Array.from(qe.values()).sort((z,le)=>le.damage-z.damage||le.hits-z.hits||z.label.localeCompare(le.label)),Ot=rt.reduce((z,le)=>z+le.damage,0),ct=rt.map(z=>({label:z.label,damage:z.damage,hits:z.hits,share:Ot>0?z.damage/Ot:0})),xe=Be.filter(z=>!(z!=null&&z.isFake)).length,ye=de.length,Re=de.reduce((z,le)=>{var De,Ke;return z+Number(((Ke=(De=le==null?void 0:le.dpsAll)==null?void 0:De[0])==null?void 0:Ke.damage)||0)},0),je=de.reduce((z,le)=>{var De,Ke;return z+Number(((Ke=(De=le==null?void 0:le.defenses)==null?void 0:De[0])==null?void 0:Ke.damageTaken)||0)},0),tt=de.reduce((z,le)=>{var De,Ke;return z+Number(((Ke=(De=le==null?void 0:le.defenses)==null?void 0:De[0])==null?void 0:Ke.damageBarrier)||0)},0),fe=de.reduce((z,le)=>{var Te;const De=(Te=le==null?void 0:le.extBarrierStats)==null?void 0:Te.outgoingBarrier;if(!Array.isArray(De))return z;let Ke=0;return De.forEach(oe=>{Array.isArray(oe)?oe.forEach(_e=>{Ke+=Number((_e==null?void 0:_e.barrier)||0)}):Ke+=Number((oe==null?void 0:oe.barrier)||0)}),z+Ke},0),ze=de.reduce((z,le)=>{var De,Ke;return Number(((Ke=(De=le==null?void 0:le.statsAll)==null?void 0:De[0])==null?void 0:Ke.saved)||0)>0?z+1:z},0),Je=de.reduce((z,le)=>z+Number(rC(le)||0),0),$e=de.reduce((z,le)=>z+Number(iC(le)||0),0),et=de.reduce((z,le)=>z+Number((le==null?void 0:le.stabGeneration)||0),0),Yt=de.reduce((z,le)=>z+Number(sC(le)||0),0),On=de.reduce((z,le)=>z+Number(oC(le)||0),0),Nn=de.reduce((z,le)=>z+Number(lC(le)||0),0),rn=de.reduce((z,le)=>z+Number(aC(le)||0),0),en=Ut>0?kn/Ut:kn,on=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:E(q)?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:ye},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:xe},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:en},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:kn},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:Math.max(0,Gt-kn)},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:Ut},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:Math.max(0,St-Ut)},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:Re-je},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:Re},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:je},{metricId:"cleanses",metricLabel:"Squad Cleanses",higherIsBetter:!0,value:Je},{metricId:"strips",metricLabel:"Squad Strips",higherIsBetter:!0,value:$e},{metricId:"stability",metricLabel:"Squad Stability",higherIsBetter:!0,value:et},{metricId:"healing",metricLabel:"Squad Healing",higherIsBetter:!0,value:Yt},{metricId:"barrierOut",metricLabel:"Squad Barrier Out",higherIsBetter:!0,value:On},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:tt},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:fe},{metricId:"cc",metricLabel:"Squad CC",higherIsBetter:!0,value:Nn},{metricId:"downContrib",metricLabel:"Squad Down Contribution",higherIsBetter:!0,value:rn},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:ze}];return{id:D.filePath||D.id||`fight-${W+1}`,shortLabel:`F${W+1}`,fullLabel:`${lt||D.encounterName||"Unknown Map"}  ${gh(ht)}`,mapName:lt,timestamp:Ne,duration:gh(ht),isWin:E(q),targetFocus:ct,squadMetrics:on}}).filter(Boolean),Mn=Array.from($.values()).map(D=>{const W=Object.entries(D.professionTimeMs||{}).map(([q,Ee])=>({profession:q,timeMs:Number(Ee||0)})).filter(q=>q.profession&&q.profession!=="Unknown"&&q.timeMs>0).sort((q,Ee)=>{const de=Ee.timeMs-q.timeMs;return de!==0?de:q.profession.localeCompare(Ee.profession)});return{account:D.account||"Unknown",characterNames:Array.from(D.characterNames||[]).filter(Boolean).sort((q,Ee)=>q.localeCompare(Ee)),classTimes:W,combatTimeMs:Number(D.squadActiveMs||D.totalFightMs||0),squadTimeMs:(()=>{const q=Number(D.firstSeenFightTs||0),Ee=Number(D.lastSeenFightTs||0),de=Math.max(0,Number(D.lastSeenFightDurationMs||0));return q>0&&Ee>0?Math.max(0,Ee+de-q):Number(D.squadActiveMs||D.totalFightMs||0)})()}}).filter(D=>D.account&&D.account!=="Unknown").sort((D,W)=>{const q=W.squadTimeMs-D.squadTimeMs;return q!==0?q:String(D.account).localeCompare(String(W.account))}),si=a.map(D=>D).sort((D,W)=>_i(D.details,D)-_i(W.details,W)).map((D,W)=>{const q=D==null?void 0:D.details,Ee=Array.isArray(q==null?void 0:q.players)?q.players.filter(Ne=>!(Ne!=null&&Ne.notInSquad)):[],de=new Map;Ee.forEach(Ne=>{const lt=Number(Ne==null?void 0:Ne.group),ht=Number.isFinite(lt)&&lt>0?lt:0;de.has(ht)||de.set(ht,{party:ht,players:[],classCounts:{}});const St=U((Ne==null?void 0:Ne.profession)||(Ne==null?void 0:Ne.name)||"Unknown"),Gt=String((Ne==null?void 0:Ne.account)||"Unknown"),Ut=String((Ne==null?void 0:Ne.name)||(Ne==null?void 0:Ne.character_name)||""),kn=!!(Ne!=null&&Ne.hasCommanderTag),qe=de.get(ht);qe.players.push({account:Gt,characterName:Ut,profession:St,isCommander:kn}),qe.classCounts[St]=(qe.classCounts[St]||0)+1});const Be=Array.from(de.values()).map(Ne=>({...Ne,players:Ne.players.sort((lt,ht)=>{const St=+!!ht.isCommander-+!!lt.isCommander;if(St!==0)return St;const Gt=String(lt.profession).localeCompare(String(ht.profession));return Gt!==0?Gt:String(lt.account).localeCompare(String(ht.account))})})).sort((Ne,lt)=>Ne.party===0&&lt.party!==0?1:lt.party===0&&Ne.party!==0?-1:Ne.party-lt.party);return{id:String((D==null?void 0:D.filePath)||(D==null?void 0:D.id)||`fight-${W+1}`),label:`F${W+1}`,timestamp:_i(q,D),mapName:he(q,D),duration:gh(Number((q==null?void 0:q.durationMS)||0)),parties:Be}}),jn=(D,W)=>{const q=(W==null?void 0:W.skillMap)||{},Ee=(W==null?void 0:W.buffMap)||{};let de=0,Be="";const Ne=St=>{const Gt=Number(St);if(!Number.isFinite(Gt))return String(St||"Unknown Skill");const Ut=(q==null?void 0:q[`s${Gt}`])||(q==null?void 0:q[`${Gt}`]);if(Ut!=null&&Ut.name)return String(Ut.name);const kn=(Ee==null?void 0:Ee[`b${Gt}`])||(Ee==null?void 0:Ee[`${Gt}`]);return kn!=null&&kn.name?String(kn.name):`Skill ${Gt}`},lt=St=>{if(!St||typeof St!="object")return;const Gt=[Number(St.max),Number(St.maxDamage),Number(St.maxHit)].filter(kn=>Number.isFinite(kn)),Ut=Gt.length>0?Math.max(...Gt):0;Ut>de&&(de=Ut,Be=Ne(St.id))};let ht=!1;return Array.isArray(D==null?void 0:D.targetDamageDist)&&D.targetDamageDist.forEach(St=>{Array.isArray(St)&&St.forEach(Gt=>{Array.isArray(Gt)&&Gt.forEach(Ut=>{ht=!0,lt(Ut)})})}),(!ht||de<=0)&&Array.isArray(D==null?void 0:D.totalDamageDist)&&D.totalDamageDist.forEach(St=>{Array.isArray(St)&&St.forEach(Gt=>lt(Gt))}),{peak:de,skillName:Be||"Unknown Skill"}},xi=(()=>{const D=qe=>String(qe||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),W=qe=>D(qe).toLowerCase().split(/[^a-z0-9]+/i).map(Qe=>Qe.trim()).filter(Boolean).map(Qe=>Qe.length>3&&Qe.endsWith("s")?Qe.slice(0,-1):Qe),q=(qe,Qe)=>{const rt=D(qe),Ot=D(Qe);if(!Ot)return rt;if(!rt)return Ot;const ct=W(rt),xe=W(Ot),ye=new Set(ct),Re=new Set(xe),je=xe.length>0&&xe.every(fe=>ye.has(fe)),tt=ct.length>0&&ct.every(fe=>Re.has(fe));return je||tt?rt:`${rt} - ${Ot}`},Ee=[],de=new Map,Be=qe=>{const Qe=je=>{if(!Array.isArray(je)||je.length===0)return[];const tt=[];for(let fe=0;fe<je.length;fe+=1){const ze=Number(je[fe]||0),Je=fe>0?Number(je[fe-1]||0):0;tt.push(Math.max(0,ze-Je))}return tt},rt=je=>{if(!Array.isArray(je))return[];const tt=je.reduce((ze,Je)=>Math.max(ze,Array.isArray(Je)?Je.length:0),0);if(tt<=0)return[];const fe=new Array(tt).fill(0);return je.forEach(ze=>{if(Array.isArray(ze))for(let Je=0;Je<tt;Je+=1)fe[Je]+=Number(ze[Je]||0)}),fe},Ot=je=>Array.isArray(je)?je.map(tt=>Number(tt||0)):null,xe=(je=>{if(!Array.isArray(je)||je.length===0)return null;const tt=je[0];if(!Array.isArray(tt))return null;if(Array.isArray(tt[0])&&Array.isArray(tt[0][0]))return rt(tt);if(Array.isArray(tt[0])&&!Array.isArray(tt[0][0])){const fe=je.map(ze=>Ot(Array.isArray(ze)?ze[0]:null)).filter(ze=>Array.isArray(ze)&&ze.length>0);if(fe.length>0)return rt(fe)}return null})(qe==null?void 0:qe.targetDamage1S),ye=Array.isArray(qe==null?void 0:qe.damage1S)&&Array.isArray(qe.damage1S[0])?qe.damage1S[0]:null,Re=xe||(Array.isArray(ye)?ye.map(je=>Number(je||0)):[]);return Qe(Re)},Ne=(qe,Qe)=>{if(!Array.isArray(qe)||qe.length===0||Qe<=0)return 0;let rt=0,Ot=0;for(let ct=0;ct<qe.length;ct+=1)rt+=Number(qe[ct]||0),ct>=Qe&&(rt-=Number(qe[ct-Qe]||0)),ct>=Qe-1&&rt>Ot&&(Ot=rt);return Math.max(0,Ot)},lt=(qe,Qe)=>{if(!Array.isArray(qe)||qe.length===0||Qe<=0)return[];const rt=[];for(let Ot=0;Ot<qe.length;Ot+=Qe){const ct=Math.min(Ot+Qe,qe.length),xe=qe.slice(Ot,ct).reduce((ye,Re)=>ye+Number(Re||0),0);rt.push(xe)}return rt},ht=(qe,Qe)=>{const rt=Number(qe);if(!Number.isFinite(rt))return{name:String(qe||"Unknown Skill"),icon:void 0};const Ot=(Qe==null?void 0:Qe.skillMap)||{},ct=(Qe==null?void 0:Qe.buffMap)||{},xe=(Ot==null?void 0:Ot[`s${rt}`])||(Ot==null?void 0:Ot[`${rt}`]);if(xe!=null&&xe.name)return{name:String(xe.name),icon:xe==null?void 0:xe.icon};const ye=(ct==null?void 0:ct[`b${rt}`])||(ct==null?void 0:ct[`${rt}`]);return ye!=null&&ye.name?{name:String(ye.name),icon:ye==null?void 0:ye.icon}:{name:`Skill ${rt}`,icon:void 0}},St=qe=>Array.isArray(qe)?qe.map(Qe=>Array.isArray(Qe)?[Number(Qe[0]),Number(Qe[1])]:Qe&&typeof Qe=="object"?[Number(Qe.time),Number(Qe.value)]:null).filter(Qe=>!!Qe&&Number.isFinite(Qe[0])&&Qe[0]>=0):[],Gt=(qe,Qe,rt,Ot,ct)=>{if(!qe.length||Ot<=0)return[];const xe=Math.max(Ot*5e3,ct||0),ye=et=>et.reduce((Yt,On)=>On>=0&&On<=xe+2e3?Yt+1:Yt,0),Re=qe.map(et=>Number(et||0)).filter(et=>Number.isFinite(et)&&et>=0);if(!Re.length)return[];const je=[Re],tt=Re.reduce((et,Yt)=>Math.max(et,Yt),0),fe=Re.reduce((et,Yt)=>Math.min(et,Yt),Number.POSITIVE_INFINITY);tt>xe*20&&je.push(Re.map(et=>et/1e3)),tt<=xe*2&&fe>=0&&tt>0&&tt<Math.max(120,Ot*5+10)&&je.push(Re.map(et=>et*1e3));let ze=Re,Je=0,$e=-1;return je.forEach(et=>{const Yt=et.reduce((Nn,rn)=>Math.min(Nn,rn),Number.POSITIVE_INFINITY),On=new Set([0,...Qe,...rt]);if(Number.isFinite(Yt)&&xe>0&&Yt>xe){const Nn=Math.floor(Yt/xe)*xe;On.add(Nn),On.add(Math.max(0,Nn-xe))}On.forEach(Nn=>{const rn=et.map(on=>on-Nn),en=ye(rn);en>$e&&($e=en,Je=Nn,ze=et)})}),ze.map(et=>et-Je).filter(et=>Number.isFinite(et)&&et>=0)},Ut=(qe,Qe,rt,Ot,ct)=>{const xe=Gt(qe,Qe,rt,Ot,ct);return Array.from(new Set(xe.map(ye=>Math.floor(ye/5e3)).filter(ye=>Number.isFinite(ye)&&ye>=0&&ye<Ot)))};a.map(qe=>({log:qe,ts:_i(qe==null?void 0:qe.details,qe)})).sort((qe,Qe)=>qe.ts-Qe.ts).forEach(({log:qe},Qe)=>{const rt=qe==null?void 0:qe.details;if(!rt)return;const Ot=D(rt.fightName||qe.fightName||`Fight ${Qe+1}`),ct=he(rt,qe),xe=q(Ot,String(ct||"")),ye={},Re=Array.isArray(rt.players)?rt.players:[],je=Re.flatMap($e=>{const et=$e==null?void 0:$e.combatReplayData;return Array.isArray(et)?et.map(Yt=>Number(Yt==null?void 0:Yt.start)):[Number(et==null?void 0:et.start)]}).filter($e=>Number.isFinite($e)&&$e>=0);Re.forEach($e=>{if($e!=null&&$e.notInSquad)return;const et=String(($e==null?void 0:$e.account)||($e==null?void 0:$e.name)||"Unknown"),Yt=String(($e==null?void 0:$e.character_name)||($e==null?void 0:$e.display_name)||($e==null?void 0:$e.name)||""),On=String(($e==null?void 0:$e.profession)||"Unknown"),Nn=`${et}|${On}`,rn=jn($e,rt),en=Number(rn.peak||0),on=Be($e),z=Number(Ne(on,1)||0),le=Number(Ne(on,5)||0),De=Number(Ne(on,30)||0),Ke=Math.max(0,Math.ceil(Number((rt==null?void 0:rt.durationMS)||0)/5e3)),Te=Math.max(0,Math.ceil(on.length/5)),oe=Math.max(Ke,Te),_e=lt(on,5),Se=Array.from({length:oe},(Fe,st)=>Number(_e[st]||0)),nt=new Map,Rt=Fe=>{if(!Fe||typeof Fe!="object"||Fe.indirectDamage)return;const st=Number(Fe.totalDamage||0);if(!Number.isFinite(st)||st<=0)return;const pt=Number(Fe.connectedHits||Fe.hits||0),Ct=ht(Fe.id,rt),fn=Ct.name,An=nt.get(fn)||{skillName:fn,damage:0,hits:0,icon:Ct.icon};An.damage+=st,An.hits+=Number.isFinite(pt)?pt:0,!An.icon&&Ct.icon&&(An.icon=Ct.icon),nt.set(fn,An)},_t=new Map;Array.isArray($e==null?void 0:$e.targetDamageDist)&&$e.targetDamageDist.forEach(Fe=>{Array.isArray(Fe)&&Fe.forEach(st=>{Array.isArray(st)&&st.forEach(pt=>{const Ct=Number(pt==null?void 0:pt.id),fn=Number((pt==null?void 0:pt.totalDamage)||0);if(Number.isFinite(Ct)){const An=_t.get(Ct)||{damage:0,hits:0};An.damage+=Number.isFinite(fn)?fn:0,An.hits+=Number((pt==null?void 0:pt.connectedHits)||(pt==null?void 0:pt.hits)||0),_t.set(Ct,An)}Rt(pt)})})}),!(rt!=null&&rt.detailedWvW)&&Array.isArray($e==null?void 0:$e.totalDamageDist)&&$e.totalDamageDist.forEach(Fe=>{Array.isArray(Fe)&&Fe.forEach(st=>{const pt=Number(st==null?void 0:st.id);if(!Number.isFinite(pt)){Rt(st);return}const Ct=_t.get(pt);if(!Ct){Rt(st);return}const fn=Number((st==null?void 0:st.totalDamage)||0),An=Number((st==null?void 0:st.connectedHits)||(st==null?void 0:st.hits)||0),Fn=fn-Number(Ct.damage||0),Mr=An-Number(Ct.hits||0);Fn<=0&&Mr<=0||Rt({...st,totalDamage:Math.max(0,Fn),connectedHits:Math.max(0,Mr),hits:Math.max(0,Mr)})})});const Et=(()=>{const Fe=$e==null?void 0:$e.combatReplayData;return Array.isArray(Fe)?Fe.filter(st=>st&&typeof st=="object"):Fe&&typeof Fe=="object"?[Fe]:[]})(),Bt=Et.map(Fe=>Number(Fe==null?void 0:Fe.start)).filter(Fe=>Number.isFinite(Fe)&&Fe>=0),Kt=Et.flatMap(Fe=>St(Fe==null?void 0:Fe.down).map(([st])=>Number(st||0))),Nt=Et.flatMap(Fe=>St(Fe==null?void 0:Fe.dead).map(([st])=>Number(st||0)));ye[Nn]={hit:en,burst1s:z,burst5s:le,burst30s:De,skillName:rn.skillName,buckets5s:Se,downIndices5s:Ut(Kt,Bt,je,oe,Number((rt==null?void 0:rt.durationMS)||0)),deathIndices5s:Ut(Nt,Bt,je,oe,Number((rt==null?void 0:rt.durationMS)||0)),skillRows:Array.from(nt.values()).sort((Fe,st)=>st.damage-Fe.damage).slice(0,50)};const Tt=de.get(Nn)||{key:Nn,account:et,displayName:et,characterName:Yt,profession:On,professionList:[On],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Tt.logs+=1,Tt.professionList.includes(On)||Tt.professionList.push(On),!Tt.characterName&&Yt&&(Tt.characterName=Yt),en>Tt.peakHit&&(Tt.peakHit=en,Tt.peakFightLabel=xe,Tt.peakSkillName=rn.skillName),z>Tt.peak1s&&(Tt.peak1s=z),le>Tt.peak5s&&(Tt.peak5s=le),De>Tt.peak30s&&(Tt.peak30s=De),de.set(Nn,Tt)});const tt=Object.values(ye).reduce(($e,et)=>Math.max($e,Number((et==null?void 0:et.hit)||0)),0),fe=Object.values(ye).reduce(($e,et)=>Math.max($e,Number((et==null?void 0:et.burst1s)||0)),0),ze=Object.values(ye).reduce(($e,et)=>Math.max($e,Number((et==null?void 0:et.burst5s)||0)),0),Je=Object.values(ye).reduce(($e,et)=>Math.max($e,Number((et==null?void 0:et.burst30s)||0)),0);Ee.push({id:qe.filePath||qe.id||`fight-${Qe+1}`,shortLabel:`F${Qe+1}`,fullLabel:xe,timestamp:_i(rt,qe),values:ye,maxHit:tt,max1s:fe,max5s:ze,max30s:Je})});const kn=Array.from(de.values()).sort((qe,Qe)=>Qe.peakHit!==qe.peakHit?Qe.peakHit-qe.peakHit:qe.displayName.localeCompare(Qe.displayName));return{fights:Ee,players:kn}})(),Cl=(()=>{const D=xe=>String(xe||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),W=xe=>D(xe).toLowerCase().split(/[^a-z0-9]+/i).map(ye=>ye.trim()).filter(Boolean).map(ye=>ye.length>3&&ye.endsWith("s")?ye.slice(0,-1):ye),q=(xe,ye)=>{const Re=D(xe),je=D(ye);if(!je)return Re;if(!Re)return je;const tt=W(Re),fe=W(je),ze=new Set(tt),Je=new Set(fe),$e=fe.length>0&&fe.every(Yt=>ze.has(Yt)),et=tt.length>0&&tt.every(Yt=>Je.has(Yt));return $e||et?Re:`${Re} - ${je}`},Ee=[],de=new Map,Be=(xe,ye)=>{const Re=Number(xe);if(!Number.isFinite(Re))return{name:String(xe||"Unknown Skill"),icon:void 0};const je=(ye==null?void 0:ye.skillMap)||{},tt=(ye==null?void 0:ye.buffMap)||{},fe=(je==null?void 0:je[`s${Re}`])||(je==null?void 0:je[`${Re}`]);if(fe!=null&&fe.name)return{name:String(fe.name),icon:fe==null?void 0:fe.icon};const ze=(tt==null?void 0:tt[`b${Re}`])||(tt==null?void 0:tt[`${Re}`]);return ze!=null&&ze.name?{name:String(ze.name),icon:ze==null?void 0:ze.icon}:{name:`Skill ${Re}`,icon:void 0}},Ne=(xe,ye)=>{let Re=0,je="";const tt=fe=>{if(!fe||typeof fe!="object"||fe.indirectDamage)return;const ze=[Number(fe.max),Number(fe.maxDamage),Number(fe.maxHit)].filter($e=>Number.isFinite($e)),Je=ze.length>0?Math.max(...ze):0;Je>Re&&(Re=Je,je=Be(fe.id,ye).name)};return Array.isArray(xe==null?void 0:xe.totalDamageDist)&&xe.totalDamageDist.forEach(fe=>{Array.isArray(fe)&&fe.forEach(ze=>tt(ze))}),Array.isArray(xe==null?void 0:xe.targetDamageDist)&&xe.targetDamageDist.forEach(fe=>{Array.isArray(fe)&&fe.forEach(ze=>{Array.isArray(ze)&&ze.forEach(Je=>tt(Je))})}),{peak:Re,skillName:je||"Unknown Skill"}},lt=xe=>{if(!Array.isArray(xe)||xe.length===0)return[];const ye=[];for(let Re=0;Re<xe.length;Re+=1){const je=Number(xe[Re]||0),tt=Re>0?Number(xe[Re-1]||0):0;ye.push(Math.max(0,je-tt))}return ye},ht=xe=>{if(!Array.isArray(xe)||xe.length===0)return[];const ye=xe.reduce((je,tt)=>Math.max(je,Array.isArray(tt)?tt.length:0),0);if(ye<=0)return[];const Re=new Array(ye).fill(0);return xe.forEach(je=>{if(Array.isArray(je))for(let tt=0;tt<ye;tt+=1)Re[tt]+=Number(je[tt]||0)}),Re},St=xe=>{if(!Array.isArray(xe)||xe.length===0)return[];const ye=xe[0];if(typeof ye=="number")return xe.map(Re=>Number(Re||0));if(Array.isArray(ye)&&ye.length>0){if(typeof ye[0]=="number")return ye.map(Re=>Number(Re||0));if(Array.isArray(ye[0])){const Re=ye.map(je=>Array.isArray(je)?je.map(tt=>Number(tt||0)):null).filter(je=>Array.isArray(je)&&je.length>0);if(Re.length>0)return ht(Re)}}return[]},Gt=xe=>{const ye=St(xe==null?void 0:xe.powerDamage1S),Re=St(xe==null?void 0:xe.damage1S),je=ye.length>0?ye:Re;return lt(je)},Ut=(xe,ye)=>{const Re=xe==null?void 0:xe.targetPowerDamage1S;if(!Array.isArray(Re)||!Array.isArray(Re[ye]))return[];const je=Re[ye];if(!Array.isArray(je)||je.length===0)return[];if(typeof je[0]=="number")return je.map(tt=>Number(tt||0));if(Array.isArray(je[0])&&!Array.isArray(je[0][0]))return je[0].map(tt=>Number(tt||0));if(Array.isArray(je[0])&&Array.isArray(je[0][0])){const fe=je[0].map(ze=>Array.isArray(ze)?ze.map(Je=>Number(Je||0)):null).filter(ze=>Array.isArray(ze)&&ze.length>0);return ht(fe)}return[]},kn=(xe,ye)=>{if(!Array.isArray(xe)||xe.length===0||ye<=0)return 0;let Re=0,je=0;for(let tt=0;tt<xe.length;tt+=1)Re+=Number(xe[tt]||0),tt>=ye&&(Re-=Number(xe[tt-ye]||0)),tt>=ye-1&&Re>je&&(je=Re);return Math.max(0,je)},qe=(xe,ye)=>{if(!Array.isArray(xe)||xe.length===0||ye<=0)return[];const Re=[];for(let je=0;je<xe.length;je+=ye){const tt=Math.min(je+ye,xe.length),fe=xe.slice(je,tt).reduce((ze,Je)=>ze+Number(Je||0),0);Re.push(fe)}return Re},Qe=xe=>Array.isArray(xe)?xe.map(ye=>Array.isArray(ye)?[Number(ye[0]),Number(ye[1])]:ye&&typeof ye=="object"?[Number(ye.time),Number(ye.value)]:null).filter(ye=>!!ye&&Number.isFinite(ye[0])&&ye[0]>=0):[],rt=(xe,ye,Re,je,tt)=>{if(!xe.length||je<=0)return[];const fe=Math.max(je*5e3,tt||0),ze=en=>en.reduce((on,z)=>z>=0&&z<=fe+2e3?on+1:on,0),Je=xe.map(en=>Number(en||0)).filter(en=>Number.isFinite(en)&&en>=0);if(!Je.length)return[];const $e=[Je],et=Je.reduce((en,on)=>Math.max(en,on),0),Yt=Je.reduce((en,on)=>Math.min(en,on),Number.POSITIVE_INFINITY);et>fe*20&&$e.push(Je.map(en=>en/1e3)),et<=fe*2&&Yt>=0&&et>0&&et<Math.max(120,je*5+10)&&$e.push(Je.map(en=>en*1e3));let On=Je,Nn=0,rn=-1;return $e.forEach(en=>{const on=en.reduce((le,De)=>Math.min(le,De),Number.POSITIVE_INFINITY),z=new Set([0,...ye,...Re]);if(Number.isFinite(on)&&fe>0&&on>fe){const le=Math.floor(on/fe)*fe;z.add(le),z.add(Math.max(0,le-fe))}z.forEach(le=>{const De=en.map(Te=>Te-le),Ke=ze(De);Ke>rn&&(rn=Ke,Nn=le,On=en)})}),On.map(en=>en-Nn).filter(en=>Number.isFinite(en)&&en>=0)},Ot=(xe,ye,Re,je,tt)=>{const fe=rt(xe,ye,Re,je,tt);return Array.from(new Set(fe.map(ze=>Math.floor(ze/5e3)).filter(ze=>Number.isFinite(ze)&&ze>=0&&ze<je)))};a.map(xe=>({log:xe,ts:_i(xe==null?void 0:xe.details,xe)})).sort((xe,ye)=>xe.ts-ye.ts).forEach(({log:xe},ye)=>{const Re=xe==null?void 0:xe.details;if(!Re)return;const je=D(Re.fightName||xe.fightName||`Fight ${ye+1}`),tt=he(Re,xe),fe=q(je,String(tt||"")),ze={},$e=(Array.isArray(Re.players)?Re.players:[]).filter(oe=>!(oe!=null&&oe.notInSquad)),et=$e.flatMap(oe=>{const _e=oe==null?void 0:oe.combatReplayData;return Array.isArray(_e)?_e.map(Se=>Number(Se==null?void 0:Se.start)):[Number(_e==null?void 0:_e.start)]}).filter(oe=>Number.isFinite(oe)&&oe>=0),Yt=$e.flatMap(oe=>{const _e=oe==null?void 0:oe.combatReplayData;return(Array.isArray(_e)?_e:_e?[_e]:[]).flatMap(nt=>Qe(nt==null?void 0:nt.down).map(([Rt])=>Number(Rt||0)))}),On=$e.flatMap(oe=>{const _e=oe==null?void 0:oe.combatReplayData;return(Array.isArray(_e)?_e:_e?[_e]:[]).flatMap(nt=>Qe(nt==null?void 0:nt.dead).map(([Rt])=>Number(Rt||0)))}),Nn=new Map,rn=new Map,en=new Map;(Array.isArray(Re.targets)?Re.targets:[]).forEach((oe,_e)=>{if(!oe||oe.isFake||!oe.enemyPlayer)return;const Se=U((oe==null?void 0:oe.profession)||(oe==null?void 0:oe.name)||(oe==null?void 0:oe.id))||"Unknown";en.set(Se,(en.get(Se)||0)+1);const nt=rn.get(Se)||new Map;Array.isArray(oe==null?void 0:oe.totalDamageDist)&&oe.totalDamageDist.forEach(Kt=>{Array.isArray(Kt)&&Kt.forEach(Nt=>{if(!Nt||typeof Nt!="object"||Nt.indirectDamage)return;const Tt=Number(Nt.totalDamage||0);if(!Number.isFinite(Tt)||Tt<=0)return;const Fe=Number(Nt.connectedHits||Nt.hits||0),st=Be(Nt.id,Re),pt=st.name,Ct=nt.get(pt)||{skillName:pt,damage:0,hits:0,icon:st.icon};Ct.damage+=Tt,Ct.hits+=Number.isFinite(Fe)?Fe:0,!Ct.icon&&st.icon&&(Ct.icon=st.icon),nt.set(pt,Ct)})}),rn.set(Se,nt);const Rt=ht($e.map(Kt=>Ut(Kt,_e))),_t=Rt.length>0?lt(Rt):Gt(oe),ft=Ne(oe,Re);let Et=Nn.get(Se);Et||(Et={perSecond:[],hit:0,skillName:""},Nn.set(Se,Et)),_t.length>Et.perSecond.length&&(Et.perSecond.length=_t.length);for(let Kt=0;Kt<_t.length;Kt+=1)Et.perSecond[Kt]=Number(Et.perSecond[Kt]||0)+Number(_t[Kt]||0);const Bt=Number(ft.peak||0);Bt>Et.hit&&(Et.hit=Bt,Et.skillName=ft.skillName||"Unknown Skill")});const z=Array.from(Nn.values()).some(oe=>Array.isArray(oe.perSecond)&&oe.perSecond.some(_e=>Number(_e||0)>0));if(Nn.size===0||!z){const oe=ht($e.map(Se=>{const nt=St(Se==null?void 0:Se.powerDamageTaken1S);return lt(nt)})),_e=Array.from(en.values()).reduce((Se,nt)=>Se+Number(nt||0),0);oe.length>0&&_e>0&&en.forEach((Se,nt)=>{const Rt=Number(Se||0)/_e,_t=oe.map(Et=>Number(Et||0)*Rt),ft=Nn.get(nt);Nn.set(nt,{perSecond:_t,hit:Number((ft==null?void 0:ft.hit)||0),skillName:String((ft==null?void 0:ft.skillName)||"")})})}Nn.forEach((oe,_e)=>{var st;const Se=_e,nt=Number(oe.hit||0),Rt=Number(kn(oe.perSecond,1)||0),_t=Number(kn(oe.perSecond,5)||0),ft=Number(kn(oe.perSecond,30)||0),Et=Math.max(0,Math.ceil(Number((Re==null?void 0:Re.durationMS)||0)/5e3)),Bt=Math.max(0,Math.ceil(oe.perSecond.length/5)),Kt=Math.max(Et,Bt),Nt=qe(oe.perSecond,5),Tt=Array.from({length:Kt},(pt,Ct)=>Number(Nt[Ct]||0));ze[Se]={hit:nt,burst1s:Rt,burst5s:_t,burst30s:ft,skillName:oe.skillName||"Unknown Skill",buckets5s:Tt,downIndices5s:Ot(Yt,[],et,Kt,Number((Re==null?void 0:Re.durationMS)||0)),deathIndices5s:Ot(On,[],et,Kt,Number((Re==null?void 0:Re.durationMS)||0)),skillRows:Array.from(((st=rn.get(_e))==null?void 0:st.values())||[]).sort((pt,Ct)=>Ct.damage-pt.damage).slice(0,50)};const Fe=de.get(Se)||{key:Se,account:_e,displayName:_e,characterName:"",profession:_e,professionList:[_e],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Fe.logs+=1,nt>Fe.peakHit&&(Fe.peakHit=nt,Fe.peakFightLabel=fe,Fe.peakSkillName=oe.skillName||"Unknown Skill"),Rt>Fe.peak1s&&(Fe.peak1s=Rt),_t>Fe.peak5s&&(Fe.peak5s=_t),ft>Fe.peak30s&&(Fe.peak30s=ft),de.set(Se,Fe)});const le=Object.values(ze).reduce((oe,_e)=>Math.max(oe,Number((_e==null?void 0:_e.hit)||0)),0),De=Object.values(ze).reduce((oe,_e)=>Math.max(oe,Number((_e==null?void 0:_e.burst1s)||0)),0),Ke=Object.values(ze).reduce((oe,_e)=>Math.max(oe,Number((_e==null?void 0:_e.burst5s)||0)),0),Te=Object.values(ze).reduce((oe,_e)=>Math.max(oe,Number((_e==null?void 0:_e.burst30s)||0)),0);Ee.push({id:xe.filePath||xe.id||`fight-${ye+1}`,shortLabel:`F${ye+1}`,fullLabel:fe,timestamp:_i(Re,xe),values:ze,maxHit:le,max1s:De,max5s:Ke,max30s:Te})});const ct=Array.from(de.values()).sort((xe,ye)=>ye.peakHit!==xe.peakHit?ye.peakHit-xe.peakHit:xe.displayName.localeCompare(ye.displayName));return{fights:Ee,players:ct}})(),jv=Array.from(G.entries()).map(([D,W])=>{const q=K.get(D)||{},Ee=Array.from(W.values()).map(de=>{var kn,qe;const Be=Array.from(de.professions||[]).filter(Qe=>Qe&&Qe!=="Unknown");let Ne=de.profession||"Unknown";if(Be.length>0){Ne=Be[0];let Qe=((kn=de.professionTimeMs)==null?void 0:kn[Ne])||0;Be.forEach(rt=>{var ct;const Ot=((ct=de.professionTimeMs)==null?void 0:ct[rt])||0;Ot>Qe&&(Qe=Ot,Ne=rt)})}const lt=de.durationMs||0,ht=de.totalMs/1e3,St=lt>0?de.totalMs/lt:0,Gt=((qe=$.get(de.account))==null?void 0:qe.supportActiveMs)||lt,Ut=Gt>0?de.uptimeMs/Gt:0;return{account:de.account,profession:Ne,professionList:Be,total:ht,perSecond:St,uptimePerSecond:Ut,duration:lt/1e3}}).filter(de=>de.total>0||de.perSecond>0);return{id:D,name:q.name||D,icon:q.icon,rows:Ee}}).filter(D=>D.rows.length>0),Av=Array.from(Y.values()).map(D=>{const W=Array.from(D.skills.values()).sort((Ee,de)=>de.damage-Ee.damage),q=W.reduce((Ee,de)=>(Ee[de.id]=de,Ee),{});return{key:D.key,account:D.account,displayName:D.displayName,profession:D.profession,professionList:D.professionList,totalFightMs:D.totalFightMs,skills:W,skillMap:q}}).sort((D,W)=>D.displayName.localeCompare(W.displayName));return{total:p,wins:g,losses:y,avgSquadSize:ge,avgEnemies:Le,squadKDR:kt,enemyKDR:Qt,totalSquadKills:S,totalSquadDeaths:w,totalEnemyKills:N,totalEnemyDeaths:C,leaderboards:un,...ua,outgoingConditionSummary:Object.values(Q).sort((D,W)=>W.damage-D.damage),incomingConditionSummary:Object.values(re).sort((D,W)=>W.damage-D.damage),outgoingConditionPlayers:Array.from($.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,conditions:D.outgoingConditions})),incomingConditionPlayers:Array.from($.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,conditions:D.incomingConditions})),topSkills:Ic,topIncomingSkills:_c,topSkillsByDamage:Oc,topSkillsByDownContribution:Nl,playerSkillBreakdowns:Av,topSkillsMetric:m,mapData:Dt,timelineData:Jt,boonTables:Wt,offensePlayers:Array.from($.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,offenseTotals:D.offenseTotals,offenseRateWeights:D.offenseRateWeights,totalFightMs:D.totalFightMs})),defensePlayers:Array.from($.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,defenseTotals:D.defenseTotals,activeMs:D.defenseActiveMs})),damageMitigationPlayers:vi,damageMitigationMinions:ca,supportPlayers:Array.from($.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,supportTotals:D.supportTotals,activeMs:D.supportActiveMs})),healingPlayers:Array.from($.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,healingTotals:D.healingTotals,activeMs:D.healingActiveMs})),mvp:Qa,silver:Dc,bronze:Sl,squadClassData:mt,enemyClassData:We,fightBreakdown:nn,fightDiffMode:dn,attendanceData:Mn,squadCompByFight:si,spikeDamage:xi,incomingStrikeDamage:Cl,specialTables:jv,topStatsPerSecond:ai,topStatsLeaderboardsPerSecond:Yr,avgMvpScore:Mc}})(),d=(()=>{const f=new Map,h=new Map,m=[],p=new Map,g=new Map;a.forEach(v=>{const b=v.details;if(!b)return;const w=b.skillMap||{},S=b.fightName||"Log",C=_i(b,v)||Date.now(),N={id:v.filePath||v.id||S,label:S,timestamp:C,skillEntries:{},playerActiveSeconds:{},durationSeconds:b.durationMS?b.durationMS/1e3:0};(b.players||[]).forEach(E=>{if(E.notInSquad)return;const $=E.account||E.name||"Unknown",T=E.profession||"Unknown",M=`${$}|${T}`;let O=h.get(M);O||(O={key:M,account:$,displayName:$,profession:T,professionList:[T],logs:0,totalActiveSeconds:0,skillTotals:{}},h.set(M,O)),O.logs++;const Y=(Array.isArray(E.activeTimes)?E.activeTimes[0]:0)/1e3;O.totalActiveSeconds=(O.totalActiveSeconds||0)+Y,N.playerActiveSeconds[M]=Y,(E.rotation||[]).forEach(Q=>{var L,P,j;if(!(Q!=null&&Q.id))return;const re=((L=Q.skills)==null?void 0:L.length)||0;if(re<=0)return;const ce=`s${Q.id}`,K=((P=w[ce])==null?void 0:P.name)||`Skill ${Q.id}`,G=(j=w[ce])==null?void 0:j.icon;O.skillTotals[ce]=(O.skillTotals[ce]||0)+re,f.set(ce,(f.get(ce)||0)+re),p.set(ce,K),G&&!g.has(ce)&&g.set(ce,G),N.skillEntries[ce]||(N.skillEntries[ce]={name:K,icon:G,players:{}}),!N.skillEntries[ce].icon&&G&&(N.skillEntries[ce].icon=G),N.skillEntries[ce].players[M]=(N.skillEntries[ce].players[M]||0)+re})}),m.push(N)});const y=Array.from(f.entries()).map(([v,b])=>({id:v,name:p.get(v)||v,total:b,icon:g.get(v)})).sort((v,b)=>b.total-v.total);return{logRecords:m,players:Array.from(h.values()),skillOptions:y,resUtilitySkills:[]}})();return{validLogs:a,stats:c,skillUsageData:d}},eU=({logs:e,stats:t,skillUsageData:n,activeStatsViewSettings:r,uiTheme:i,embedded:a,onWebUpload:s})=>{const[o,l]=x.useState({uploading:!1,message:null,url:null}),[c,d]=x.useState("idle"),f=()=>{const g=new Set;let y=null,v=null;e.forEach(T=>{const M=T.details;if(!M)return;const O=M.timeStartStd||M.timeStart||M.uploadTime||T.uploadTime,Y=M.timeEndStd||M.timeEnd||M.uploadTime||T.uploadTime,Q=O?new Date(O):null,re=Y?new Date(Y):null;Q&&!Number.isNaN(Q.getTime())&&(!y||Q<y)&&(y=Q),re&&!Number.isNaN(re.getTime())&&(!v||re>v)&&(v=re),(M.players||[]).forEach(K=>{if(!(K!=null&&K.notInSquad)&&K!=null&&K.hasCommanderTag){const G=(K==null?void 0:K.name)||(K==null?void 0:K.account)||"Unknown";g.add(G)}})});const b=Array.from(g).sort((T,M)=>T.localeCompare(M)),w=y||new Date,S=v||w,C=w.toISOString(),N=S.toISOString(),A=`${w.toLocaleString()} - ${S.toLocaleString()}`,E=T=>String(T).padStart(2,"0");return{id:`${w.getFullYear()}${E(w.getMonth()+1)}${E(w.getDate())}-${E(w.getHours())}${E(w.getMinutes())}${E(w.getSeconds())}-${Math.random().toString(36).slice(2,6)}`,title:b.length?b.join(", "):"Unknown Commander",commanders:b,dateStart:C,dateEnd:N,dateLabel:A,generatedAt:new Date().toISOString()}},h=()=>{var y;const g={...t,skillUsageData:n,statsViewSettings:r,uiTheme:i};if(Array.isArray(g.fightDiffMode)&&g.fightDiffMode.length>0||!Array.isArray(e)||e.length===0)return g;try{const v=zd({logs:e,statsViewSettings:r}),b=(y=v==null?void 0:v.stats)==null?void 0:y.fightDiffMode;if(Array.isArray(b)&&b.length>0)return{...g,fightDiffMode:b}}catch{}return g};return{devMockUploadState:o,setDevMockUploadState:l,webCopyStatus:c,setWebCopyStatus:d,handleWebUpload:async()=>{if(!a&&s)try{const g=f(),y=h();await s({meta:g,stats:y})}catch(g){console.error("[StatsView] Web upload failed:",g)}},handleDevMockUpload:async()=>{var g;if(!(a||!((g=window.electronAPI)!=null&&g.mockWebReport))){l({uploading:!0,message:"Preparing local report...",url:null});try{const y=f(),v=h(),b=await window.electronAPI.mockWebReport({meta:y,stats:v});b!=null&&b.success?l({uploading:!1,message:"Local report ready.",url:b.url||null}):l({uploading:!1,message:(b==null?void 0:b.error)||"Local report failed.",url:null})}catch(y){l({uploading:!1,message:(y==null?void 0:y.message)||"Local report failed.",url:null})}}}}};function tU(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),t&&(r.href=t),i.href=e,i.href}const nU=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function al(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let qc=null;function TO(e={}){return qc||(e.includeStyleProperties?(qc=e.includeStyleProperties,qc):(qc=al(window.getComputedStyle(document.documentElement)),qc))}function Rp(e,t){const r=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function rU(e){const t=Rp(e,"border-left-width"),n=Rp(e,"border-right-width");return e.clientWidth+t+n}function iU(e){const t=Rp(e,"border-top-width"),n=Rp(e,"border-bottom-width");return e.clientHeight+t+n}function EO(e,t={}){const n=t.width||rU(e),r=t.height||iU(e);return{width:n,height:r}}function aU(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const fa=16384;function sU(e){(e.width>fa||e.height>fa)&&(e.width>fa&&e.height>fa?e.width>e.height?(e.height*=fa/e.width,e.width=fa):(e.width*=fa/e.height,e.height=fa):e.width>fa?(e.height*=fa/e.width,e.width=fa):(e.width*=fa/e.height,e.height=fa))}function Bp(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function oU(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function lU(e,t,n){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),a=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${t}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${t} ${n}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),i.appendChild(a),a.appendChild(e),oU(i)}const na=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||na(n,t)};function cU(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function uU(e,t){return TO(t).map(n=>{const r=e.getPropertyValue(n),i=e.getPropertyPriority(n);return`${n}: ${r}${i?" !important":""};`}).join(" ")}function dU(e,t,n,r){const i=`.${e}:${t}`,a=n.cssText?cU(n):uU(n,r);return document.createTextNode(`${i}{${a}}`)}function uC(e,t,n,r){const i=window.getComputedStyle(e,n),a=i.getPropertyValue("content");if(a===""||a==="none")return;const s=nU();try{t.className=`${t.className} ${s}`}catch{return}const o=document.createElement("style");o.appendChild(dU(s,n,i,r)),t.appendChild(o)}function fU(e,t,n){uC(e,t,":before",n),uC(e,t,":after",n)}const dC="application/font-woff",fC="image/jpeg",mU={woff:dC,woff2:dC,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:fC,jpeg:fC,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function hU(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function M1(e){const t=hU(e).toLowerCase();return mU[t]||""}function pU(e){return e.split(/,/)[1]}function nb(e){return e.search(/^(data:)/)!==-1}function gU(e,t){return`data:${t};base64,${e}`}async function DO(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise((a,s)=>{const o=new FileReader;o.onerror=s,o.onloadend=()=>{try{a(n({res:r,result:o.result}))}catch(l){s(l)}},o.readAsDataURL(i)})}const rx={};function vU(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function O1(e,t,n){const r=vU(e,t,n.includeQueryParams);if(rx[r]!=null)return rx[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let i;try{const a=await DO(e,n.fetchRequestInit,({res:s,result:o})=>(t||(t=s.headers.get("Content-Type")||""),pU(o)));i=gU(a,t)}catch(a){i=n.imagePlaceholder||"";let s=`Failed to fetch resource: ${e}`;a&&(s=typeof a=="string"?a:a.message),s&&console.warn(s)}return rx[r]=i,i}async function xU(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Bp(t)}async function yU(e,t){if(e.currentSrc){const a=document.createElement("canvas"),s=a.getContext("2d");a.width=e.clientWidth,a.height=e.clientHeight,s==null||s.drawImage(e,0,0,a.width,a.height);const o=a.toDataURL();return Bp(o)}const n=e.poster,r=M1(n),i=await O1(n,r,t);return Bp(i)}async function bU(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await m0(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function wU(e,t){return na(e,HTMLCanvasElement)?xU(e):na(e,HTMLVideoElement)?yU(e,t):na(e,HTMLIFrameElement)?bU(e,t):e.cloneNode(MO(e))}const kU=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",MO=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function SU(e,t,n){var r,i;if(MO(t))return t;let a=[];return kU(e)&&e.assignedNodes?a=al(e.assignedNodes()):na(e,HTMLIFrameElement)&&(!((r=e.contentDocument)===null||r===void 0)&&r.body)?a=al(e.contentDocument.body.childNodes):a=al(((i=e.shadowRoot)!==null&&i!==void 0?i:e).childNodes),a.length===0||na(e,HTMLVideoElement)||await a.reduce((s,o)=>s.then(()=>m0(o,n)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function NU(e,t,n){const r=t.style;if(!r)return;const i=window.getComputedStyle(e);i.cssText?(r.cssText=i.cssText,r.transformOrigin=i.transformOrigin):TO(n).forEach(a=>{let s=i.getPropertyValue(a);a==="font-size"&&s.endsWith("px")&&(s=`${Math.floor(parseFloat(s.substring(0,s.length-2)))-.1}px`),na(e,HTMLIFrameElement)&&a==="display"&&s==="inline"&&(s="block"),a==="d"&&t.getAttribute("d")&&(s=`path(${t.getAttribute("d")})`),r.setProperty(a,s,i.getPropertyPriority(a))})}function CU(e,t){na(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),na(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function jU(e,t){if(na(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(i=>e.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}function AU(e,t,n){return na(t,Element)&&(NU(e,t,n),fU(e,t,n),CU(e,t),jU(e,t)),t}async function PU(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let a=0;a<n.length;a++){const o=n[a].getAttribute("xlink:href");if(o){const l=e.querySelector(o),c=document.querySelector(o);!l&&c&&!r[o]&&(r[o]=await m0(c,t,!0))}}const i=Object.values(r);if(i.length){const a="http://www.w3.org/1999/xhtml",s=document.createElementNS(a,"svg");s.setAttribute("xmlns",a),s.style.position="absolute",s.style.width="0",s.style.height="0",s.style.overflow="hidden",s.style.display="none";const o=document.createElementNS(a,"defs");s.appendChild(o);for(let l=0;l<i.length;l++)o.appendChild(i[l]);e.appendChild(s)}return e}async function m0(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>wU(r,t)).then(r=>SU(e,r,t)).then(r=>AU(e,r,t)).then(r=>PU(r,t))}const OO=/url\((['"]?)([^'"]+?)\1\)/g,TU=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,EU=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function DU(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function MU(e){const t=[];return e.replace(OO,(n,r,i)=>(t.push(i),n)),t.filter(n=>!nb(n))}async function OU(e,t,n,r,i){try{const a=n?tU(t,n):t,s=M1(t);let o;return i||(o=await O1(a,s,r)),e.replace(DU(t),`$1${o}$3`)}catch{}return e}function IU(e,{preferredFontFormat:t}){return t?e.replace(EU,n=>{for(;;){const[r,,i]=TU.exec(n)||[];if(!i)return"";if(i===t)return`src: ${r};`}}):e}function IO(e){return e.search(OO)!==-1}async function _O(e,t,n){if(!IO(e))return e;const r=IU(e,n);return MU(r).reduce((a,s)=>a.then(o=>OU(o,s,t,n)),Promise.resolve(r))}async function Kc(e,t,n){var r;const i=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(i){const a=await _O(i,null,n);return t.style.setProperty(e,a,t.style.getPropertyPriority(e)),!0}return!1}async function _U(e,t){await Kc("background",e,t)||await Kc("background-image",e,t),await Kc("mask",e,t)||await Kc("-webkit-mask",e,t)||await Kc("mask-image",e,t)||await Kc("-webkit-mask-image",e,t)}async function LU(e,t){const n=na(e,HTMLImageElement);if(!(n&&!nb(e.src))&&!(na(e,SVGImageElement)&&!nb(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,i=await O1(r,M1(r),t);await new Promise((a,s)=>{e.onload=a,e.onerror=t.onImageErrorHandler?(...l)=>{try{a(t.onImageErrorHandler(...l))}catch(c){s(c)}}:s;const o=e;o.decode&&(o.decode=a),o.loading==="lazy"&&(o.loading="eager"),n?(e.srcset="",e.src=i):e.href.baseVal=i})}async function $U(e,t){const r=al(e.childNodes).map(i=>LO(i,t));await Promise.all(r).then(()=>e)}async function LO(e,t){na(e,Element)&&(await _U(e,t),await LU(e,t),await $U(e,t))}function FU(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(i=>{n[i]=r[i]}),e}const mC={};async function hC(e){let t=mC[e];if(t!=null)return t;const r=await(await fetch(e)).text();return t={url:e,cssText:r},mC[e]=t,t}async function pC(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,a=(n.match(/url\([^)]+\)/g)||[]).map(async s=>{let o=s.replace(r,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),DO(o,t.fetchRequestInit,({result:l})=>(n=n.replace(s,`url(${l})`),[s,l]))});return Promise.all(a).then(()=>n)}function gC(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=i.exec(r);if(l===null)break;t.push(l[0])}r=r.replace(i,"");const a=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,s="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",o=new RegExp(s,"gi");for(;;){let l=a.exec(r);if(l===null){if(l=o.exec(r),l===null)break;a.lastIndex=o.lastIndex}else o.lastIndex=a.lastIndex;t.push(l[0])}return t}async function RU(e,t){const n=[],r=[];return e.forEach(i=>{if("cssRules"in i)try{al(i.cssRules||[]).forEach((a,s)=>{if(a.type===CSSRule.IMPORT_RULE){let o=s+1;const l=a.href,c=hC(l).then(d=>pC(d,t)).then(d=>gC(d).forEach(f=>{try{i.insertRule(f,f.startsWith("@import")?o+=1:i.cssRules.length)}catch(h){console.error("Error inserting rule from remote css",{rule:f,error:h})}})).catch(d=>{console.error("Error loading remote css",d.toString())});r.push(c)}})}catch(a){const s=e.find(o=>o.href==null)||document.styleSheets[0];i.href!=null&&r.push(hC(i.href).then(o=>pC(o,t)).then(o=>gC(o).forEach(l=>{s.insertRule(l,s.cssRules.length)})).catch(o=>{console.error("Error loading remote stylesheet",o)})),console.error("Error inlining remote css file",a)}}),Promise.all(r).then(()=>(e.forEach(i=>{if("cssRules"in i)try{al(i.cssRules||[]).forEach(a=>{n.push(a)})}catch(a){console.error(`Error while reading CSS rules from ${i.href}`,a)}}),n))}function BU(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>IO(t.style.getPropertyValue("src")))}async function zU(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=al(e.ownerDocument.styleSheets),r=await RU(n,t);return BU(r)}function $O(e){return e.trim().replace(/["']/g,"")}function UU(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(a=>{t.add($O(a))}),Array.from(r.children).forEach(a=>{a instanceof HTMLElement&&n(a)})}return n(e),t}async function VU(e,t){const n=await zU(e,t),r=UU(e);return(await Promise.all(n.filter(a=>r.has($O(a.style.fontFamily))).map(a=>{const s=a.parentStyleSheet?a.parentStyleSheet.href:null;return _O(a.cssText,s,t)}))).join(`
`)}async function WU(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await VU(e,t);if(n){const r=document.createElement("style"),i=document.createTextNode(n);r.appendChild(i),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function HU(e,t={}){const{width:n,height:r}=EO(e,t),i=await m0(e,t,!0);return await WU(i,t),await LO(i,t),FU(i,t),await lU(i,n,r)}async function qU(e,t={}){const{width:n,height:r}=EO(e,t),i=await HU(e,t),a=await Bp(i),s=document.createElement("canvas"),o=s.getContext("2d"),l=t.pixelRatio||aU(),c=t.canvasWidth||n,d=t.canvasHeight||r;return s.width=c*l,s.height=d*l,t.skipAutoScale||sU(s),s.style.width=`${c}`,s.style.height=`${d}`,t.backgroundColor&&(o.fillStyle=t.backgroundColor,o.fillRect(0,0,s.width,s.height)),o.drawImage(a,0,0,s.width,s.height),s}async function KU(e,t={}){return(await qU(e,t)).toDataURL()}const GU=e=>{const[t,n]=x.useState(!1),r=async s=>{var d;if(!((d=window.electronAPI)!=null&&d.fetchImageAsDataUrl))return s();const o=window.fetch.bind(window),l=globalThis.fetch.bind(globalThis),c=async(f,h)=>{const m=typeof f=="string"?f:f instanceof URL?f.toString():f.url;if(/^https?:\/\//i.test(m)){const p=await window.electronAPI.fetchImageAsDataUrl(m);if(p!=null&&p.success&&p.dataUrl)return o(p.dataUrl)}return o(f,h)};window.fetch=c,globalThis.fetch=c;try{return await s()}finally{window.fetch=o,globalThis.fetch=l}},i=async s=>{var h;if(!((h=window.electronAPI)!=null&&h.fetchImageAsDataUrl))return()=>{};const o=new Map,l=[],c=async m=>{if(o.has(m))return o.get(m)||null;const p=await window.electronAPI.fetchImageAsDataUrl(m);return p!=null&&p.success&&p.dataUrl?(o.set(m,p.dataUrl),p.dataUrl):(o.set(m,""),null)},d=Array.from(s.querySelectorAll("img"));await Promise.all(d.map(async m=>{var b;const p=m.currentSrc||m.src;if(!p||p.startsWith("data:")||p.startsWith("blob:")||p.startsWith("file:"))return;const g=await c(p);if(!g)return;const y=m.src,v=m.srcset;m.src=g,m.srcset="",l.push(()=>{m.src=y,m.srcset=v});try{await((b=m.decode)==null?void 0:b.call(m))}catch{}}));const f=Array.from(s.querySelectorAll("*"));return await Promise.all(f.map(async m=>{const g=window.getComputedStyle(m).backgroundImage;if(!g||g==="none"||!g.includes("url("))return;const y=Array.from(g.matchAll(/url\(["']?(https?:\/\/[^"')]+)["']?\)/g));if(!y.length)return;let v=g,b=!1;for(const S of y){const C=S[1];if(!C)continue;const N=await c(C);N&&(v=v.replace(S[0],`url("${N}")`),b=!0)}if(!b)return;const w=m.style.backgroundImage;m.style.backgroundImage=v,l.push(()=>{m.style.backgroundImage=w})})),()=>{l.forEach(m=>m())}};return{sharing:t,setSharing:n,handleShare:async()=>{var o;if(e||!((o=window.electronAPI)!=null&&o.sendStatsScreenshot))return;n(!0);const s=document.getElementById("stats-dashboard-container");if(s)try{await new Promise(g=>setTimeout(g,100));const l=Array.from(s.querySelectorAll(".stats-share-exclude"));s.classList.add("stats-share-mode"),l.forEach(g=>{g.dataset.prevDisplay=g.style.display,g.style.display="none"});let c;const d=await i(s);try{const g=s.scrollWidth,y=s.scrollHeight;c=await r(()=>KU(s,{backgroundColor:"#10141b",quality:.95,pixelRatio:2,cacheBust:!0,width:g,height:y,style:{overflow:"visible",maxHeight:"none",height:"auto"}}))}finally{d(),s.classList.remove("stats-share-mode"),l.forEach(g=>{g.style.display=g.dataset.prevDisplay||"",delete g.dataset.prevDisplay})}const m=await(await(await fetch(c)).blob()).arrayBuffer(),p=new Uint8Array(m);window.electronAPI.sendStatsScreenshot(p)}catch(l){console.error("Failed to capture stats:",l)}setTimeout(()=>n(!1),2e3)}}},YU=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})=>{const s=e.length>8,[o,l]=x.useState(()=>zd(typeof Worker<"u"&&s?{logs:[],precomputedStats:void 0,mvpWeights:n,statsViewSettings:r,disruptionMethod:i}:{logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})),[c,d]=x.useState(0),[f,h]=x.useState(0),[m,p]=x.useState(0),[g,y]=x.useState(0),[v,b]=x.useState(null),w=x.useRef(0),[S,C]=x.useState(0),N=x.useRef(null),A=x.useRef(null),[E,$]=x.useState(!1),T=x.useRef(null),M=x.useRef(""),O=x.useRef(void 0),Y=x.useRef(""),Q=x.useMemo(()=>{if(!r){M.current="",O.current=void 0;return}const L={...r};delete L.topSkillsMetric;const P=JSON.stringify(L);return M.current!==P&&(M.current=P,O.current=L),O.current},[r]),re=x.useMemo(()=>({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:Q,disruptionMethod:i}),[e,t,n,Q,i]);x.useEffect(()=>{if(!(typeof Worker>"u")&&!E&&s)return A.current||(A.current=new Worker(new URL(""+new URL("statsWorker-rADSbIxs.js",import.meta.url).href,import.meta.url),{type:"module"}),A.current.onmessage=L=>{var P;((P=L.data)==null?void 0:P.type)==="result"&&(l(L.data.result),typeof L.data.computeId=="number"?d(L.data.computeId):d(j=>j+1),typeof L.data.logCount=="number"&&h(L.data.logCount),typeof L.data.token=="number"&&p(L.data.token),typeof L.data.completedAt=="number"&&y(L.data.completedAt),typeof L.data.flushId=="number"&&b(L.data.flushId))},A.current.onerror=L=>{var P;console.warn("[StatsWorker] Worker error. Falling back to main thread.",L),(P=A.current)==null||P.terminate(),A.current=null,$(!0)},A.current.onmessageerror=L=>{var P;console.warn("[StatsWorker] Worker message error. Falling back to main thread.",L),(P=A.current)==null||P.terminate(),A.current=null,$(!0)},N.current!==null&&A.current.postMessage({type:"flush",flushId:N.current})),()=>{var L;(L=A.current)==null||L.terminate(),A.current=null}},[E,s]),x.useEffect(()=>{var L;if(!(!A.current||E||!s))try{w.current+=1,C(w.current),A.current.postMessage({type:"reset",token:w.current}),A.current.postMessage({type:"settings",payload:{precomputedStats:t,mvpWeights:n,statsViewSettings:Q,disruptionMethod:i}}),T.current&&(window.clearTimeout(T.current),T.current=null);let P=0;const j=()=>{if(!A.current)return;const U=5;for(let k=0;k<U&&P<e.length;k+=1,P+=1)A.current.postMessage({type:"log",payload:e[P]});P<e.length?T.current=window.setTimeout(j,0):(T.current=null,A.current.postMessage({type:"flush"}))};j()}catch(P){console.warn("[StatsWorker] Failed to postMessage payload. Falling back to main thread.",P),(L=A.current)==null||L.terminate(),A.current=null,$(!0)}},[re,e,t,n,Q,i,s]);const ce=x.useMemo(()=>!E&&typeof Worker<"u"&&s?null:zd({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:Q,disruptionMethod:i}),[E,e,t,n,Q,i,s]),K=x.useMemo(()=>{if(!E&&typeof Worker<"u"&&s)return"worker";const L=e[0],P=e[e.length-1];return JSON.stringify({logCount:e.length,firstLogPath:(L==null?void 0:L.filePath)||(L==null?void 0:L.name)||"",lastLogPath:(P==null?void 0:P.filePath)||(P==null?void 0:P.name)||"",precomputedTotal:Number((t==null?void 0:t.total)||0),precomputedUpdatedAt:String((t==null?void 0:t.updatedAt)||""),disruptionMethod:i||null,settingsKey:M.current})},[E,s,e,t,i]);return x.useEffect(()=>{!E&&typeof Worker<"u"&&s||Y.current!==K&&(Y.current=K,d(L=>L+1),h(e.length),p(w.current),y(Date.now()))},[K,E,e.length,s]),{result:E||typeof Worker>"u"||!s?ce??zd({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:Q,disruptionMethod:i}):o,computeTick:c,lastComputedLogCount:f,lastComputedToken:m,activeToken:S,lastComputedAt:g,lastComputedFlushId:v,requestFlush:()=>{const L=Date.now();return N.current=L,A.current&&!E&&A.current.postMessage({type:"flush",flushId:L}),L}}},XU=e=>({apmSpecBuckets:x.useMemo(()=>{const n=new Map,r=new Map((e.skillOptions||[]).map(s=>[s.id,s])),i=new Map,a=(s,o)=>{if(i.has(o))return i.get(o);const l=r.get(o);let c=!1;return l&&typeof l.autoAttack=="boolean"?c=l.autoAttack:c=o6(s),i.set(o,c),c};return(e.players||[]).forEach(s=>{const o=(s==null?void 0:s.profession)||"Unknown";let l=n.get(o);l||(l={profession:o,players:[],playerRows:[],totalActiveSeconds:0,totalCasts:0,totalAutoCasts:0,skills:[],skillMap:new Map},n.set(o,l)),l.players.push(s);const c=Number((s==null?void 0:s.totalActiveSeconds)||0),d=Number.isFinite(c)&&c>0?c:0;l.totalActiveSeconds+=d;let f=0,h=0;const m=s&&typeof s.skillTotals=="object"&&s.skillTotals!==null?s.skillTotals:{};Object.entries(m).forEach(([C,N])=>{const A=Number(N);if(!Number.isFinite(A)||A<=0)return;const E=r.get(C),$=(E==null?void 0:E.name)||C,T=E==null?void 0:E.icon,M=a($,C);f+=A,M&&(h+=A);let O=l.skillMap.get(C);O||(O={id:C,name:$,icon:T,totalCasts:0,playerCounts:new Map},l.skillMap.set(C,O)),!O.icon&&T&&(O.icon=T),O.totalCasts+=A;const Y=(s==null?void 0:s.key)||`${(s==null?void 0:s.account)||"Unknown"}|${o}`;O.playerCounts.set(Y,A)}),l.totalCasts+=f,l.totalAutoCasts+=h;const p=d/60,g=p>0?f/p:0,y=Math.max(0,f-h),v=p>0?y/p:0,b=d>0?f/d:0,w=d>0?y/d:0,S={key:(s==null?void 0:s.key)||`${(s==null?void 0:s.account)||"Unknown"}|${o}`,account:(s==null?void 0:s.account)||"Unknown",displayName:(s==null?void 0:s.displayName)||(s==null?void 0:s.account)||"Unknown",profession:o,professionList:Array.isArray(s==null?void 0:s.professionList)?s.professionList:[o],logs:Number((s==null?void 0:s.logs)||0),totalActiveSeconds:d,totalCasts:f,totalAutoCasts:h,apm:g,apmNoAuto:v,aps:b,apsNoAuto:w};l.playerRows.push(S)}),n.forEach(s=>{s.playerRows.sort((d,f)=>f.apm-d.apm);const o=Number(s.totalActiveSeconds||0),l=o>0?o/60:0,c=Math.max(0,Number(s.totalCasts||0)-Number(s.totalAutoCasts||0));s.totalApm=l>0?Number(s.totalCasts||0)/l:0,s.totalApmNoAuto=l>0?c/l:0,s.totalAps=o>0?Number(s.totalCasts||0)/o:0,s.totalApsNoAuto=o>0?c/o:0,s.skills=Array.from(s.skillMap.values()).map(d=>{const f=s.playerRows.map(g=>{var S;const y=Number(((S=d.playerCounts)==null?void 0:S.get(g.key))||0);if(!Number.isFinite(y)||y<=0)return null;const v=Number(g.totalActiveSeconds||0),b=v>0?y/(v/60):0,w=v>0?y/v:0;return{...g,count:y,apm:b,aps:w}}).filter(Boolean).sort((g,y)=>y.apm-g.apm||String(g.displayName||"").localeCompare(String(y.displayName||""))),h=Number(d.totalCasts||0),m=o>0?h/o:0,p=l>0?h/l:0;return{...d,playerRows:f,totalCasts:h,totalCastsPerSecond:m,totalApm:p}}).sort((d,f)=>f.totalCasts-d.totalCasts)}),Array.from(n.values()).sort((s,o)=>s.profession.localeCompare(o.profession))},[e])}),QU=({skillUsageData:e,selectedSkillId:t,selectedPlayers:n,skillUsageView:r})=>{const i=x.useMemo(()=>{const d=new Map;return e.players.forEach(f=>d.set(f.key,f)),d},[e.players]),a=x.useMemo(()=>{const d=new Map;if(!t)return d;const f=r==="perSecond";return e.players.forEach(h=>{const m=h.skillTotals[t]||0;if(m===0)return;let p=m;if(f){const g=h.totalActiveSeconds||1;p=g>0?m/g:0}d.set(h.key,p)}),d},[e.players,t,r]),s=x.useMemo(()=>t?Array.from(a.entries()).map(([d,f])=>{const h=i.get(d);return{key:d,name:(h==null?void 0:h.displayName)||d,profession:(h==null?void 0:h.profession)||"Unknown",value:f}}).sort((d,f)=>f.value-d.value):[],[a,i,t]),{chartData:o,maxY:l}=x.useMemo(()=>{if(!t)return{chartData:[],maxY:0};let d=0;const f=r==="perSecond";return{chartData:e.logRecords.map((m,p)=>{const g=m.skillEntries[t];if(!g)return null;const y={index:p,name:m.label,shortLabel:m.label,fullLabel:m.label,timestamp:m.timestamp};let v=!1,b=!1;if(Object.entries(g.players).forEach(([w,S])=>{var N;if(n.size>0&&!n.has(w))return;let C=S;if(f){const A=((N=m.playerActiveSeconds)==null?void 0:N[w])||0;C=A>0?S/A:0}y[w]=C,C>d&&(d=C),v=!0,b=!0}),n.size>0){if(!b)return null}else if(!v)return null;return n.forEach(w=>{y[w]===void 0&&(y[w]=0)}),y}).filter(m=>m!==null),maxY:d}},[e.logRecords,t,n,r]),c=x.useMemo(()=>{const d={};return e.players.forEach(f=>{const h=f.profession||"Unknown";d[h]||(d[h]=[]),d[h].push(f)}),Object.entries(d).map(([f,h])=>({profession:f,players:h.sort((m,p)=>m.displayName.localeCompare(p.displayName))})).sort((f,h)=>f.profession.localeCompare(h.profession))},[e.players]);return{playerMapByKey:i,playerTotalsForSkill:a,skillBarData:s,skillChartData:o,skillChartMaxY:l,groupedSkillUsagePlayers:c}};function FO(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=FO(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Tn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=FO(e))&&(r&&(r+=" "),r+=t);return r}var ZU=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function I1(e){if(typeof e!="string")return!1;var t=ZU;return t.includes(e)}var JU=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],e8=new Set(JU);function RO(e){return typeof e!="string"?!1:e8.has(e)}function BO(e){return typeof e=="string"&&e.startsWith("data-")}function Ka(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(RO(n)||BO(n))&&(t[n]=e[n]);return t}function $u(e){if(e==null)return null;if(x.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ka(t)}return typeof e=="object"&&!Array.isArray(e)?Ka(e):null}function zi(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(RO(n)||BO(n)||I1(n))&&(t[n]=e[n]);return t}function t8(e){return e==null?null:x.isValidElement(e)?zi(e.props):typeof e=="object"&&!Array.isArray(e)?zi(e):null}var n8=["children","width","height","viewBox","className","style","title","desc"];function rb(){return rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rb.apply(null,arguments)}function r8(e,t){if(e==null)return{};var n,r,i=i8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function i8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var _1=x.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:o,title:l,desc:c}=e,d=r8(e,n8),f=a||{width:r,height:i,x:0,y:0},h=Tn("recharts-surface",s);return x.createElement("svg",rb({},zi(d),{className:h,width:r,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),x.createElement("title",null,l),x.createElement("desc",null,c),n)}),a8=["children","className"];function ib(){return ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ib.apply(null,arguments)}function s8(e,t){if(e==null)return{};var n,r,i=o8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function o8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ra=x.forwardRef((e,t)=>{var{children:n,className:r}=e,i=s8(e,a8),a=Tn("recharts-layer",r);return x.createElement("g",ib({className:a},zi(i),{ref:t}),n)}),zO=x.createContext(null),l8=()=>x.useContext(zO);function Gn(e){return function(){return e}}const UO=Math.cos,zp=Math.sin,ws=Math.sqrt,Up=Math.PI,h0=2*Up,ab=Math.PI,sb=2*ab,Rl=1e-6,c8=sb-Rl;function VO(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function u8(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return VO;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class d8{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?VO:u8(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-t,c=i-n,d=s-t,f=o-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>Rl)if(!(Math.abs(f*l-c*d)>Rl)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-s,p=i-o,g=l*l+c*c,y=m*m+p*p,v=Math.sqrt(g),b=Math.sqrt(h),w=a*Math.tan((ab-Math.acos((g+h-y)/(2*v*b)))/2),S=w/b,C=w/v;Math.abs(S-1)>Rl&&this._append`L${t+S*d},${n+S*f}`,this._append`A${a},${a},0,0,${+(f*m>d*p)},${this._x1=t+C*l},${this._y1=n+C*c}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=t+o,d=n+l,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Rl||Math.abs(this._y1-d)>Rl)&&this._append`L${c},${d}`,r&&(h<0&&(h=h%sb+sb),h>c8?this._append`A${r},${r},0,1,${f},${t-o},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:h>Rl&&this._append`A${r},${r},0,${+(h>=ab)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function L1(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new d8(t)}function $1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function WO(e){this._context=e}WO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function p0(e){return new WO(e)}function HO(e){return e[0]}function qO(e){return e[1]}function KO(e,t){var n=Gn(!0),r=null,i=p0,a=null,s=L1(o);e=typeof e=="function"?e:e===void 0?HO:Gn(e),t=typeof t=="function"?t:t===void 0?qO:Gn(t);function o(l){var c,d=(l=$1(l)).length,f,h=!1,m;for(r==null&&(a=i(m=s())),c=0;c<=d;++c)!(c<d&&n(f=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,c,l),+t(f,c,l));if(m)return a=null,m+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Gn(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Gn(+l),o):t},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Gn(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function xh(e,t,n){var r=null,i=Gn(!0),a=null,s=p0,o=null,l=L1(c);e=typeof e=="function"?e:e===void 0?HO:Gn(+e),t=typeof t=="function"?t:Gn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?qO:Gn(+n);function c(f){var h,m,p,g=(f=$1(f)).length,y,v=!1,b,w=new Array(g),S=new Array(g);for(a==null&&(o=s(b=l())),h=0;h<=g;++h){if(!(h<g&&i(y=f[h],h,f))===v)if(v=!v)m=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=h-1;p>=m;--p)o.point(w[p],S[p]);o.lineEnd(),o.areaEnd()}v&&(w[h]=+e(y,h,f),S[h]=+t(y,h,f),o.point(r?+r(y,h,f):w[h],n?+n(y,h,f):S[h]))}if(b)return o=null,b+""||null}function d(){return KO().defined(i).curve(s).context(a)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Gn(+f),r=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Gn(+f),c):e},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Gn(+f),c):r},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Gn(+f),n=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Gn(+f),c):t},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Gn(+f),c):n},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(n)},c.lineX1=function(){return d().x(r).y(t)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Gn(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),c):s},c.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),c):a},c}class GO{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function f8(e){return new GO(e,!0)}function m8(e){return new GO(e,!1)}const F1={draw(e,t){const n=ws(t/Up);e.moveTo(n,0),e.arc(0,0,n,0,h0)}},h8={draw(e,t){const n=ws(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},YO=ws(1/3),p8=YO*2,g8={draw(e,t){const n=ws(t/p8),r=n*YO;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},v8={draw(e,t){const n=ws(t),r=-n/2;e.rect(r,r,n,n)}},x8=.8908130915292852,XO=zp(Up/10)/zp(7*Up/10),y8=zp(h0/10)*XO,b8=-UO(h0/10)*XO,w8={draw(e,t){const n=ws(t*x8),r=y8*n,i=b8*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const s=h0*a/5,o=UO(s),l=zp(s);e.lineTo(l*n,-o*n),e.lineTo(o*r-l*i,l*r+o*i)}e.closePath()}},ix=ws(3),k8={draw(e,t){const n=-ws(t/(ix*3));e.moveTo(0,n*2),e.lineTo(-ix*n,-n),e.lineTo(ix*n,-n),e.closePath()}},Oa=-.5,Ia=ws(3)/2,ob=1/ws(12),S8=(ob/2+1)*3,N8={draw(e,t){const n=ws(t/S8),r=n/2,i=n*ob,a=r,s=n*ob+n,o=-a,l=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(Oa*r-Ia*i,Ia*r+Oa*i),e.lineTo(Oa*a-Ia*s,Ia*a+Oa*s),e.lineTo(Oa*o-Ia*l,Ia*o+Oa*l),e.lineTo(Oa*r+Ia*i,Oa*i-Ia*r),e.lineTo(Oa*a+Ia*s,Oa*s-Ia*a),e.lineTo(Oa*o+Ia*l,Oa*l-Ia*o),e.closePath()}};function C8(e,t){let n=null,r=L1(i);e=typeof e=="function"?e:Gn(e||F1),t=typeof t=="function"?t:Gn(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Gn(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Gn(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Vp(){}function Wp(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function QO(e){this._context=e}QO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Wp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Wp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function j8(e){return new QO(e)}function ZO(e){this._context=e}ZO.prototype={areaStart:Vp,areaEnd:Vp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Wp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function A8(e){return new ZO(e)}function JO(e){this._context=e}JO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Wp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function P8(e){return new JO(e)}function eI(e){this._context=e}eI.prototype={areaStart:Vp,areaEnd:Vp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function T8(e){return new eI(e)}function vC(e){return e<0?-1:1}function xC(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(vC(a)+vC(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function yC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function ax(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-r)/3;e._context.bezierCurveTo(r+o,i+o*t,a-o,s-o*n,a,s)}function Hp(e){this._context=e}Hp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ax(this,this._t0,yC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ax(this,yC(this,n=xC(this,e,t)),n);break;default:ax(this,this._t0,n=xC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function tI(e){this._context=new nI(e)}(tI.prototype=Object.create(Hp.prototype)).point=function(e,t){Hp.prototype.point.call(this,t,e)};function nI(e){this._context=e}nI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function E8(e){return new Hp(e)}function D8(e){return new tI(e)}function rI(e){this._context=e}rI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=bC(e),i=bC(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function bC(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function M8(e){return new rI(e)}function g0(e,t){this._context=e,this._t=t}g0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function O8(e){return new g0(e,.5)}function I8(e){return new g0(e,0)}function _8(e){return new g0(e,1)}function mc(e,t){if((s=e.length)>1)for(var n=1,r,i,a=e[t[0]],s,o=a.length;n<s;++n)for(i=a,a=e[t[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function lb(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function L8(e,t){return e[t]}function $8(e){const t=[];return t.key=e,t}function F8(){var e=Gn([]),t=lb,n=mc,r=L8;function i(a){var s=Array.from(e.apply(this,arguments),$8),o,l=s.length,c=-1,d;for(const f of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(f,s[o].key,c,a)]).data=f;for(o=0,d=$1(t(s));o<l;++o)s[d[o]].index=o;return n(s,d),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Gn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Gn(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?lb:typeof a=="function"?a:Gn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??mc,i):n},i}function R8(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}mc(e,t)}}function B8(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=e[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}mc(e,t)}}function z8(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,c=0;o<s;++o){for(var d=e[t[o]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,p=0;p<o;++p){var g=e[t[p]],y=g[r][1]||0,v=g[r-1][1]||0;m+=y-v}l+=f,c+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,mc(e,t)}}var v0={},iI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(iI);var R1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(R1);var x0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(x0);var y0={},aI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(aI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aI,n=x0;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",c="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const f=i[o];c?f==="\\"&&o+1<s?(o++,l+=i[o]):f===c?c="":l+=f:d?f==='"'||f==="'"?c=f:f==="]"?(d=!1,a.push(l),l=""):l+=f:f==="["?(d=!0,l&&(a.push(l),l="")):f==="."?l&&(a.push(l),l=""):l+=f,o++}return l&&a.push(l),a}e.toPath=r})(y0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iI,n=R1,r=x0,i=y0;function a(o,l,c){if(o==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const d=o[l];return d===void 0?n.isDeepKey(l)?a(o,i.toPath(l),c):c:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=o[l];return d===void 0?c:d}default:{if(Array.isArray(l))return s(o,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const d=o[l];return d===void 0?c:d}}}function s(o,l,c){if(l.length===0)return c;let d=o;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return c;d=d[l[f]]}return d===void 0?c:d}e.get=a})(v0);var U8=v0.get;const hc=bs(U8);var V8=4;function Xo(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:V8,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function Nr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,a,s)=>{var o=n[s-1];return typeof o=="string"?i+o+a:o!==void 0?i+Xo(o)+a:i+a},"")}var Pi=e=>e===0?0:e>0?1:-1,Fs=e=>typeof e=="number"&&e!=+e,ho=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Pt=e=>(typeof e=="number"||e instanceof Number)&&!Fs(e),Rs=e=>Pt(e)||typeof e=="string",W8=0,Df=e=>{var t=++W8;return"".concat(e||"").concat(t)},wa=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pt(t)&&typeof t!="string")return r;var a;if(ho(t)){if(n==null)return r;var s=t.indexOf("%");a=n*parseFloat(t.slice(0,s))/100}else a=+t;return Fs(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},sI=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function Ai(e,t,n){return Pt(e)&&Pt(t)?Xo(e+n*(t-e)):t}function oI(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):hc(r,t))===n)}var Wr=e=>e===null||typeof e>"u",om=e=>Wr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function H8(e){return e!=null}function lm(){}var q8=["type","size","sizeType"];function cb(){return cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cb.apply(null,arguments)}function wC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wC(Object(n),!0).forEach(function(r){K8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function K8(e,t,n){return(t=G8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G8(e){var t=Y8(e,"string");return typeof t=="symbol"?t:t+""}function Y8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X8(e,t){if(e==null)return{};var n,r,i=Q8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Q8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var lI={symbolCircle:F1,symbolCross:h8,symbolDiamond:g8,symbolSquare:v8,symbolStar:w8,symbolTriangle:k8,symbolWye:N8},Z8=Math.PI/180,J8=e=>{var t="symbol".concat(om(e));return lI[t]||F1},eV=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*Z8;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},tV=(e,t)=>{lI["symbol".concat(om(e))]=t},B1=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=X8(e,q8),a=kC(kC({},i),{},{type:t,size:n,sizeType:r}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var h=J8(s),m=C8().type(h).size(eV(n,r,s)),p=m();if(p!==null)return p},{className:l,cx:c,cy:d}=a,f=zi(a);return Pt(c)&&Pt(d)&&Pt(n)?x.createElement("path",cb({},f,{className:Tn("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(d,")"),d:o()})):null};B1.registerSymbol=tV;var cI=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,z1=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{I1(i)&&(r[i]=a=>n[i](n,a))}),r},nV=(e,t,n)=>r=>(e(t,n,r),null),U1=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];I1(i)&&typeof a=="function"&&(r||(r={}),r[i]=nV(a,t,n))}),r};function SC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SC(Object(n),!0).forEach(function(r){iV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iV(e,t,n){return(t=aV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aV(e){var t=sV(e,"string");return typeof t=="symbol"?t:t+""}function sV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hr(e,t){var n=rV({},e),r=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&r[o]!==void 0&&(s[o]=r[o]),s),n);return a}function qp(){return qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qp.apply(null,arguments)}function NC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NC(Object(n),!0).forEach(function(r){lV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lV(e,t,n){return(t=cV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cV(e){var t=uV(e,"string");return typeof t=="symbol"?t:t+""}function uV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $a=32,dV={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function fV(e){var{data:t,iconType:n,inactiveColor:r}=e,i=$a/2,a=$a/6,s=$a/3,o=t.inactive?r:t.color,l=n??t.type;if(l==="none")return null;if(l==="plainline"){var c;return x.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(c=t.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:i,x2:$a,y2:i,className:"recharts-legend-icon"})}if(l==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat($a,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return x.createElement("path",{stroke:"none",fill:o,d:"M0,".concat($a/8,"h").concat($a,"v").concat($a*3/4,"h").concat(-$a,"z"),className:"recharts-legend-icon"});if(x.isValidElement(t.legendIcon)){var d=oV({},t);return delete d.legendIcon,x.cloneElement(t.legendIcon,d)}return x.createElement(B1,{fill:o,cx:i,cy:i,size:$a,sizeType:"diameter",type:l})}function mV(e){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:s}=e,o={x:0,y:0,width:$a,height:$a},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||i,m=Tn({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var p=d.inactive?a:d.color,g=h?h(d.value,d,f):d.value;return x.createElement("li",qp({className:m,style:l,key:"legend-item-".concat(f)},U1(e,d,f)),x.createElement(_1,{width:n,height:n,viewBox:o,style:c,"aria-label":"".concat(g," legend icon")},x.createElement(fV,{data:d,iconType:s,inactiveColor:a})),x.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},g))})}var hV=e=>{var t=Hr(e,dV),{payload:n,layout:r,align:i}=t;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:a},x.createElement(mV,qp({},t,{payload:n})))},uI={},dI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],o=r(s,a,n);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(dI);var fI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}e.ary=t})(fI);var V1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(V1);var mI={},b0={},hI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(hI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hI;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(b0);var pI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(pI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b0,n=pI;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(mI);var gI={},vI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v0;function n(r){return function(i){return t.get(i,r)}}e.property=n})(vI);var xI={},W1={},yI={},H1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(H1);var q1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(q1);var K1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(K1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H1,n=q1,r=K1;function i(d,f,h){return typeof h!="function"?i(d,f,()=>{}):a(d,f,function m(p,g,y,v,b,w){const S=h(p,g,y,v,b,w);return S!==void 0?!!S:a(p,g,m,w)},new Map)}function a(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return s(d,f,h,m);case"function":return Object.keys(f).length>0?a(d,{...f},h,m):r.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:r.isEqualsSameValueZero(d,f)}}function s(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return l(d,f,h,m);if(f instanceof Map)return o(d,f,h,m);if(f instanceof Set)return c(d,f,h,m);const p=Object.keys(f);if(d==null||n.isPrimitive(d))return p.length===0;if(p.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let g=0;g<p.length;g++){const y=p[g];if(!n.isPrimitive(d)&&!(y in d)||f[y]===void 0&&d[y]!==void 0||f[y]===null&&d[y]!==null||!h(d[y],f[y],y,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function o(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[p,g]of f.entries()){const y=d.get(p);if(h(y,g,p,d,f,m)===!1)return!1}return!0}function l(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const p=new Set;for(let g=0;g<f.length;g++){const y=f[g];let v=!1;for(let b=0;b<d.length;b++){if(p.has(b))continue;const w=d[b];let S=!1;if(h(w,y,g,d,f,m)&&(S=!0),S){p.add(b),v=!0;break}}if(!v)return!1}return!0}function c(d,f,h,m){return f.size===0?!0:d instanceof Set?l([...d],[...f],h,m):!1}e.isMatchWith=i,e.isSetMatch=c})(yI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yI;function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(W1);var bI={},G1={},wI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(wI);var w0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(w0);var Y1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",c="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",g="[object DataView]",y="[object Uint8Array]",v="[object Uint8ClampedArray]",b="[object Uint16Array]",w="[object Uint32Array]",S="[object BigUint64Array]",C="[object Int8Array]",N="[object Int16Array]",A="[object Int32Array]",E="[object BigInt64Array]",$="[object Float32Array]",T="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=E,e.bigUint64ArrayTag=S,e.booleanTag=i,e.dataViewTag=g,e.dateTag=o,e.errorTag=p,e.float32ArrayTag=$,e.float64ArrayTag=T,e.functionTag=f,e.int16ArrayTag=N,e.int32ArrayTag=A,e.int8ArrayTag=C,e.mapTag=l,e.numberTag=r,e.objectTag=m,e.regexpTag=t,e.setTag=c,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=b,e.uint32ArrayTag=w,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=v})(Y1);var kI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(kI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wI,n=w0,r=Y1,i=q1,a=kI;function s(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,h,m=new Map,p=void 0){const g=p==null?void 0:p(d,f,h,m);if(g!==void 0)return g;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const y=new Array(d.length);m.set(d,y);for(let v=0;v<d.length;v++)y[v]=o(d[v],v,h,m,p);return Object.hasOwn(d,"index")&&(y.index=d.index),Object.hasOwn(d,"input")&&(y.input=d.input),y}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const y=new RegExp(d.source,d.flags);return y.lastIndex=d.lastIndex,y}if(d instanceof Map){const y=new Map;m.set(d,y);for(const[v,b]of d)y.set(v,o(b,v,h,m,p));return y}if(d instanceof Set){const y=new Set;m.set(d,y);for(const v of d)y.add(o(v,void 0,h,m,p));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const y=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,y);for(let v=0;v<d.length;v++)y[v]=o(d[v],v,h,m,p);return y}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const y=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,y),l(y,d,h,m,p),y}if(typeof File<"u"&&d instanceof File){const y=new File([d],d.name,{type:d.type});return m.set(d,y),l(y,d,h,m,p),y}if(typeof Blob<"u"&&d instanceof Blob){const y=new Blob([d],{type:d.type});return m.set(d,y),l(y,d,h,m,p),y}if(d instanceof Error){const y=new d.constructor;return m.set(d,y),y.message=d.message,y.name=d.name,y.stack=d.stack,y.cause=d.cause,l(y,d,h,m,p),y}if(d instanceof Boolean){const y=new Boolean(d.valueOf());return m.set(d,y),l(y,d,h,m,p),y}if(d instanceof Number){const y=new Number(d.valueOf());return m.set(d,y),l(y,d,h,m,p),y}if(d instanceof String){const y=new String(d.valueOf());return m.set(d,y),l(y,d,h,m,p),y}if(typeof d=="object"&&c(d)){const y=Object.create(Object.getPrototypeOf(d));return m.set(d,y),l(y,d,h,m,p),y}return d}function l(d,f,h=d,m,p){const g=[...Object.keys(f),...t.getSymbols(f)];for(let y=0;y<g.length;y++){const v=g[y],b=Object.getOwnPropertyDescriptor(d,v);(b==null||b.writable)&&(d[v]=o(f[v],v,h,m,p))}}function c(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=l})(G1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G1;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(bI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W1,n=bI;function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(xI);var SI={},NI={},CI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G1,n=w0,r=Y1;function i(a,s){return t.cloneDeepWith(a,(o,l,c,d)=>{const f=s==null?void 0:s(o,l,c,d);if(f!==void 0)return f;if(typeof a=="object"){if(n.getTag(a)===r.objectTag&&typeof a.constructor!="function"){const h={};return d.set(a,h),t.copyProperties(h,a,c,d),h}switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const h=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(h,a),h}case r.argumentsTag:{const h={};return t.copyProperties(h,a),h.length=a.length,h[Symbol.iterator]=a[Symbol.iterator],h}default:return}}})}e.cloneDeepWith=i})(CI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CI;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(NI);var jI={},X1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(X1);var AI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w0;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(AI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R1,n=X1,r=AI,i=y0;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let c=s;for(let d=0;d<l.length;d++){const f=l[d];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=a})(jI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W1,n=x0,r=NI,i=v0,a=jI;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return l=r.cloneDeep(l),function(c){const d=i.get(c,o);return d===void 0?a.has(c,o):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=s})(SI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V1,n=vI,r=xI,i=SI;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=a})(gI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dI,n=fI,r=V1,i=mI,a=gI;function s(o,l=r.identity){return i.isArrayLikeObject(o)?t.uniqBy(Array.from(o),n.ary(a.iteratee(l),1)):[]}e.uniqBy=s})(uI);var pV=uI.uniqBy;const CC=bs(pV);function PI(e,t,n){return t===!0?CC(e,n):typeof t=="function"?CC(e,t):e}var TI={exports:{}},EI={},DI={exports:{}},MI={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fu=x;function gV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vV=typeof Object.is=="function"?Object.is:gV,xV=Fu.useState,yV=Fu.useEffect,bV=Fu.useLayoutEffect,wV=Fu.useDebugValue;function kV(e,t){var n=t(),r=xV({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return bV(function(){i.value=n,i.getSnapshot=t,sx(i)&&a({inst:i})},[e,n,t]),yV(function(){return sx(i)&&a({inst:i}),e(function(){sx(i)&&a({inst:i})})},[e]),wV(n),n}function sx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vV(e,n)}catch{return!0}}function SV(e,t){return t()}var NV=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?SV:kV;MI.useSyncExternalStore=Fu.useSyncExternalStore!==void 0?Fu.useSyncExternalStore:NV;DI.exports=MI;var CV=DI.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k0=x,jV=CV;function AV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var PV=typeof Object.is=="function"?Object.is:AV,TV=jV.useSyncExternalStore,EV=k0.useRef,DV=k0.useEffect,MV=k0.useMemo,OV=k0.useDebugValue;EI.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=EV(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=MV(function(){function l(m){if(!c){if(c=!0,d=m,m=r(m),i!==void 0&&s.hasValue){var p=s.value;if(i(p,m))return f=p}return f=m}if(p=f,PV(d,m))return p;var g=r(m);return i!==void 0&&i(p,g)?(d=m,p):(d=m,f=g)}var c=!1,d,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var o=TV(e,a[0],a[1]);return DV(function(){s.hasValue=!0,s.value=o},[o]),OV(o),o};TI.exports=EI;var IV=TI.exports,Q1=x.createContext(null),_V=e=>e,Xn=()=>{var e=x.useContext(Q1);return e?e.store.dispatch:_V},tp=()=>{},LV=()=>tp,$V=(e,t)=>e===t;function jt(e){var t=x.useContext(Q1);return IV.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:LV,t?t.store.getState:tp,t?t.store.getState:tp,t?e:tp,$V)}function FV(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function RV(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function BV(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var jC=e=>Array.isArray(e)?e:[e];function zV(e){const t=Array.isArray(e[0])?e[0]:e;return BV(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function UV(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var VV=class{constructor(e){this.value=e}deref(){return this.value}},WV=typeof WeakRef<"u"?WeakRef:VV,HV=0,AC=1;function yh(){return{s:HV,v:void 0,o:null,p:null}}function OI(e,t={}){let n=yh();const{resultEqualityCheck:r}=t;let i,a=0;function s(){var f;let o=n;const{length:l}=arguments;for(let h=0,m=l;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let g=o.o;g===null&&(o.o=g=new WeakMap);const y=g.get(p);y===void 0?(o=yh(),g.set(p,o)):o=y}else{let g=o.p;g===null&&(o.p=g=new Map);const y=g.get(p);y===void 0?(o=yh(),g.set(p,o)):o=y}}const c=o;let d;if(o.s===AC)d=o.v;else if(d=e.apply(null,arguments),a++,r){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&r(h,d)&&(d=h,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new WV(d):d}return c.s=AC,c.v=d,d}return s.clearCache=()=>{n=yh(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function qV(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,s=0,o,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),FV(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...n,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:m=OI,argsMemoizeOptions:p=[]}=d,g=jC(h),y=jC(p),v=zV(i),b=f(function(){return a++,c.apply(null,arguments)},...g),w=m(function(){s++;const C=UV(v,arguments);return o=b.apply(null,C),o},...y);return Object.assign(w,{resultFunc:c,memoizedResultFunc:b,dependencies:v,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var pe=qV(OI),KV=Object.assign((e,t=pe)=>{RV(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((s,o,l)=>(s[n[l]]=o,s),{}))},{withTypes:()=>KV}),II={},_I={},LI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=t(r),o=t(i);if(s===o&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=n})(LI);var $I={},Z1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Z1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Z1,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})($I);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LI,n=$I,r=y0;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const c=(m,p)=>{let g=m;for(let y=0;y<p.length&&g!=null;++y)g=g[p[y]];return g},d=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:c(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?c(p,m):typeof p=="object"?p[m]:p,f=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return a.map(m=>({original:m,criteria:f.map(p=>d(p,m))})).slice().sort((m,p)=>{for(let g=0;g<f.length;g++){const y=t.compareValues(m.criteria[g],p.criteria[g],o[g]);if(y!==0)return y}return 0}).map(m=>m.original)}e.orderBy=i})(_I);var FI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),s=(o,l)=>{for(let c=0;c<o.length;c++){const d=o[c];Array.isArray(d)&&l<a?s(d,l+1):i.push(d)}};return s(n,0),i}e.flatten=t})(FI);var J1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X1,n=b0,r=H1,i=K1;function a(s,o,l){return r.isObject(l)&&(typeof o=="number"&&n.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.isEqualsSameValueZero(l[o],s):!1}e.isIterateeCall=a})(J1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_I,n=FI,r=J1;function i(a,...s){const o=s.length;return o>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,n.flatten(s),["asc"])}e.sortBy=i})(II);var GV=II.sortBy;const S0=bs(GV);var RI=e=>e.legend.settings,YV=e=>e.legend.size,XV=e=>e.legend.payload,QV=pe([XV,RI],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?S0(r,n):r});function ZV(){return jt(QV)}var bh=1;function BI(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=x.useState({height:0,left:0,top:0,width:0}),r=x.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>bh||Math.abs(s.left-t.left)>bh||Math.abs(s.top-t.top)>bh||Math.abs(s.width-t.width)>bh)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function di(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var JV=typeof Symbol=="function"&&Symbol.observable||"@@observable",PC=JV,ox=()=>Math.random().toString(36).substring(7).split("").join("."),e9={INIT:`@@redux/INIT${ox()}`,REPLACE:`@@redux/REPLACE${ox()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ox()}`},Kp=e9;function ek(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function zI(e,t,n){if(typeof e!="function")throw new Error(di(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(di(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(di(1));return n(zI)(e,t)}let r=e,i=t,a=new Map,s=a,o=0,l=!1;function c(){s===a&&(s=new Map,a.forEach((y,v)=>{s.set(v,y)}))}function d(){if(l)throw new Error(di(3));return i}function f(y){if(typeof y!="function")throw new Error(di(4));if(l)throw new Error(di(5));let v=!0;c();const b=o++;return s.set(b,y),function(){if(v){if(l)throw new Error(di(6));v=!1,c(),s.delete(b),a=null}}}function h(y){if(!ek(y))throw new Error(di(7));if(typeof y.type>"u")throw new Error(di(8));if(typeof y.type!="string")throw new Error(di(17));if(l)throw new Error(di(9));try{l=!0,i=r(i,y)}finally{l=!1}return(a=s).forEach(b=>{b()}),y}function m(y){if(typeof y!="function")throw new Error(di(10));r=y,h({type:Kp.REPLACE})}function p(){const y=f;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(di(11));function b(){const S=v;S.next&&S.next(d())}return b(),{unsubscribe:y(b)}},[PC](){return this}}}return h({type:Kp.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[PC]:p}}function t9(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Kp.INIT})>"u")throw new Error(di(12));if(typeof n(void 0,{type:Kp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(di(13))})}function UI(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{t9(n)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const c={};for(let d=0;d<r.length;d++){const f=r[d],h=n[f],m=s[f],p=h(m,o);if(typeof p>"u")throw o&&o.type,new Error(di(14));c[f]=p,l=l||p!==m}return l=l||r.length!==Object.keys(s).length,l?c:s}}function Gp(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function n9(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(di(15))};const s={getState:i.getState,dispatch:(l,...c)=>a(l,...c)},o=e.map(l=>l(s));return a=Gp(...o)(i.dispatch),{...i,dispatch:a}}}function VI(e){return ek(e)&&"type"in e&&typeof e.type=="string"}var WI=Symbol.for("immer-nothing"),TC=Symbol.for("immer-draftable"),Ui=Symbol.for("immer-state");function os(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ya=Object,Ru=ya.getPrototypeOf,Yp="constructor",N0="prototype",ub="configurable",Xp="enumerable",np="writable",Mf="value",po=e=>!!e&&!!e[Ui];function gs(e){var t;return e?HI(e)||j0(e)||!!e[TC]||!!((t=e[Yp])!=null&&t[TC])||A0(e)||P0(e):!1}var r9=ya[N0][Yp].toString(),EC=new WeakMap;function HI(e){if(!e||!tk(e))return!1;const t=Ru(e);if(t===null||t===ya[N0])return!0;const n=ya.hasOwnProperty.call(t,Yp)&&t[Yp];if(n===Object)return!0;if(!Jc(n))return!1;let r=EC.get(n);return r===void 0&&(r=Function.toString.call(n),EC.set(n,r)),r===r9}function C0(e,t,n=!0){cm(e)===0?(n?Reflect.ownKeys(e):ya.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function cm(e){const t=e[Ui];return t?t.type_:j0(e)?1:A0(e)?2:P0(e)?3:0}var DC=(e,t,n=cm(e))=>n===2?e.has(t):ya[N0].hasOwnProperty.call(e,t),db=(e,t,n=cm(e))=>n===2?e.get(t):e[t],Qp=(e,t,n,r=cm(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function i9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var j0=Array.isArray,A0=e=>e instanceof Map,P0=e=>e instanceof Set,tk=e=>typeof e=="object",Jc=e=>typeof e=="function",lx=e=>typeof e=="boolean";function a9(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Ys=e=>e.copy_||e.base_,nk=e=>e.modified_?e.copy_:e.base_;function fb(e,t){if(A0(e))return new Map(e);if(P0(e))return new Set(e);if(j0(e))return Array[N0].slice.call(e);const n=HI(e);if(t===!0||t==="class_only"&&!n){const r=ya.getOwnPropertyDescriptors(e);delete r[Ui];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o[np]===!1&&(o[np]=!0,o[ub]=!0),(o.get||o.set)&&(r[s]={[ub]:!0,[np]:!0,[Xp]:o[Xp],[Mf]:e[s]})}return ya.create(Ru(e),r)}else{const r=Ru(e);if(r!==null&&n)return{...e};const i=ya.create(r);return ya.assign(i,e)}}function rk(e,t=!1){return T0(e)||po(e)||!gs(e)||(cm(e)>1&&ya.defineProperties(e,{set:wh,add:wh,clear:wh,delete:wh}),ya.freeze(e),t&&C0(e,(n,r)=>{rk(r,!0)},!1)),e}function s9(){os(2)}var wh={[Mf]:s9};function T0(e){return e===null||!tk(e)?!0:ya.isFrozen(e)}var Zp="MapSet",mb="Patches",MC="ArrayMethods",qI={};function pc(e){const t=qI[e];return t||os(0,e),t}var OC=e=>!!qI[e],Of,KI=()=>Of,o9=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:OC(Zp)?pc(Zp):void 0,arrayMethodsPlugin_:OC(MC)?pc(MC):void 0});function IC(e,t){t&&(e.patchPlugin_=pc(mb),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function hb(e){pb(e),e.drafts_.forEach(l9),e.drafts_=null}function pb(e){e===Of&&(Of=e.parent_)}var _C=e=>Of=o9(Of,e);function l9(e){const t=e[Ui];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function LC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Ui].modified_&&(hb(t),os(4)),gs(e)&&(e=$C(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Ui].base_,e,t)}else e=$C(t,n);return c9(t,e,!0),hb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==WI?e:void 0}function $C(e,t){if(T0(t))return t;const n=t[Ui];if(!n)return Jp(t,e.handledSet_,e);if(!E0(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);XI(n,e)}return n.copy_}function c9(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&rk(t,n)}function GI(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var E0=(e,t)=>e.scope_===t,u9=[];function YI(e,t,n,r){const i=Ys(e),a=e.type_;if(r!==void 0&&db(i,r,a)===t){Qp(i,r,n,a);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;C0(i,(l,c)=>{if(po(c)){const d=o.get(c)||[];d.push(l),o.set(c,d)}})}const s=e.draftLocations_.get(t)??u9;for(const o of s)Qp(i,o,n,a)}function d9(e,t,n){e.callbacks_.push(function(i){var o;const a=t;if(!a||!E0(a,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(a);const s=nk(a);YI(e,a.draft_??a,s,n),XI(a,i)})}function XI(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}GI(e)}}function f9(e,t,n){const{scope_:r}=e;if(po(n)){const i=n[Ui];E0(i,r)&&i.callbacks_.push(function(){rp(e);const s=nk(i);YI(e,n,s,t)})}else gs(n)&&e.callbacks_.push(function(){const a=Ys(e);e.type_===3?a.has(n)&&Jp(n,r.handledSet_,r):db(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Jp(db(e.copy_,t,e.type_),r.handledSet_,r)})}function Jp(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||po(e)||t.has(e)||!gs(e)||T0(e)||(t.add(e),C0(e,(r,i)=>{if(po(i)){const a=i[Ui];if(E0(a,n)){const s=nk(a);Qp(e,r,s,e.type_),GI(a)}}else gs(i)&&Jp(i,t,n)})),e}function m9(e,t){const n=j0(e),r={type_:n?1:0,scope_:t?t.scope_:KI(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=eg;n&&(i=[r],a=If);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,[o,r]}var eg={get(e,t){if(t===Ui)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=Ys(e);if(!DC(i,t,e.type_))return h9(e,i,t);const a=i[t];if(e.finalized_||!gs(a)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&a9(t))return a;if(a===cx(e.base_,t)){rp(e);const s=e.type_===1?+t:t,o=vb(e.scope_,a,e,s);return e.copy_[s]=o}return a},has(e,t){return t in Ys(e)},ownKeys(e){return Reflect.ownKeys(Ys(e))},set(e,t,n){const r=QI(Ys(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=cx(Ys(e),t),a=i==null?void 0:i[Ui];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(i9(n,i)&&(n!==void 0||DC(e.base_,t,e.type_)))return!0;rp(e),gb(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),f9(e,t,n)),!0},deleteProperty(e,t){return rp(e),cx(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),gb(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ys(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[np]:!0,[ub]:e.type_!==1||t!=="length",[Xp]:r[Xp],[Mf]:n[t]}},defineProperty(){os(11)},getPrototypeOf(e){return Ru(e.base_)},setPrototypeOf(){os(12)}},If={};for(let e in eg){let t=eg[e];If[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}If.deleteProperty=function(e,t){return If.set.call(this,e,t,void 0)};If.set=function(e,t,n){return eg.set.call(this,e[0],t,n,e[0])};function cx(e,t){const n=e[Ui];return(n?Ys(n):e)[t]}function h9(e,t,n){var i;const r=QI(t,n);return r?Mf in r?r[Mf]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function QI(e,t){if(!(t in e))return;let n=Ru(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Ru(n)}}function gb(e){e.modified_||(e.modified_=!0,e.parent_&&gb(e.parent_))}function rp(e){e.copy_||(e.assigned_=new Map,e.copy_=fb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var p9=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Jc(n)&&!Jc(r)){const s=r;r=n;const o=this;return function(c=s,...d){return o.produce(c,f=>r.call(this,f,...d))}}Jc(r)||os(6),i!==void 0&&!Jc(i)&&os(7);let a;if(gs(n)){const s=_C(this),o=vb(s,n,void 0);let l=!0;try{a=r(o),l=!1}finally{l?hb(s):pb(s)}return IC(s,i),LC(a,s)}else if(!n||!tk(n)){if(a=r(n),a===void 0&&(a=n),a===WI&&(a=void 0),this.autoFreeze_&&rk(a,!0),i){const s=[],o=[];pc(mb).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else os(1,n)},this.produceWithPatches=(n,r)=>{if(Jc(n))return(o,...l)=>this.produceWithPatches(o,c=>n(c,...l));let i,a;return[this.produce(n,r,(o,l)=>{i=o,a=l}),i,a]},lx(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),lx(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),lx(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){gs(t)||os(8),po(t)&&(t=fs(t));const n=_C(this),r=vb(n,t,void 0);return r[Ui].isManual_=!0,pb(n),r}finishDraft(t,n){const r=t&&t[Ui];(!r||!r.isManual_)&&os(9);const{scope_:i}=r;return IC(i,n),LC(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=pc(mb).applyPatches_;return po(t)?i(t,n):this.produce(t,a=>i(a,n))}};function vb(e,t,n,r){const[i,a]=A0(t)?pc(Zp).proxyMap_(t,n):P0(t)?pc(Zp).proxySet_(t,n):m9(t,n);return((n==null?void 0:n.scope_)??KI()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?d9(n,a,r):a.callbacks_.push(function(l){var d;(d=l.mapSetPlugin_)==null||d.fixSetContents(a);const{patchPlugin_:c}=l;a.modified_&&c&&c.generatePatches_(a,[],l)}),i}function fs(e){return po(e)||os(10,e),ZI(e)}function ZI(e){if(!gs(e)||T0(e))return e;const t=e[Ui];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=fb(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=fb(e,!0);return C0(n,(i,a)=>{Qp(n,i,ZI(a))},r),t&&(t.finalized_=!1),n}var g9=new p9,JI=g9.produce;function e5(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var v9=e5(),x9=e5,y9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Gp:Gp.apply(null,arguments)};function Ga(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(ka(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>VI(r)&&r.type===e,n}var t5=class Ud extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ud.prototype)}static get[Symbol.species](){return Ud}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ud(...t[0].concat(this)):new Ud(...t.concat(this))}};function FC(e){return gs(e)?JI(e,()=>{}):e}function kh(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function b9(e){return typeof e=="boolean"}var w9=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new t5;return n&&(b9(n)?s.push(v9):s.push(x9(n.extraArgument))),s},n5="RTK_autoBatch",lr=()=>e=>({payload:e,meta:{[n5]:!0}}),RC=e=>t=>{setTimeout(t,e)},r5=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,s=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:RC(10):e.type==="callback"?e.queueNotification:RC(e.timeout),c=()=>{s=!1,a&&(a=!1,o.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>i&&d(),h=r.subscribe(f);return o.add(d),()=>{h(),o.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[n5]),a=!i,a&&(s||(s=!0,l(c))),r.dispatch(d)}finally{i=!0}}})},k9=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new t5(e);return r&&i.push(r5(typeof r=="object"?r:void 0)),i};function S9(e){const t=w9(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let o;if(typeof n=="function")o=n;else if(ek(n))o=UI(n);else throw new Error(ka(1));let l;typeof r=="function"?l=r(t):l=t();let c=Gp;i&&(c=y9({trace:!1,...typeof i=="object"&&i}));const d=n9(...l),f=k9(d);let h=typeof s=="function"?s(f):f();const m=c(...h);return zI(o,a,m)}function i5(e){const t={},n=[];let r;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(ka(28));if(o in t)throw new Error(ka(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function N9(e){return typeof e=="function"}function C9(e,t){let[n,r,i]=i5(t),a;if(N9(e))a=()=>FC(e());else{const o=FC(e);a=()=>o}function s(o=a(),l){let c=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,f)=>{if(f)if(po(d)){const m=f(d,l);return m===void 0?d:m}else{if(gs(d))return JI(d,h=>f(h,l));{const h=f(d,l);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},o)}return s.getInitialState=a,s}var j9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",A9=(e=21)=>{let t="",n=e;for(;n--;)t+=j9[Math.random()*64|0];return t},P9=Symbol.for("rtk-slice-createasyncthunk");function T9(e,t){return`${e}/${t}`}function E9({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[P9];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(ka(11));const o=(typeof i.reducers=="function"?i.reducers(M9()):i.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(S,C){const N=typeof S=="string"?S:S.type;if(!N)throw new Error(ka(12));if(N in c.sliceCaseReducersByType)throw new Error(ka(13));return c.sliceCaseReducersByType[N]=C,d},addMatcher(S,C){return c.sliceMatchers.push({matcher:S,reducer:C}),d},exposeAction(S,C){return c.actionCreators[S]=C,d},exposeCaseReducer(S,C){return c.sliceCaseReducersByName[S]=C,d}};l.forEach(S=>{const C=o[S],N={reducerName:S,type:T9(a,S),createNotation:typeof i.reducers=="function"};I9(C)?L9(N,C,d,t):O9(N,C,d)});function f(){const[S={},C=[],N=void 0]=typeof i.extraReducers=="function"?i5(i.extraReducers):[i.extraReducers],A={...S,...c.sliceCaseReducersByType};return C9(i.initialState,E=>{for(let $ in A)E.addCase($,A[$]);for(let $ of c.sliceMatchers)E.addMatcher($.matcher,$.reducer);for(let $ of C)E.addMatcher($.matcher,$.reducer);N&&E.addDefaultCase(N)})}const h=S=>S,m=new Map,p=new WeakMap;let g;function y(S,C){return g||(g=f()),g(S,C)}function v(){return g||(g=f()),g.getInitialState()}function b(S,C=!1){function N(E){let $=E[S];return typeof $>"u"&&C&&($=kh(p,N,v)),$}function A(E=h){const $=kh(m,C,()=>new WeakMap);return kh($,E,()=>{const T={};for(const[M,O]of Object.entries(i.selectors??{}))T[M]=D9(O,E,()=>kh(p,E,v),C);return T})}return{reducerPath:S,getSelectors:A,get selectors(){return A(N)},selectSlice:N}}const w={name:a,reducer:y,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:v,...b(s),injectInto(S,{reducerPath:C,...N}={}){const A=C??s;return S.inject({reducerPath:A,reducer:y},N),{...w,...b(A,!0)}}};return w}}function D9(e,t,n,r){function i(a,...s){let o=t(a);return typeof o>"u"&&r&&(o=n()),e(o,...s)}return i.unwrapped=e,i}var sa=E9();function M9(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function O9({type:e,reducerName:t,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!_9(r))throw new Error(ka(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?Ga(e,s):Ga(e))}function I9(e){return e._reducerDefinitionType==="asyncThunk"}function _9(e){return e._reducerDefinitionType==="reducerWithPrepare"}function L9({type:e,reducerName:t},n,r,i){if(!i)throw new Error(ka(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:c,options:d}=n,f=i(e,a,d);r.exposeAction(t,f),s&&r.addCase(f.fulfilled,s),o&&r.addCase(f.pending,o),l&&r.addCase(f.rejected,l),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(t,{fulfilled:s||Sh,pending:o||Sh,rejected:l||Sh,settled:c||Sh})}function Sh(){}var $9="task",a5="listener",s5="completed",ik="cancelled",F9=`task-${ik}`,R9=`task-${s5}`,xb=`${a5}-${ik}`,B9=`${a5}-${s5}`,D0=class{constructor(e){Ev(this,"name","TaskAbortError");Ev(this,"message");this.code=e,this.message=`${$9} ${ik} (reason: ${e})`}},ak=(e,t)=>{if(typeof e!="function")throw new TypeError(ka(32))},tg=()=>{},o5=(e,t=tg)=>(e.catch(t),e),l5=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ic=e=>{if(e.aborted)throw new D0(e.reason)};function c5(e,t){let n=tg;return new Promise((r,i)=>{const a=()=>i(new D0(e.reason));if(e.aborted){a();return}n=l5(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=tg})}var z9=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof D0?"cancelled":"rejected",error:n}}finally{t==null||t()}},ng=e=>t=>o5(c5(e,t).then(n=>(ic(e),n))),u5=e=>{const t=ng(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Cu}=Object,BC={},M0="listenerMiddleware",U9=(e,t)=>{const n=r=>l5(e,()=>r.abort(e.reason));return(r,i)=>{ak(r);const a=new AbortController;n(a);const s=z9(async()=>{ic(e),ic(a.signal);const o=await r({pause:ng(a.signal),delay:u5(a.signal),signal:a.signal});return ic(a.signal),o},()=>a.abort(R9));return i!=null&&i.autoJoin&&t.push(s.catch(tg)),{result:ng(e)(s),cancel(){a.abort(F9)}}}},V9=(e,t)=>{const n=async(r,i)=>{ic(t);let a=()=>{};const o=[new Promise((l,c)=>{let d=e({predicate:r,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});a=()=>{d(),c()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await c5(t,Promise.race(o));return ic(t),l}finally{a()}};return(r,i)=>o5(n(r,i))},d5=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Ga(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(ka(21));return ak(a),{predicate:i,type:t,effect:a}},f5=Cu(e=>{const{type:t,predicate:n,effect:r}=d5(e);return{id:A9(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ka(22))}}},{withTypes:()=>f5}),zC=(e,t)=>{const{type:n,effect:r,predicate:i}=d5(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},yb=e=>{e.pending.forEach(t=>{t.abort(xb)})},W9=(e,t)=>()=>{for(const n of t.keys())yb(n);e.clear()},UC=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},m5=Cu(Ga(`${M0}/add`),{withTypes:()=>m5}),H9=Ga(`${M0}/removeAll`),h5=Cu(Ga(`${M0}/remove`),{withTypes:()=>h5}),q9=(...e)=>{console.error(`${M0}/error`,...e)},um=(e={})=>{const t=new Map,n=new Map,r=m=>{const p=n.get(m)??0;n.set(m,p+1)},i=m=>{const p=n.get(m)??1;p===1?n.delete(m):n.set(m,p-1)},{extra:a,onError:s=q9}=e;ak(s);const o=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),p=>{m.unsubscribe(),p!=null&&p.cancelActive&&yb(m)}),l=m=>{const p=zC(t,m)??f5(m);return o(p)};Cu(l,{withTypes:()=>l});const c=m=>{const p=zC(t,m);return p&&(p.unsubscribe(),m.cancelActive&&yb(p)),!!p};Cu(c,{withTypes:()=>c});const d=async(m,p,g,y)=>{const v=new AbortController,b=V9(l,v.signal),w=[];try{m.pending.add(v),r(m),await Promise.resolve(m.effect(p,Cu({},g,{getOriginalState:y,condition:(S,C)=>b(S,C).then(Boolean),take:b,delay:u5(v.signal),pause:ng(v.signal),extra:a,signal:v.signal,fork:U9(v.signal,w),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((S,C,N)=>{S!==v&&(S.abort(xb),N.delete(S))})},cancel:()=>{v.abort(xb),m.pending.delete(v)},throwIfCancelled:()=>{ic(v.signal)}})))}catch(S){S instanceof D0||UC(s,S,{raisedBy:"effect"})}finally{await Promise.all(w),v.abort(B9),i(m),m.pending.delete(v)}},f=W9(t,n);return{middleware:m=>p=>g=>{if(!VI(g))return p(g);if(m5.match(g))return l(g.payload);if(H9.match(g)){f();return}if(h5.match(g))return c(g.payload);let y=m.getState();const v=()=>{if(y===BC)throw new Error(ka(23));return y};let b;try{if(b=p(g),t.size>0){const w=m.getState(),S=Array.from(t.values());for(const C of S){let N=!1;try{N=C.predicate(g,w,y)}catch(A){N=!1,UC(s,A,{raisedBy:"predicate"})}N&&d(C,g,m,v)}}}finally{y=BC}return b},startListening:l,stopListening:c,clearListeners:f}};function ka(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var K9={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},p5=sa({name:"chartLayout",initialState:K9,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:G9,setLayout:Y9,setChartSize:X9,setScale:Q9}=p5.actions,Z9=p5.reducer;function g5(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Rr(e){return Number.isFinite(e)}function Bs(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function VC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VC(Object(n),!0).forEach(function(r){J9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function J9(e,t,n){return(t=eW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eW(e){var t=tW(e,"string");return typeof t=="symbol"?t:t+""}function tW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ar(e,t,n){return Wr(e)||Wr(t)?n:Rs(t)?hc(e,t,n):typeof t=="function"?t(e):n}var nW=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&Pt(e[a]))return mu(mu({},e),{},{[a]:e[a]+(r||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&Pt(e[s]))return mu(mu({},e),{},{[s]:e[s]+(i||0)})}return e},vl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",v5=(e,t,n,r)=>{if(r)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===n&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(n),s},x5=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!s)return null;var p=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,g=i==="category"&&s.bandwidth?s.bandwidth()/p:0;if(g=m==="angleAxis"&&a&&a.length>=2?Pi(a[0]-a[1])*2*g:g,f||h){var y=(f||h||[]).map((v,b)=>{var w=r?r.indexOf(v):v;return{coordinate:s(w)+g,value:v,offset:g,index:b}});return y.filter(v=>!Fs(v.coordinate))}return l&&c?c.map((v,b)=>({coordinate:s(v)+g,value:v,index:b,offset:g})):s.ticks&&d!=null?s.ticks(d).map((v,b)=>({coordinate:s(v)+g,value:v,offset:g,index:b})):s.domain().map((v,b)=>({coordinate:s(v)+g,value:r?r[v]:v,index:b,offset:g}))},WC=1e-4,rW=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-WC,a=Math.max(r[0],r[1])+WC,s=e(t[0]),o=e(t[n-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[n-1]])}},iW=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0,o=0;o<n;++o){var l=e[o],c=l==null?void 0:l[i];if(c!=null){var d=c[1],f=c[0],h=Fs(d)?f:d;h>=0?(c[0]=a,c[1]=a+h,a=d):(c[0]=s,c[1]=s+h,s=d)}}}},aW=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0;s<n;++s){var o=e[s],l=o==null?void 0:o[i];if(l!=null){var c=Fs(l[1])?l[0]:l[1];c>=0?(l[0]=a,l[1]=a+c,a=l[1]):(l[0]=0,l[1]=0)}}}},sW={sign:iW,expand:R8,none:mc,silhouette:B8,wiggle:z8,positive:aW},oW=(e,t,n)=>{var r,i=(r=sW[n])!==null&&r!==void 0?r:mc,a=F8().keys(t).value((o,l)=>Number(ar(o,l,0))).order(lb).offset(i),s=a(e);return s.forEach((o,l)=>{o.forEach((c,d)=>{var f=ar(e[d],t[l],0);Array.isArray(f)&&f.length===2&&Pt(f[0])&&Pt(f[1])&&(c[0]=f[0],c[1]=f[1])})}),s};function HC(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Wr(i[t.dataKey])){var o=oI(n,"value",i[t.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=ar(i,Wr(s)?t.dataKey:s);return Wr(l)?null:t.scale(l)}var lW=e=>{var t=e.flat(2).filter(Pt);return[Math.min(...t),Math.max(...t)]},cW=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],uW=(e,t,n)=>{if(e!=null)return cW(Object.keys(e).reduce((r,i)=>{var a=e[i];if(!a)return r;var{stackedData:s}=a,o=s.reduce((l,c)=>{var d=g5(c,t,n),f=lW(d);return!Rr(f[0])||!Rr(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},qC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,KC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rg=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=S0(t,d=>d.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],c=i[s-1];a=Math.min(((l==null?void 0:l.coordinate)||0)-((c==null?void 0:c.coordinate)||0),a)}return a===1/0?0:a}return n?void 0:0};function GC(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return mu(mu({},t),{},{dataKey:n,payload:r,value:i,name:a})}function O0(e,t){if(e)return String(e);if(typeof t=="string")return t}var dW=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},fW=(e,t)=>t==="centric"?e.angle:e.radius,ko=e=>e.layout.width,So=e=>e.layout.height,mW=e=>e.layout.scale,y5=e=>e.layout.margin,I0=pe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),_0=pe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),b5="data-recharts-item-index",w5="data-recharts-item-id",dm=60;function YC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YC(Object(n),!0).forEach(function(r){hW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hW(e,t,n){return(t=pW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pW(e){var t=gW(e,"string");return typeof t=="symbol"?t:t+""}function gW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vW=e=>e.brush.height;function xW(e){var t=_0(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:dm;return n+i}return n},0)}function yW(e){var t=_0(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:dm;return n+i}return n},0)}function bW(e){var t=I0(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function wW(e){var t=I0(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var ni=pe([ko,So,y5,vW,xW,yW,bW,wW,RI,YV],(e,t,n,r,i,a,s,o,l,c)=>{var d={left:(n.left||0)+i,right:(n.right||0)+a},f={top:(n.top||0)+s,bottom:(n.bottom||0)+o},h=Nh(Nh({},f),d),m=h.bottom;h.bottom+=r,h=nW(h,l,c);var p=e-h.left-h.right,g=t-h.top-h.bottom;return Nh(Nh({brushBottom:m},h),{},{width:Math.max(p,0),height:Math.max(g,0)})}),kW=pe(ni,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),k5=pe(ko,So,(e,t)=>({x:0,y:0,width:e,height:t})),SW=x.createContext(null),oa=()=>x.useContext(SW)!=null,L0=e=>e.brush,$0=pe([L0,ni,y5],(e,t,n)=>({height:e.height,x:Pt(e.x)?e.x:t.left,y:Pt(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Pt(e.width)?e.width:t.width})),S5={},N5={},C5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),d=()=>{o!==null&&(n.apply(s,o),s=void 0,o=null)},f=()=>{c&&d(),g()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},r)},p=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{p(),s=void 0,o=null},y=()=>{d()},v=function(...b){if(i!=null&&i.aborted)return;s=this,o=b;const w=h==null;m(),l&&w&&d()};return v.schedule=m,v.cancel=g,v.flush=y,i==null||i.addEventListener("abort",g,{once:!0}),v}e.debounce=t})(C5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C5;function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,c=Array(2);s&&(c[0]="leading"),o&&(c[1]="trailing");let d,f=null;const h=t.debounce(function(...g){d=r.apply(this,g),f=null},i,{edges:c}),m=function(...g){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=r.apply(this,g),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,g),d)},p=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=p,m}e.debounce=n})(N5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N5;function n(r,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(r,i,{leading:s,maxWait:i,trailing:o})}e.throttle=n})(S5);var NW=S5.throttle;const CW=bs(NW);var ig=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},j5=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,o=ho(r)?e:Number(r),l=ho(i)?t:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},jW={width:0,height:0,overflow:"visible"},AW={width:0,overflowX:"visible"},PW={height:0,overflowY:"visible"},TW={},EW=e=>{var{width:t,height:n}=e,r=ho(t),i=ho(n);return r&&i?jW:r?AW:i?PW:TW};function DW(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function bb(){return bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bb.apply(null,arguments)}function XC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function QC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XC(Object(n),!0).forEach(function(r){MW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MW(e,t,n){return(t=OW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OW(e){var t=IW(e,"string");return typeof t=="symbol"?t:t+""}function IW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A5=x.createContext({width:-1,height:-1});function _W(e){return Bs(e.width)&&Bs(e.height)}function P5(e){var{children:t,width:n,height:r}=e,i=x.useMemo(()=>({width:n,height:r}),[n,r]);return _W(i)?x.createElement(A5.Provider,{value:i},t):null}var sk=()=>x.useContext(A5),LW=x.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:l,children:c,debounce:d=0,id:f,className:h,onResize:m,style:p={}}=e,g=x.useRef(null),y=x.useRef();y.current=m,x.useImperativeHandle(t,()=>g.current);var[v,b]=x.useState({containerWidth:r.width,containerHeight:r.height}),w=x.useCallback((E,$)=>{b(T=>{var M=Math.round(E),O=Math.round($);return T.containerWidth===M&&T.containerHeight===O?T:{containerWidth:M,containerHeight:O}})},[]);x.useEffect(()=>{if(g.current==null||typeof ResizeObserver>"u")return lm;var E=O=>{var Y,{width:Q,height:re}=O[0].contentRect;w(Q,re),(Y=y.current)===null||Y===void 0||Y.call(y,Q,re)};d>0&&(E=CW(E,d,{trailing:!0,leading:!1}));var $=new ResizeObserver(E),{width:T,height:M}=g.current.getBoundingClientRect();return w(T,M),$.observe(g.current),()=>{$.disconnect()}},[w,d]);var{containerWidth:S,containerHeight:C}=v;ig(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:N,calculatedHeight:A}=j5(S,C,{width:i,height:a,aspect:n,maxHeight:l});return ig(N!=null&&N>0||A!=null&&A>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,A,i,a,s,o,n),x.createElement("div",{id:f?"".concat(f):void 0,className:Tn("recharts-responsive-container",h),style:QC(QC({},p),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:g},x.createElement("div",{style:EW({width:i,height:a})},x.createElement(P5,{width:N,height:A},c)))}),gc=x.forwardRef((e,t)=>{var n=sk();if(Bs(n.width)&&Bs(n.height))return e.children;var{width:r,height:i}=DW({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=j5(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Pt(a)&&Pt(s)?x.createElement(P5,{width:a,height:s},e.children):x.createElement(LW,bb({},e,{width:r,height:i,ref:t}))});function T5(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var F0=()=>{var e,t=oa(),n=jt(kW),r=jt($0),i=(e=jt(L0))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},$W={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},E5=()=>{var e;return(e=jt(ni))!==null&&e!==void 0?e:$W},ok=()=>jt(ko),lk=()=>jt(So),FW=()=>jt(e=>e.layout.margin),zn=e=>e.layout.layoutType,fm=()=>jt(zn),RW=()=>{var e=fm();return e!==void 0},R0=e=>{var t=Xn(),n=oa(),{width:r,height:i}=e,a=sk(),s=r,o=i;return a&&(s=a.width>0?a.width:r,o=a.height>0?a.height:i),x.useEffect(()=>{!n&&Bs(s)&&Bs(o)&&t(X9({width:s,height:o}))},[t,n,s,o]),null},D5=Symbol.for("immer-nothing"),ZC=Symbol.for("immer-draftable"),Ca=Symbol.for("immer-state");function ls(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var _f=Object.getPrototypeOf;function Bu(e){return!!e&&!!e[Ca]}function vc(e){var t;return e?M5(e)||Array.isArray(e)||!!e[ZC]||!!((t=e.constructor)!=null&&t[ZC])||mm(e)||z0(e):!1}var BW=Object.prototype.constructor.toString(),JC=new WeakMap;function M5(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=JC.get(n);return r===void 0&&(r=Function.toString.call(n),JC.set(n,r)),r===BW}function ag(e,t,n=!0){B0(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function B0(e){const t=e[Ca];return t?t.type_:Array.isArray(e)?1:mm(e)?2:z0(e)?3:0}function wb(e,t){return B0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function O5(e,t,n){const r=B0(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function zW(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function mm(e){return e instanceof Map}function z0(e){return e instanceof Set}function Bl(e){return e.copy_||e.base_}function kb(e,t){if(mm(e))return new Map(e);if(z0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=M5(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Ca];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(_f(e),r)}else{const r=_f(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function ck(e,t=!1){return U0(e)||Bu(e)||!vc(e)||(B0(e)>1&&Object.defineProperties(e,{set:Ch,add:Ch,clear:Ch,delete:Ch}),Object.freeze(e),t&&Object.values(e).forEach(n=>ck(n,!0))),e}function UW(){ls(2)}var Ch={value:UW};function U0(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var VW={};function xc(e){const t=VW[e];return t||ls(0,e),t}var Lf;function I5(){return Lf}function WW(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ej(e,t){t&&(xc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Sb(e){Nb(e),e.drafts_.forEach(HW),e.drafts_=null}function Nb(e){e===Lf&&(Lf=e.parent_)}function tj(e){return Lf=WW(Lf,e)}function HW(e){const t=e[Ca];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function nj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Ca].modified_&&(Sb(t),ls(4)),vc(e)&&(e=sg(t,e),t.parent_||og(t,e)),t.patches_&&xc("Patches").generateReplacementPatches_(n[Ca].base_,e,t.patches_,t.inversePatches_)):e=sg(t,n,[]),Sb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==D5?e:void 0}function sg(e,t,n){if(U0(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Ca];if(!i)return ag(t,(a,s)=>rj(e,i,t,a,s,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return og(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),ag(s,(l,c)=>rj(e,i,a,l,c,n,o),r),og(e,a,!1),n&&e.patches_&&xc("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function rj(e,t,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=U0(i);if(!(o&&!s)){if(Bu(i)){const l=a&&t&&t.type_!==3&&!wb(t.assigned_,r)?a.concat(r):void 0,c=sg(e,i,l);if(O5(n,r,c),Bu(c))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(vc(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&o)return;sg(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(mm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&og(e,i)}}}function og(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ck(t,n)}function qW(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:I5(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=uk;n&&(i=[r],a=$f);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var uk={get(e,t){if(t===Ca)return e;const n=Bl(e);if(!wb(n,t))return KW(e,n,t);const r=n[t];return e.finalized_||!vc(r)?r:r===ux(e.base_,t)?(dx(e),e.copy_[t]=jb(r,e)):r},has(e,t){return t in Bl(e)},ownKeys(e){return Reflect.ownKeys(Bl(e))},set(e,t,n){const r=_5(Bl(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=ux(Bl(e),t),a=i==null?void 0:i[Ca];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(zW(n,i)&&(n!==void 0||wb(e.base_,t)))return!0;dx(e),Cb(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ux(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,dx(e),Cb(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Bl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){ls(11)},getPrototypeOf(e){return _f(e.base_)},setPrototypeOf(){ls(12)}},$f={};ag(uk,(e,t)=>{$f[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});$f.deleteProperty=function(e,t){return $f.set.call(this,e,t,void 0)};$f.set=function(e,t,n){return uk.set.call(this,e[0],t,n,e[0])};function ux(e,t){const n=e[Ca];return(n?Bl(n):e)[t]}function KW(e,t,n){var i;const r=_5(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function _5(e,t){if(!(t in e))return;let n=_f(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=_f(n)}}function Cb(e){e.modified_||(e.modified_=!0,e.parent_&&Cb(e.parent_))}function dx(e){e.copy_||(e.copy_=kb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var GW=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const s=this;return function(l=a,...c){return s.produce(l,d=>n.call(this,d,...c))}}typeof n!="function"&&ls(6),r!==void 0&&typeof r!="function"&&ls(7);let i;if(vc(t)){const a=tj(this),s=jb(t,void 0);let o=!0;try{i=n(s),o=!1}finally{o?Sb(a):Nb(a)}return ej(a,r),nj(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===D5&&(i=void 0),this.autoFreeze_&&ck(i,!0),r){const a=[],s=[];xc("Patches").generateReplacementPatches_(t,i,a,s),r(a,s)}return i}else ls(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let r,i;return[this.produce(t,n,(s,o)=>{r=s,i=o}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){vc(e)||ls(8),Bu(e)&&(e=YW(e));const t=tj(this),n=jb(e,void 0);return n[Ca].isManual_=!0,Nb(t),n}finishDraft(e,t){const n=e&&e[Ca];(!n||!n.isManual_)&&ls(9);const{scope_:r}=n;return ej(r,t),nj(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=xc("Patches").applyPatches_;return Bu(e)?r(e,t):this.produce(e,i=>r(i,t))}};function jb(e,t){const n=mm(e)?xc("MapSet").proxyMap_(e,t):z0(e)?xc("MapSet").proxySet_(e,t):qW(e,t);return(t?t.scope_:I5()).drafts_.push(n),n}function YW(e){return Bu(e)||ls(10,e),L5(e)}function L5(e){if(!vc(e)||U0(e))return e;const t=e[Ca];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=kb(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=kb(e,!0);return ag(n,(i,a)=>{O5(n,i,L5(a))},r),t&&(t.finalized_=!1),n}var XW=new GW;XW.produce;var QW={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},$5=sa({name:"legend",initialState:QW,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:lr()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=fs(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:lr()},removeLegendPayload:{reducer(e,t){var n=fs(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:lr()}}}),{setLegendSize:ij,setLegendSettings:ZW,addLegendPayload:F5,replaceLegendPayload:R5,removeLegendPayload:B5}=$5.actions,JW=$5.reducer,eH=["contextPayload"];function Ab(){return Ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ab.apply(null,arguments)}function aj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aj(Object(n),!0).forEach(function(r){tH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tH(e,t,n){return(t=nH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nH(e){var t=rH(e,"string");return typeof t=="symbol"?t:t+""}function rH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iH(e,t){if(e==null)return{};var n,r,i=aH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function aH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function sH(e){return e.value}function oH(e){var{contextPayload:t}=e,n=iH(e,eH),r=PI(t,e.payloadUniqBy,sH),i=zu(zu({},n),{},{payload:r});return x.isValidElement(e.content)?x.cloneElement(e.content,i):typeof e.content=="function"?x.createElement(e.content,i):x.createElement(hV,i)}function lH(e,t,n,r,i,a){var{layout:s,align:o,verticalAlign:l}=t,c,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?c={left:((r||0)-a.width)/2}:c=o==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?d={top:((i||0)-a.height)/2}:d=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),zu(zu({},c),d)}function cH(e){var t=Xn();return x.useEffect(()=>{t(ZW(e))},[t,e]),null}function uH(e){var t=Xn();return x.useEffect(()=>(t(ij(e)),()=>{t(ij({width:0,height:0}))}),[t,e]),null}function dH(e,t,n,r){return e==="vertical"&&Pt(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var fH={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function z5(e){var t=Hr(e,fH),n=ZV(),r=l8(),i=FW(),{width:a,height:s,wrapperStyle:o,portal:l}=t,[c,d]=BI([n]),f=ok(),h=lk();if(f==null||h==null)return null;var m=f-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),p=dH(t.layout,s,a,m),g=l?o:zu(zu({position:"absolute",width:(p==null?void 0:p.width)||a||"auto",height:(p==null?void 0:p.height)||s||"auto"},lH(o,t,i,f,h,c)),o),y=l??r;if(y==null||n==null)return null;var v=x.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:d},x.createElement(cH,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&x.createElement(uH,{width:c.width,height:c.height}),x.createElement(oH,Ab({},t,p,{margin:i,chartWidth:f,chartHeight:h,contextPayload:n})));return Ju.createPortal(v,y)}z5.displayName="Legend";function Pb(){return Pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pb.apply(null,arguments)}function sj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sj(Object(n),!0).forEach(function(r){mH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mH(e,t,n){return(t=hH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hH(e){var t=pH(e,"string");return typeof t=="symbol"?t:t+""}function pH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gH(e){return Array.isArray(e)&&Rs(e[0])&&Rs(e[1])?e.join(" ~ "):e}var vH=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:c,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(a&&a.length){var C={padding:0,margin:0},N=(o?S0(a,o):a).map((A,E)=>{if(A.type==="none")return null;var $=A.formatter||s||gH,{value:T,name:M}=A,O=T,Y=M;if($){var Q=$(T,M,A,E,a);if(Array.isArray(Q))[O,Y]=Q;else if(Q!=null)O=Q;else return null}var re=fx({display:"block",paddingTop:4,paddingBottom:4,color:A.color||"#000"},r);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:re},Rs(Y)?x.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,Rs(Y)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},O),x.createElement("span",{className:"recharts-tooltip-item-unit"},A.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:C},N)}return null},p=fx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),g=fx({margin:0},i),y=!Wr(d),v=y?d:"",b=Tn("recharts-default-tooltip",l),w=Tn("recharts-tooltip-label",c);y&&f&&a!==void 0&&a!==null&&(v=f(d,a));var S=h?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",Pb({className:b,style:p},S),x.createElement("p",{className:w,style:g},x.isValidElement(v)?v:"".concat(v)),m())},Nd="recharts-tooltip-wrapper",xH={visibility:"hidden"};function yH(e){var{coordinate:t,translateX:n,translateY:r}=e;return Tn(Nd,{["".concat(Nd,"-right")]:Pt(n)&&t&&Pt(t.x)&&n>=t.x,["".concat(Nd,"-left")]:Pt(n)&&t&&Pt(t.x)&&n<t.x,["".concat(Nd,"-bottom")]:Pt(r)&&t&&Pt(t.y)&&r>=t.y,["".concat(Nd,"-top")]:Pt(r)&&t&&Pt(t.y)&&r<t.y})}function oj(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(a&&Pt(a[r]))return a[r];var d=n[r]-o-(i>0?i:0),f=n[r]+i;if(t[r])return s[r]?d:f;var h=l[r];if(h==null)return 0;if(s[r]){var m=d,p=h;return m<p?Math.max(f,h):Math.max(d,h)}if(c==null)return 0;var g=f+o,y=h+c;return g>y?Math.max(d,h):Math.max(f,h)}function bH(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function wH(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:l}=e,c,d,f;return s.height>0&&s.width>0&&n?(d=oj({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=oj({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=bH({translateX:d,translateY:f,useTranslate3d:o})):c=xH,{cssProperties:c,cssClasses:yH({translateX:d,translateY:f,coordinate:n})}}function lj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lj(Object(n),!0).forEach(function(r){Tb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tb(e,t,n){return(t=kH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kH(e){var t=SH(e,"string");return typeof t=="symbol"?t:t+""}function SH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class NH extends x.PureComponent{constructor(){super(...arguments),Tb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Tb(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:c,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:g,innerRef:y,hasPortalFromProps:v}=this.props,{cssClasses:b,cssProperties:w}=wH({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:c,position:d,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:m}),S=v?{}:jh(jh({transition:l&&t?"transform ".concat(r,"ms ").concat(i):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),C=jh(jh({},S),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},p);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:C,ref:y},a)}}var U5=()=>{var e;return(e=jt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Eb(){return Eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Eb.apply(null,arguments)}function cj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cj(Object(n),!0).forEach(function(r){CH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CH(e,t,n){return(t=jH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jH(e){var t=AH(e,"string");return typeof t=="symbol"?t:t+""}function AH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dj={curveBasisClosed:A8,curveBasisOpen:P8,curveBasis:j8,curveBumpX:f8,curveBumpY:m8,curveLinearClosed:T8,curveLinear:p0,curveMonotoneX:E8,curveMonotoneY:D8,curveNatural:M8,curveStep:O8,curveStepAfter:_8,curveStepBefore:I8},lg=e=>Rr(e.x)&&Rr(e.y),fj=e=>e.base!=null&&lg(e.base)&&lg(e),Cd=e=>e.x,jd=e=>e.y,PH=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(om(e));return(n==="curveMonotone"||n==="curveBump")&&t?dj["".concat(n).concat(t==="vertical"?"Y":"X")]:dj[n]||p0},TH=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,s=PH(t,i),o=a?n.filter(lg):n,l;if(Array.isArray(r)){var c=n.map((m,p)=>uj(uj({},m),{},{base:r[p]}));i==="vertical"?l=xh().y(jd).x1(Cd).x0(m=>m.base.x):l=xh().x(Cd).y1(jd).y0(m=>m.base.y);var d=l.defined(fj).curve(s),f=a?c.filter(fj):c;return d(f)}i==="vertical"&&Pt(r)?l=xh().y(jd).x1(Cd).x0(r):Pt(r)?l=xh().x(Cd).y1(jd).y0(r):l=KO().x(Cd).y(jd);var h=l.defined(lg).curve(s);return h(o)},dk=e=>{var{className:t,points:n,path:r,pathRef:i}=e,a=fm();if((!n||!n.length)&&!r)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},o=n&&n.length?TH(s):r;return x.createElement("path",Eb({},Ka(e),z1(e),{className:Tn("recharts-curve",t),d:o===null?void 0:o,ref:i}))},EH=["x","y","top","left","width","height","className"];function Db(){return Db=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Db.apply(null,arguments)}function mj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mj(Object(n),!0).forEach(function(r){MH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MH(e,t,n){return(t=OH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OH(e){var t=IH(e,"string");return typeof t=="symbol"?t:t+""}function IH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _H(e,t){if(e==null)return{};var n,r,i=LH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function LH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $H=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),FH=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:o}=e,l=_H(e,EH),c=DH({x:t,y:n,top:r,left:i,width:a,height:s},l);return!Pt(t)||!Pt(n)||!Pt(a)||!Pt(s)||!Pt(r)||!Pt(i)?null:x.createElement("path",Db({},zi(c),{className:Tn("recharts-cross",o),d:$H(t,n,a,s,r,i)}))};function RH(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function hj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hj(Object(n),!0).forEach(function(r){BH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BH(e,t,n){return(t=zH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zH(e){var t=UH(e,"string");return typeof t=="symbol"?t:t+""}function UH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VH=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),V5=(e,t,n)=>e.map(r=>"".concat(VH(r)," ").concat(t,"ms ").concat(n)).join(","),WH=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Ff=(e,t)=>Object.keys(t).reduce((n,r)=>pj(pj({},n),{},{[r]:e(r,t[r])}),{});function gj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ur(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gj(Object(n),!0).forEach(function(r){HH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HH(e,t,n){return(t=qH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qH(e){var t=KH(e,"string");return typeof t=="symbol"?t:t+""}function KH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cg=(e,t,n)=>e+(t-e)*n,Mb=e=>{var{from:t,to:n}=e;return t!==n},W5=(e,t,n)=>{var r=Ff((i,a)=>{if(Mb(a)){var[s,o]=e(a.from,a.to,a.velocity);return Ur(Ur({},a),{},{from:s,velocity:o})}return a},t);return n<1?Ff((i,a)=>Mb(a)&&r[i]!=null?Ur(Ur({},a),{},{velocity:cg(a.velocity,r[i].velocity,n),from:cg(a.from,r[i].from,n)}):a,t):W5(e,r,n-1)};function GH(e,t,n,r,i,a){var s,o=r.reduce((h,m)=>Ur(Ur({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>Ff((h,m)=>m.from,o),c=()=>!Object.values(o).filter(Mb).length,d=null,f=h=>{s||(s=h);var m=h-s,p=m/n.dt;o=W5(n,o,p),i(Ur(Ur(Ur({},e),t),l())),s=h,c()||(d=a.setTimeout(f))};return()=>(d=a.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function YH(e,t,n,r,i,a,s){var o=null,l=i.reduce((f,h)=>{var m=e[h],p=t[h];return m==null||p==null?f:Ur(Ur({},f),{},{[h]:[m,p]})},{}),c,d=f=>{c||(c=f);var h=(f-c)/r,m=Ff((g,y)=>cg(...y,n(h)),l);if(a(Ur(Ur(Ur({},e),t),m)),h<1)o=s.setTimeout(d);else{var p=Ff((g,y)=>cg(...y,n(1)),l);a(Ur(Ur(Ur({},e),t),p))}};return()=>(o=s.setTimeout(d),()=>{var f;(f=o)===null||f===void 0||f()})}const XH=(e,t,n,r,i,a)=>{var s=WH(e,t);return n==null?()=>(i(Ur(Ur({},e),t)),()=>{}):n.isStepper===!0?GH(e,t,n,s,i,a):YH(e,t,n,r,s,i,a)};var ug=1e-4,H5=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],q5=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),vj=(e,t)=>n=>{var r=H5(e,t);return q5(r,n)},QH=(e,t)=>n=>{var r=H5(e,t),i=[...r.map((a,s)=>a*s).slice(1),0];return q5(i,n)},ZH=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},JH=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=ZH(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},e7=(e,t,n,r)=>{var i=vj(e,n),a=vj(t,r),s=QH(e,n),o=c=>c>1?1:c<0?0:c,l=c=>{for(var d=c>1?1:c,f=d,h=0;h<8;++h){var m=i(f)-d,p=s(f);if(Math.abs(m-d)<ug||p<ug)return a(f);f=o(f-m/p)}return a(f)};return l.isStepper=!1,l},xj=function(){return e7(...JH(...arguments))},t7=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(s,o,l)=>{var c=-(s-o)*n,d=l*r,f=l+(c-d)*i/1e3,h=l*i/1e3+s;return Math.abs(h-o)<ug&&Math.abs(f)<ug?[o,0]:[h,f]};return a.isStepper=!0,a.dt=i,a},n7=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return xj(e);case"spring":return t7();default:if(e.split("(")[0]==="cubic-bezier")return xj(e)}return typeof e=="function"?e:null};function r7(e){var t,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...c]=o;if(typeof l=="number"){i=e.setTimeout(a.bind(null,c),l);return}a(l),i=e.setTimeout(a.bind(null,c));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class i7{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function a7(){return r7(new i7)}var s7=x.createContext(a7);function o7(e,t){var n=x.useContext(s7);return x.useMemo(()=>t??n(e),[e,t,n])}var l7=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),V0={isSsr:l7()},c7={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},yj={t:0},mx={t:1};function W0(e){var t=Hr(e,c7),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:c}=t,d=n==="auto"?!V0.isSsr:n,f=o7(t.animationId,t.animationManager),[h,m]=x.useState(d?yj:mx),p=x.useRef(null);return x.useEffect(()=>{d||m(mx)},[d]),x.useEffect(()=>{if(!d||!r)return lm;var g=XH(yj,mx,n7(a),i,m,f.getTimeoutController()),y=()=>{p.current=g()};return f.start([l,s,y,i,o]),()=>{f.stop(),p.current&&p.current(),o()}},[d,r,i,a,s,l,o,f]),c(h.t)}function H0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=x.useRef(Df(t)),r=x.useRef(e);return r.current!==e&&(n.current=Df(t),r.current=e),n.current}var u7=["radius"],d7=["radius"],bj,wj,kj,Sj,Nj,Cj,jj,Aj,Pj,Tj;function Ej(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ej(Object(n),!0).forEach(function(r){f7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ej(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function f7(e,t,n){return(t=m7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m7(e){var t=h7(e,"string");return typeof t=="symbol"?t:t+""}function h7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dg(){return dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dg.apply(null,arguments)}function Mj(e,t){if(e==null)return{};var n,r,i=p7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function p7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function js(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Oj=(e,t,n,r,i)=>{var a=Xo(n),s=Xo(r),o=Math.min(Math.abs(a)/2,Math.abs(s)/2),l=s>=0?1:-1,c=a>=0?1:-1,d=s>=0&&a>=0||s<0&&a<0?1:0,f;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,p=4;m<p;m++)h[m]=i[m]>o?o:i[m];f=Nr(bj||(bj=js(["M",",",""])),e,t+l*h[0]),h[0]>0&&(f+=Nr(wj||(wj=js(["A ",",",",0,0,",",",",",""])),h[0],h[0],d,e+c*h[0],t)),f+=Nr(kj||(kj=js(["L ",",",""])),e+n-c*h[1],t),h[1]>0&&(f+=Nr(Sj||(Sj=js(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],d,e+n,t+l*h[1])),f+=Nr(Nj||(Nj=js(["L ",",",""])),e+n,t+r-l*h[2]),h[2]>0&&(f+=Nr(Cj||(Cj=js(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],d,e+n-c*h[2],t+r)),f+=Nr(jj||(jj=js(["L ",",",""])),e+c*h[3],t+r),h[3]>0&&(f+=Nr(Aj||(Aj=js(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],d,e,t+r-l*h[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);f=Nr(Pj||(Pj=js(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*g,g,g,d,e+c*g,t,e+n-c*g,t,g,g,d,e+n,t+l*g,e+n,t+r-l*g,g,g,d,e+n-c*g,t+r,e+c*g,t+r,g,g,d,e,t+r-l*g)}else f=Nr(Tj||(Tj=js(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return f},Ij={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},K5=e=>{var t=Hr(e,Ij),n=x.useRef(null),[r,i]=x.useState(-1);x.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var K=n.current.getTotalLength();K&&i(K)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:c,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:g}=t,y=x.useRef(o),v=x.useRef(l),b=x.useRef(a),w=x.useRef(s),S=x.useMemo(()=>({x:a,y:s,width:o,height:l,radius:c}),[a,s,o,l,c]),C=H0(S,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var N=Tn("recharts-rectangle",d);if(!g){var A=zi(t),{radius:E}=A,$=Mj(A,u7);return x.createElement("path",dg({},$,{x:Xo(a),y:Xo(s),width:Xo(o),height:Xo(l),radius:typeof c=="number"?c:void 0,className:N,d:Oj(a,s,o,l,c)}))}var T=y.current,M=v.current,O=b.current,Y=w.current,Q="0px ".concat(r===-1?1:r,"px"),re="".concat(r,"px 0px"),ce=V5(["strokeDasharray"],h,typeof f=="string"?f:Ij.animationEasing);return x.createElement(W0,{animationId:C,key:C,canBegin:r>0,duration:h,easing:f,isActive:g,begin:m},K=>{var G=Ai(T,o,K),L=Ai(M,l,K),P=Ai(O,a,K),j=Ai(Y,s,K);n.current&&(y.current=G,v.current=L,b.current=P,w.current=j);var U;p?K>0?U={transition:ce,strokeDasharray:re}:U={strokeDasharray:Q}:U={strokeDasharray:re};var k=zi(t),{radius:_}=k,ae=Mj(k,d7);return x.createElement("path",dg({},ae,{radius:typeof c=="number"?c:void 0,className:N,d:Oj(P,j,G,L,c),ref:n,style:Dj(Dj({},U),t.style)}))})};function _j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_j(Object(n),!0).forEach(function(r){g7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_j(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function g7(e,t,n){return(t=v7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v7(e){var t=x7(e,"string");return typeof t=="symbol"?t:t+""}function x7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fg=Math.PI/180,y7=e=>e*180/Math.PI,$r=(e,t,n,r)=>({x:e+Math.cos(-fg*r)*n,y:t+Math.sin(-fg*r)*n}),G5=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},b7=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},w7=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,s=b7({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-i)/s,l=Math.acos(o);return r>a&&(l=2*Math.PI-l),{radius:s,angle:y7(l),angleInRadian:l}},k7=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},S7=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return e+s*360},N7=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=w7({x:n,y:r},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:c}=k7(t),d=a,f;if(l<=c){for(;d>c;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=c}else{for(;d>l;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=l}return f?Lj(Lj({},t),{},{radius:i,angle:S7(d,t)}):null};function Y5(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,s=$r(t,n,r,i),o=$r(t,n,r,a);return{points:[s,o],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}var $j,Fj,Rj,Bj,zj,Uj,Vj;function Ob(){return Ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ob.apply(null,arguments)}function Yl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var C7=(e,t)=>{var n=Pi(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Ah=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,c=o*(s?1:-1)+r,d=Math.asin(o/c)/fg,f=l?i:i+a*d,h=$r(t,n,c,f),m=$r(t,n,r,f),p=l?i-a*d:i,g=$r(t,n,c*Math.cos(d*fg),p);return{center:h,circleTangency:m,lineTangency:g,theta:d}},X5=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=e,o=C7(a,s),l=a+o,c=$r(t,n,i,a),d=$r(t,n,i,l),f=Nr($j||($j=Yl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),c.x,c.y,i,i,+(Math.abs(o)>180),+(a>l),d.x,d.y);if(r>0){var h=$r(t,n,r,a),m=$r(t,n,r,l);f+=Nr(Fj||(Fj=Yl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,r,r,+(Math.abs(o)>180),+(a<=l),h.x,h.y)}else f+=Nr(Rj||(Rj=Yl(["L ",","," Z"])),t,n);return f},j7=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:c}=e,d=Pi(c-l),{circleTangency:f,lineTangency:h,theta:m}=Ah({cx:t,cy:n,radius:i,angle:l,sign:d,cornerRadius:a,cornerIsExternal:o}),{circleTangency:p,lineTangency:g,theta:y}=Ah({cx:t,cy:n,radius:i,angle:c,sign:-d,cornerRadius:a,cornerIsExternal:o}),v=o?Math.abs(l-c):Math.abs(l-c)-m-y;if(v<0)return s?Nr(Bj||(Bj=Yl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,a,a,a*2,a,a,-a*2):X5({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var b=Nr(zj||(zj=Yl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,a,a,+(d<0),f.x,f.y,i,i,+(v>180),+(d<0),p.x,p.y,a,a,+(d<0),g.x,g.y);if(r>0){var{circleTangency:w,lineTangency:S,theta:C}=Ah({cx:t,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:N,lineTangency:A,theta:E}=Ah({cx:t,cy:n,radius:r,angle:c,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),$=o?Math.abs(l-c):Math.abs(l-c)-C-E;if($<0&&a===0)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+=Nr(Uj||(Uj=Yl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),A.x,A.y,a,a,+(d<0),N.x,N.y,r,r,+($>180),+(d>0),w.x,w.y,a,a,+(d<0),S.x,S.y)}else b+=Nr(Vj||(Vj=Yl(["L",",","Z"])),t,n);return b},A7={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Q5=e=>{var t=Hr(e,A7),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d,className:f}=t;if(a<i||c===d)return null;var h=Tn("recharts-sector",f),m=a-i,p=wa(s,m,0,!0),g;return p>0&&Math.abs(c-d)<360?g=j7({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(p,m/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d}):g=X5({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:d}),x.createElement("path",Ob({},zi(t),{className:h,d:g}))};function P7(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(cI(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,l=$r(r,i,a,o),c=$r(r,i,s,o);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return Y5(t)}}var Z5={},J5={},e_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Z1;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(e_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=e_;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(J5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J1,n=J5;function r(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let c=0;c<o;c++)l[c]=i,i+=s;return l}e.range=r})(Z5);var T7=Z5.range;const t_=bs(T7);function sl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function E7(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function fk(e){let t,n,r;e.length!==2?(t=sl,n=(o,l)=>sl(e(o),l),r=(o,l)=>e(o)-l):(t=e===sl||e===E7?e:D7,n=e,r=e);function i(o,l,c=0,d=o.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(o[f],l)<0?c=f+1:d=f}while(c<d)}return c}function a(o,l,c=0,d=o.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(o[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function s(o,l,c=0,d=o.length){const f=i(o,l,c,d-1);return f>c&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function D7(){return 0}function n_(e){return e===null?NaN:+e}function*M7(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const O7=fk(sl),hm=O7.right;fk(n_).center;class Wj extends Map{constructor(t,n=L7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Hj(this,t))}has(t){return super.has(Hj(this,t))}set(t,n){return super.set(I7(this,t),n)}delete(t){return super.delete(_7(this,t))}}function Hj({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function I7({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function _7({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function L7(e){return e!==null&&typeof e=="object"?e.valueOf():e}function $7(e=sl){if(e===sl)return r_;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function r_(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const F7=Math.sqrt(50),R7=Math.sqrt(10),B7=Math.sqrt(2);function mg(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=F7?10:a>=R7?5:a>=B7?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=n&&n<2?mg(e,t,n*2):[o,l,c]}function Ib(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?mg(t,e,n):mg(e,t,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function _b(e,t,n){return t=+t,e=+e,n=+n,mg(e,t,n)[2]}function Lb(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?_b(t,e,n):_b(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function qj(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Kj(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function i_(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?r_:$7(i);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),m=Math.max(n,Math.floor(t-c*f/l+h)),p=Math.min(r,Math.floor(t+(l-c)*f/l+h));i_(e,t,m,p,i)}const a=e[t];let s=n,o=r;for(Ad(e,n,t),i(e[r],a)>0&&Ad(e,n,r);s<o;){for(Ad(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[n],a)===0?Ad(e,n,o):(++o,Ad(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function Ad(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function z7(e,t,n){if(e=Float64Array.from(M7(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Kj(e);if(t>=1)return qj(e);var r,i=(r-1)*t,a=Math.floor(i),s=qj(i_(e,a).subarray(0,a+1)),o=Kj(e.subarray(a+1));return s+(o-s)*(i-a)}}function U7(e,t,n=n_){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),o=+n(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function V7(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Xa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function No(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const $b=Symbol("implicit");function mk(){var e=new Wj,t=[],n=[],r=$b;function i(a){let s=e.get(a);if(s===void 0){if(r!==$b)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Wj;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return mk(t,n).unknown(r)},Xa.apply(i,arguments),i}function hk(){var e=mk().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,o=!1,l=0,c=0,d=.5;delete e.unknown;function f(){var h=t().length,m=i<r,p=m?i:r,g=m?r:i;a=(g-p)/Math.max(1,h-l+c*2),o&&(a=Math.floor(a)),p+=(g-p-a*(h-l))*d,s=a*(1-l),o&&(p=Math.round(p),s=Math.round(s));var y=V7(h).map(function(v){return p+a*v});return n(m?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return hk(t(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(d)},Xa.apply(f(),arguments)}function a_(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return a_(t())},e}function W7(){return a_(hk.apply(null,arguments).paddingInner(1))}function pk(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function s_(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function pm(){}var Rf=.7,hg=1/Rf,ju="\\s*([+-]?\\d+)\\s*",Bf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ls="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",H7=/^#([0-9a-f]{3,8})$/,q7=new RegExp(`^rgb\\(${ju},${ju},${ju}\\)$`),K7=new RegExp(`^rgb\\(${Ls},${Ls},${Ls}\\)$`),G7=new RegExp(`^rgba\\(${ju},${ju},${ju},${Bf}\\)$`),Y7=new RegExp(`^rgba\\(${Ls},${Ls},${Ls},${Bf}\\)$`),X7=new RegExp(`^hsl\\(${Bf},${Ls},${Ls}\\)$`),Q7=new RegExp(`^hsla\\(${Bf},${Ls},${Ls},${Bf}\\)$`),Gj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};pk(pm,zf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Yj,formatHex:Yj,formatHex8:Z7,formatHsl:J7,formatRgb:Xj,toString:Xj});function Yj(){return this.rgb().formatHex()}function Z7(){return this.rgb().formatHex8()}function J7(){return o_(this).formatHsl()}function Xj(){return this.rgb().formatRgb()}function zf(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=H7.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Qj(t):n===3?new Zi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ph(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ph(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=q7.exec(e))?new Zi(t[1],t[2],t[3],1):(t=K7.exec(e))?new Zi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=G7.exec(e))?Ph(t[1],t[2],t[3],t[4]):(t=Y7.exec(e))?Ph(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=X7.exec(e))?eA(t[1],t[2]/100,t[3]/100,1):(t=Q7.exec(e))?eA(t[1],t[2]/100,t[3]/100,t[4]):Gj.hasOwnProperty(e)?Qj(Gj[e]):e==="transparent"?new Zi(NaN,NaN,NaN,0):null}function Qj(e){return new Zi(e>>16&255,e>>8&255,e&255,1)}function Ph(e,t,n,r){return r<=0&&(e=t=n=NaN),new Zi(e,t,n,r)}function eq(e){return e instanceof pm||(e=zf(e)),e?(e=e.rgb(),new Zi(e.r,e.g,e.b,e.opacity)):new Zi}function Fb(e,t,n,r){return arguments.length===1?eq(e):new Zi(e,t,n,r??1)}function Zi(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}pk(Zi,Fb,s_(pm,{brighter(e){return e=e==null?hg:Math.pow(hg,e),new Zi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Rf:Math.pow(Rf,e),new Zi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Zi(ac(this.r),ac(this.g),ac(this.b),pg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Zj,formatHex:Zj,formatHex8:tq,formatRgb:Jj,toString:Jj}));function Zj(){return`#${Xl(this.r)}${Xl(this.g)}${Xl(this.b)}`}function tq(){return`#${Xl(this.r)}${Xl(this.g)}${Xl(this.b)}${Xl((isNaN(this.opacity)?1:this.opacity)*255)}`}function Jj(){const e=pg(this.opacity);return`${e===1?"rgb(":"rgba("}${ac(this.r)}, ${ac(this.g)}, ${ac(this.b)}${e===1?")":`, ${e})`}`}function pg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ac(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Xl(e){return e=ac(e),(e<16?"0":"")+e.toString(16)}function eA(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new cs(e,t,n,r)}function o_(e){if(e instanceof cs)return new cs(e.h,e.s,e.l,e.opacity);if(e instanceof pm||(e=zf(e)),!e)return new cs;if(e instanceof cs)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-t)/o+2:s=(t-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new cs(s,o,l,e.opacity)}function nq(e,t,n,r){return arguments.length===1?o_(e):new cs(e,t,n,r??1)}function cs(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}pk(cs,nq,s_(pm,{brighter(e){return e=e==null?hg:Math.pow(hg,e),new cs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Rf:Math.pow(Rf,e),new cs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Zi(hx(e>=240?e-240:e+120,i,r),hx(e,i,r),hx(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new cs(tA(this.h),Th(this.s),Th(this.l),pg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=pg(this.opacity);return`${e===1?"hsl(":"hsla("}${tA(this.h)}, ${Th(this.s)*100}%, ${Th(this.l)*100}%${e===1?")":`, ${e})`}`}}));function tA(e){return e=(e||0)%360,e<0?e+360:e}function Th(e){return Math.max(0,Math.min(1,e||0))}function hx(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const gk=e=>()=>e;function rq(e,t){return function(n){return e+n*t}}function iq(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function aq(e){return(e=+e)==1?l_:function(t,n){return n-t?iq(t,n,e):gk(isNaN(t)?n:t)}}function l_(e,t){var n=t-e;return n?rq(e,n):gk(isNaN(e)?t:e)}const nA=function e(t){var n=aq(t);function r(i,a){var s=n((i=Fb(i)).r,(a=Fb(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),c=l_(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=e,r}(1);function sq(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function oq(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function lq(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=ed(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function cq(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function gg(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function uq(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=ed(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Rb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,px=new RegExp(Rb.source,"g");function dq(e){return function(){return e}}function fq(e){return function(t){return e(t)+""}}function mq(e,t){var n=Rb.lastIndex=px.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(r=Rb.exec(e))&&(i=px.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:gg(r,i)})),n=px.lastIndex;return n<t.length&&(a=t.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?fq(l[0].x):dq(t):(t=l.length,function(c){for(var d=0,f;d<t;++d)o[(f=l[d]).i]=f.x(c);return o.join("")})}function ed(e,t){var n=typeof t,r;return t==null||n==="boolean"?gk(t):(n==="number"?gg:n==="string"?(r=zf(t))?(t=r,nA):mq:t instanceof zf?nA:t instanceof Date?cq:oq(t)?sq:Array.isArray(t)?lq:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?uq:gg)(e,t)}function vk(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function hq(e,t){t===void 0&&(t=e,e=ed);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function pq(e){return function(){return e}}function vg(e){return+e}var rA=[0,1];function Ri(e){return e}function Bb(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:pq(isNaN(t)?NaN:.5)}function gq(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function vq(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=Bb(i,r),a=n(s,a)):(r=Bb(r,i),a=n(a,s)),function(o){return a(r(o))}}function xq(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=Bb(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(o){var l=hm(e,o,1,r)-1;return a[l](i[l](o))}}function gm(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function q0(){var e=rA,t=rA,n=ed,r,i,a,s=Ri,o,l,c;function d(){var h=Math.min(e.length,t.length);return s!==Ri&&(s=gq(e[0],e[h-1])),o=h>2?xq:vq,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=o(e.map(r),t,n)))(r(s(h)))}return f.invert=function(h){return s(i((c||(c=o(t,e.map(r),gg)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,vg),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=vk,d()},f.clamp=function(h){return arguments.length?(s=h?!0:Ri,d()):s!==Ri},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return r=h,i=m,d()}}function xk(){return q0()(Ri,Ri)}function yq(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function xg(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Uu(e){return e=xg(Math.abs(e)),e?e[1]:NaN}function bq(e,t){return function(n,r){for(var i=n.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function wq(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var kq=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Uf(e){if(!(t=kq.exec(e)))throw new Error("invalid format: "+e);var t;return new yk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Uf.prototype=yk.prototype;function yk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}yk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Sq(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var yg;function Nq(e,t){var n=xg(e,t);if(!n)return yg=void 0,e.toPrecision(t);var r=n[0],i=n[1],a=i-(yg=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+xg(e,Math.max(0,t+a-1))[0]}function iA(e,t){var n=xg(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const aA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:yq,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>iA(e*100,t),r:iA,s:Nq,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function sA(e){return e}var oA=Array.prototype.map,lA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Cq(e){var t=e.grouping===void 0||e.thousands===void 0?sA:bq(oA.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?sA:wq(oA.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f,h){f=Uf(f);var m=f.fill,p=f.align,g=f.sign,y=f.symbol,v=f.zero,b=f.width,w=f.comma,S=f.precision,C=f.trim,N=f.type;N==="n"?(w=!0,N="g"):aA[N]||(S===void 0&&(S=12),C=!0,N="g"),(v||m==="0"&&p==="=")&&(v=!0,m="0",p="=");var A=(h&&h.prefix!==void 0?h.prefix:"")+(y==="$"?n:y==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():""),E=(y==="$"?r:/[%p]/.test(N)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),$=aA[N],T=/[defgprs%]/.test(N);S=S===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function M(O){var Y=A,Q=E,re,ce,K;if(N==="c")Q=$(O)+Q,O="";else{O=+O;var G=O<0||1/O<0;if(O=isNaN(O)?l:$(Math.abs(O),S),C&&(O=Sq(O)),G&&+O==0&&g!=="+"&&(G=!1),Y=(G?g==="("?g:o:g==="-"||g==="("?"":g)+Y,Q=(N==="s"&&!isNaN(O)&&yg!==void 0?lA[8+yg/3]:"")+Q+(G&&g==="("?")":""),T){for(re=-1,ce=O.length;++re<ce;)if(K=O.charCodeAt(re),48>K||K>57){Q=(K===46?i+O.slice(re+1):O.slice(re))+Q,O=O.slice(0,re);break}}}w&&!v&&(O=t(O,1/0));var L=Y.length+O.length+Q.length,P=L<b?new Array(b-L+1).join(m):"";switch(w&&v&&(O=t(P+O,P.length?b-Q.length:1/0),P=""),p){case"<":O=Y+O+Q+P;break;case"=":O=Y+P+O+Q;break;case"^":O=P.slice(0,L=P.length>>1)+Y+O+Q+P.slice(L);break;default:O=P+Y+O+Q;break}return a(O)}return M.toString=function(){return f+""},M}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(Uu(h)/3)))*3,p=Math.pow(10,-m),g=c((f=Uf(f),f.type="f",f),{suffix:lA[8+m/3]});return function(y){return g(p*y)}}return{format:c,formatPrefix:d}}var Eh,bk,c_;jq({thousands:",",grouping:[3],currency:["$",""]});function jq(e){return Eh=Cq(e),bk=Eh.format,c_=Eh.formatPrefix,Eh}function Aq(e){return Math.max(0,-Uu(Math.abs(e)))}function Pq(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Uu(t)/3)))*3-Uu(Math.abs(e)))}function Tq(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Uu(t)-Uu(e))+1}function u_(e,t,n,r){var i=Lb(e,t,n),a;switch(r=Uf(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=Pq(i,s))&&(r.precision=a),c_(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Tq(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Aq(i))&&(r.precision=a-(r.type==="%")*2);break}}return bk(r)}function xl(e){var t=e.domain;return e.ticks=function(n){var r=t();return Ib(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return u_(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],o=r[a],l,c,d=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);d-- >0;){if(c=_b(s,o,n),c===l)return r[i]=s,r[a]=o,t(r);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function d_(){var e=xk();return e.copy=function(){return gm(e,d_())},Xa.apply(e,arguments),xl(e)}function f_(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,vg),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return f_(e).unknown(t)},e=arguments.length?Array.from(e,vg):[0,1],xl(n)}function m_(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function cA(e){return Math.log(e)}function uA(e){return Math.exp(e)}function Eq(e){return-Math.log(-e)}function Dq(e){return-Math.exp(-e)}function Mq(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Oq(e){return e===10?Mq:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Iq(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function dA(e){return(t,n)=>-e(-t,n)}function wk(e){const t=e(cA,uA),n=t.domain;let r=10,i,a;function s(){return i=Iq(r),a=Oq(r),n()[0]<0?(i=dA(i),a=dA(a),e(Eq,Dq)):e(cA,uA),t}return t.base=function(o){return arguments.length?(r=+o,s()):r},t.domain=function(o){return arguments.length?(n(o),s()):n()},t.ticks=o=>{const l=n();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=i(c),m=i(d),p,g;const y=o==null?10:+o;let v=[];if(!(r%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),c>0){for(;h<=m;++h)for(p=1;p<r;++p)if(g=h<0?p/a(-h):p*a(h),!(g<c)){if(g>d)break;v.push(g)}}else for(;h<=m;++h)for(p=r-1;p>=1;--p)if(g=h>0?p/a(-h):p*a(h),!(g<c)){if(g>d)break;v.push(g)}v.length*2<y&&(v=Ib(c,d,y))}else v=Ib(h,m,Math.min(m-h,y)).map(a);return f?v.reverse():v},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Uf(l)).precision==null&&(l.trim=!0),l=bk(l)),o===1/0)return l;const c=Math.max(1,r*o/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=c?l(d):""}},t.nice=()=>n(m_(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function h_(){const e=wk(q0()).domain([1,10]);return e.copy=()=>gm(e,h_()).base(e.base()),Xa.apply(e,arguments),e}function fA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function mA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function kk(e){var t=1,n=e(fA(t),mA(t));return n.constant=function(r){return arguments.length?e(fA(t=+r),mA(t)):t},xl(n)}function p_(){var e=kk(q0());return e.copy=function(){return gm(e,p_()).constant(e.constant())},Xa.apply(e,arguments)}function hA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function _q(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Lq(e){return e<0?-e*e:e*e}function Sk(e){var t=e(Ri,Ri),n=1;function r(){return n===1?e(Ri,Ri):n===.5?e(_q,Lq):e(hA(n),hA(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},xl(t)}function Nk(){var e=Sk(q0());return e.copy=function(){return gm(e,Nk()).exponent(e.exponent())},Xa.apply(e,arguments),e}function $q(){return Nk.apply(null,arguments).exponent(.5)}function pA(e){return Math.sign(e)*e*e}function Fq(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function g_(){var e=xk(),t=[0,1],n=!1,r;function i(a){var s=Fq(e(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return e.invert(pA(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,vg)).map(pA)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return g_(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Xa.apply(i,arguments),xl(i)}function v_(){var e=[],t=[],n=[],r;function i(){var s=0,o=Math.max(1,t.length);for(n=new Array(o-1);++s<o;)n[s-1]=U7(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:t[hm(n,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(sl),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return v_().domain(e).range(t).unknown(r)},Xa.apply(a,arguments)}function x_(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[hm(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return x_().domain([e,t]).range(i).unknown(a)},Xa.apply(xl(s),arguments)}function y_(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[hm(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return y_().domain(e).range(t).unknown(n)},Xa.apply(i,arguments)}const gx=new Date,vx=new Date;function qr(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),t(a,o),e(a);while(c<a&&a<s);return l},i.filter=a=>qr(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(gx.setTime(+a),vx.setTime(+s),e(gx),e(vx),Math.floor(n(gx,vx))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const bg=qr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);bg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?qr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):bg);bg.range;const to=1e3,Va=to*60,no=Va*60,go=no*24,Ck=go*7,gA=go*30,xx=go*365,Ql=qr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*to)},(e,t)=>(t-e)/to,e=>e.getUTCSeconds());Ql.range;const jk=qr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*to)},(e,t)=>{e.setTime(+e+t*Va)},(e,t)=>(t-e)/Va,e=>e.getMinutes());jk.range;const Ak=qr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Va)},(e,t)=>(t-e)/Va,e=>e.getUTCMinutes());Ak.range;const Pk=qr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*to-e.getMinutes()*Va)},(e,t)=>{e.setTime(+e+t*no)},(e,t)=>(t-e)/no,e=>e.getHours());Pk.range;const Tk=qr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*no)},(e,t)=>(t-e)/no,e=>e.getUTCHours());Tk.range;const vm=qr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Va)/go,e=>e.getDate()-1);vm.range;const K0=qr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/go,e=>e.getUTCDate()-1);K0.range;const b_=qr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/go,e=>Math.floor(e/go));b_.range;function jc(e){return qr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Va)/Ck)}const G0=jc(0),wg=jc(1),Rq=jc(2),Bq=jc(3),Vu=jc(4),zq=jc(5),Uq=jc(6);G0.range;wg.range;Rq.range;Bq.range;Vu.range;zq.range;Uq.range;function Ac(e){return qr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Ck)}const Y0=Ac(0),kg=Ac(1),Vq=Ac(2),Wq=Ac(3),Wu=Ac(4),Hq=Ac(5),qq=Ac(6);Y0.range;kg.range;Vq.range;Wq.range;Wu.range;Hq.range;qq.range;const Ek=qr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Ek.range;const Dk=qr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Dk.range;const vo=qr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());vo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});vo.range;const xo=qr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());xo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});xo.range;function w_(e,t,n,r,i,a){const s=[[Ql,1,to],[Ql,5,5*to],[Ql,15,15*to],[Ql,30,30*to],[a,1,Va],[a,5,5*Va],[a,15,15*Va],[a,30,30*Va],[i,1,no],[i,3,3*no],[i,6,6*no],[i,12,12*no],[r,1,go],[r,2,2*go],[n,1,Ck],[t,1,gA],[t,3,3*gA],[e,1,xx]];function o(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const m=f&&typeof f.range=="function"?f:l(c,d,f),p=m?m.range(c,+d+1):[];return h?p.reverse():p}function l(c,d,f){const h=Math.abs(d-c)/f,m=fk(([,,y])=>y).right(s,h);if(m===s.length)return e.every(Lb(c/xx,d/xx,f));if(m===0)return bg.every(Math.max(Lb(c,d,f),1));const[p,g]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return p.every(g)}return[o,l]}const[Kq,Gq]=w_(xo,Dk,Y0,b_,Tk,Ak),[Yq,Xq]=w_(vo,Ek,G0,vm,Pk,jk);function yx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function bx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Pd(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Qq(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=Td(i),d=Ed(i),f=Td(a),h=Ed(a),m=Td(s),p=Ed(s),g=Td(o),y=Ed(o),v=Td(l),b=Ed(l),w={a:K,A:G,b:L,B:P,c:null,d:kA,e:kA,f:bK,g:EK,G:MK,H:vK,I:xK,j:yK,L:k_,m:wK,M:kK,p:j,q:U,Q:CA,s:jA,S:SK,u:NK,U:CK,V:jK,w:AK,W:PK,x:null,X:null,y:TK,Y:DK,Z:OK,"%":NA},S={a:k,A:_,b:ae,B:ee,c:null,d:SA,e:SA,f:$K,g:KK,G:YK,H:IK,I:_K,j:LK,L:N_,m:FK,M:RK,p:V,q:ne,Q:CA,s:jA,S:BK,u:zK,U:UK,V:VK,w:WK,W:HK,x:null,X:null,y:qK,Y:GK,Z:XK,"%":NA},C={a:T,A:M,b:O,B:Y,c:Q,d:bA,e:bA,f:mK,g:yA,G:xA,H:wA,I:wA,j:cK,L:fK,m:lK,M:uK,p:$,q:oK,Q:pK,s:gK,S:dK,u:nK,U:rK,V:iK,w:tK,W:aK,x:re,X:ce,y:yA,Y:xA,Z:sK,"%":hK};w.x=N(n,w),w.X=N(r,w),w.c=N(t,w),S.x=N(n,S),S.X=N(r,S),S.c=N(t,S);function N(F,J){return function(ue){var ie=[],H=-1,B=0,I=F.length,te,Pe,Ue;for(ue instanceof Date||(ue=new Date(+ue));++H<I;)F.charCodeAt(H)===37&&(ie.push(F.slice(B,H)),(Pe=vA[te=F.charAt(++H)])!=null?te=F.charAt(++H):Pe=te==="e"?" ":"0",(Ue=J[te])&&(te=Ue(ue,Pe)),ie.push(te),B=H+1);return ie.push(F.slice(B,H)),ie.join("")}}function A(F,J){return function(ue){var ie=Pd(1900,void 0,1),H=E(ie,F,ue+="",0),B,I;if(H!=ue.length)return null;if("Q"in ie)return new Date(ie.Q);if("s"in ie)return new Date(ie.s*1e3+("L"in ie?ie.L:0));if(J&&!("Z"in ie)&&(ie.Z=0),"p"in ie&&(ie.H=ie.H%12+ie.p*12),ie.m===void 0&&(ie.m="q"in ie?ie.q:0),"V"in ie){if(ie.V<1||ie.V>53)return null;"w"in ie||(ie.w=1),"Z"in ie?(B=bx(Pd(ie.y,0,1)),I=B.getUTCDay(),B=I>4||I===0?kg.ceil(B):kg(B),B=K0.offset(B,(ie.V-1)*7),ie.y=B.getUTCFullYear(),ie.m=B.getUTCMonth(),ie.d=B.getUTCDate()+(ie.w+6)%7):(B=yx(Pd(ie.y,0,1)),I=B.getDay(),B=I>4||I===0?wg.ceil(B):wg(B),B=vm.offset(B,(ie.V-1)*7),ie.y=B.getFullYear(),ie.m=B.getMonth(),ie.d=B.getDate()+(ie.w+6)%7)}else("W"in ie||"U"in ie)&&("w"in ie||(ie.w="u"in ie?ie.u%7:"W"in ie?1:0),I="Z"in ie?bx(Pd(ie.y,0,1)).getUTCDay():yx(Pd(ie.y,0,1)).getDay(),ie.m=0,ie.d="W"in ie?(ie.w+6)%7+ie.W*7-(I+5)%7:ie.w+ie.U*7-(I+6)%7);return"Z"in ie?(ie.H+=ie.Z/100|0,ie.M+=ie.Z%100,bx(ie)):yx(ie)}}function E(F,J,ue,ie){for(var H=0,B=J.length,I=ue.length,te,Pe;H<B;){if(ie>=I)return-1;if(te=J.charCodeAt(H++),te===37){if(te=J.charAt(H++),Pe=C[te in vA?J.charAt(H++):te],!Pe||(ie=Pe(F,ue,ie))<0)return-1}else if(te!=ue.charCodeAt(ie++))return-1}return ie}function $(F,J,ue){var ie=c.exec(J.slice(ue));return ie?(F.p=d.get(ie[0].toLowerCase()),ue+ie[0].length):-1}function T(F,J,ue){var ie=m.exec(J.slice(ue));return ie?(F.w=p.get(ie[0].toLowerCase()),ue+ie[0].length):-1}function M(F,J,ue){var ie=f.exec(J.slice(ue));return ie?(F.w=h.get(ie[0].toLowerCase()),ue+ie[0].length):-1}function O(F,J,ue){var ie=v.exec(J.slice(ue));return ie?(F.m=b.get(ie[0].toLowerCase()),ue+ie[0].length):-1}function Y(F,J,ue){var ie=g.exec(J.slice(ue));return ie?(F.m=y.get(ie[0].toLowerCase()),ue+ie[0].length):-1}function Q(F,J,ue){return E(F,t,J,ue)}function re(F,J,ue){return E(F,n,J,ue)}function ce(F,J,ue){return E(F,r,J,ue)}function K(F){return s[F.getDay()]}function G(F){return a[F.getDay()]}function L(F){return l[F.getMonth()]}function P(F){return o[F.getMonth()]}function j(F){return i[+(F.getHours()>=12)]}function U(F){return 1+~~(F.getMonth()/3)}function k(F){return s[F.getUTCDay()]}function _(F){return a[F.getUTCDay()]}function ae(F){return l[F.getUTCMonth()]}function ee(F){return o[F.getUTCMonth()]}function V(F){return i[+(F.getUTCHours()>=12)]}function ne(F){return 1+~~(F.getUTCMonth()/3)}return{format:function(F){var J=N(F+="",w);return J.toString=function(){return F},J},parse:function(F){var J=A(F+="",!1);return J.toString=function(){return F},J},utcFormat:function(F){var J=N(F+="",S);return J.toString=function(){return F},J},utcParse:function(F){var J=A(F+="",!0);return J.toString=function(){return F},J}}}var vA={"-":"",_:" ",0:"0"},ri=/^\s*\d+/,Zq=/^%/,Jq=/[\\^$*+?|[\]().{}]/g;function Cn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function eK(e){return e.replace(Jq,"\\$&")}function Td(e){return new RegExp("^(?:"+e.map(eK).join("|")+")","i")}function Ed(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function tK(e,t,n){var r=ri.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function nK(e,t,n){var r=ri.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function rK(e,t,n){var r=ri.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function iK(e,t,n){var r=ri.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function aK(e,t,n){var r=ri.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function xA(e,t,n){var r=ri.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function yA(e,t,n){var r=ri.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function sK(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function oK(e,t,n){var r=ri.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function lK(e,t,n){var r=ri.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function bA(e,t,n){var r=ri.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function cK(e,t,n){var r=ri.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function wA(e,t,n){var r=ri.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function uK(e,t,n){var r=ri.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function dK(e,t,n){var r=ri.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function fK(e,t,n){var r=ri.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function mK(e,t,n){var r=ri.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function hK(e,t,n){var r=Zq.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function pK(e,t,n){var r=ri.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function gK(e,t,n){var r=ri.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function kA(e,t){return Cn(e.getDate(),t,2)}function vK(e,t){return Cn(e.getHours(),t,2)}function xK(e,t){return Cn(e.getHours()%12||12,t,2)}function yK(e,t){return Cn(1+vm.count(vo(e),e),t,3)}function k_(e,t){return Cn(e.getMilliseconds(),t,3)}function bK(e,t){return k_(e,t)+"000"}function wK(e,t){return Cn(e.getMonth()+1,t,2)}function kK(e,t){return Cn(e.getMinutes(),t,2)}function SK(e,t){return Cn(e.getSeconds(),t,2)}function NK(e){var t=e.getDay();return t===0?7:t}function CK(e,t){return Cn(G0.count(vo(e)-1,e),t,2)}function S_(e){var t=e.getDay();return t>=4||t===0?Vu(e):Vu.ceil(e)}function jK(e,t){return e=S_(e),Cn(Vu.count(vo(e),e)+(vo(e).getDay()===4),t,2)}function AK(e){return e.getDay()}function PK(e,t){return Cn(wg.count(vo(e)-1,e),t,2)}function TK(e,t){return Cn(e.getFullYear()%100,t,2)}function EK(e,t){return e=S_(e),Cn(e.getFullYear()%100,t,2)}function DK(e,t){return Cn(e.getFullYear()%1e4,t,4)}function MK(e,t){var n=e.getDay();return e=n>=4||n===0?Vu(e):Vu.ceil(e),Cn(e.getFullYear()%1e4,t,4)}function OK(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Cn(t/60|0,"0",2)+Cn(t%60,"0",2)}function SA(e,t){return Cn(e.getUTCDate(),t,2)}function IK(e,t){return Cn(e.getUTCHours(),t,2)}function _K(e,t){return Cn(e.getUTCHours()%12||12,t,2)}function LK(e,t){return Cn(1+K0.count(xo(e),e),t,3)}function N_(e,t){return Cn(e.getUTCMilliseconds(),t,3)}function $K(e,t){return N_(e,t)+"000"}function FK(e,t){return Cn(e.getUTCMonth()+1,t,2)}function RK(e,t){return Cn(e.getUTCMinutes(),t,2)}function BK(e,t){return Cn(e.getUTCSeconds(),t,2)}function zK(e){var t=e.getUTCDay();return t===0?7:t}function UK(e,t){return Cn(Y0.count(xo(e)-1,e),t,2)}function C_(e){var t=e.getUTCDay();return t>=4||t===0?Wu(e):Wu.ceil(e)}function VK(e,t){return e=C_(e),Cn(Wu.count(xo(e),e)+(xo(e).getUTCDay()===4),t,2)}function WK(e){return e.getUTCDay()}function HK(e,t){return Cn(kg.count(xo(e)-1,e),t,2)}function qK(e,t){return Cn(e.getUTCFullYear()%100,t,2)}function KK(e,t){return e=C_(e),Cn(e.getUTCFullYear()%100,t,2)}function GK(e,t){return Cn(e.getUTCFullYear()%1e4,t,4)}function YK(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Wu(e):Wu.ceil(e),Cn(e.getUTCFullYear()%1e4,t,4)}function XK(){return"+0000"}function NA(){return"%"}function CA(e){return+e}function jA(e){return Math.floor(+e/1e3)}var Gc,j_,A_;QK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function QK(e){return Gc=Qq(e),j_=Gc.format,Gc.parse,A_=Gc.utcFormat,Gc.utcParse,Gc}function ZK(e){return new Date(e)}function JK(e){return e instanceof Date?+e:+new Date(+e)}function Mk(e,t,n,r,i,a,s,o,l,c){var d=xk(),f=d.invert,h=d.domain,m=c(".%L"),p=c(":%S"),g=c("%I:%M"),y=c("%I %p"),v=c("%a %d"),b=c("%b %d"),w=c("%B"),S=c("%Y");function C(N){return(l(N)<N?m:o(N)<N?p:s(N)<N?g:a(N)<N?y:r(N)<N?i(N)<N?v:b:n(N)<N?w:S)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,JK)):h().map(ZK)},d.ticks=function(N){var A=h();return e(A[0],A[A.length-1],N??10)},d.tickFormat=function(N,A){return A==null?C:c(A)},d.nice=function(N){var A=h();return(!N||typeof N.range!="function")&&(N=t(A[0],A[A.length-1],N??10)),N?h(m_(A,N)):d},d.copy=function(){return gm(d,Mk(e,t,n,r,i,a,s,o,l,c))},d}function eG(){return Xa.apply(Mk(Yq,Xq,vo,Ek,G0,vm,Pk,jk,Ql,j_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function tG(){return Xa.apply(Mk(Kq,Gq,xo,Dk,Y0,K0,Tk,Ak,Ql,A_).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function X0(){var e=0,t=1,n,r,i,a,s=Ri,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,s=f(m,p),c):[s(0),s(1)]}}return c.range=d(ed),c.rangeRound=d(vk),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),c}}function yl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function P_(){var e=xl(X0()(Ri));return e.copy=function(){return yl(e,P_())},No.apply(e,arguments)}function T_(){var e=wk(X0()).domain([1,10]);return e.copy=function(){return yl(e,T_()).base(e.base())},No.apply(e,arguments)}function E_(){var e=kk(X0());return e.copy=function(){return yl(e,E_()).constant(e.constant())},No.apply(e,arguments)}function Ok(){var e=Sk(X0());return e.copy=function(){return yl(e,Ok()).exponent(e.exponent())},No.apply(e,arguments)}function nG(){return Ok.apply(null,arguments).exponent(.5)}function D_(){var e=[],t=Ri;function n(r){if(r!=null&&!isNaN(r=+r))return t((hm(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(sl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>z7(e,a/r))},n.copy=function(){return D_(t).domain(e)},No.apply(n,arguments)}function Q0(){var e=0,t=.5,n=1,r=1,i,a,s,o,l,c=Ri,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-a)*(r*g<r*a?o:l),c(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,n]=g,i=d(e=+e),a=d(t=+t),s=d(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,m):[e,t,n]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(c=g,m):c};function p(g){return function(y){var v,b,w;return arguments.length?([v,b,w]=y,c=hq(g,[v,b,w]),m):[c(0),c(.5),c(1)]}}return m.range=p(ed),m.rangeRound=p(vk),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,i=g(e),a=g(t),s=g(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,m}}function M_(){var e=xl(Q0()(Ri));return e.copy=function(){return yl(e,M_())},No.apply(e,arguments)}function O_(){var e=wk(Q0()).domain([.1,1,10]);return e.copy=function(){return yl(e,O_()).base(e.base())},No.apply(e,arguments)}function I_(){var e=kk(Q0());return e.copy=function(){return yl(e,I_()).constant(e.constant())},No.apply(e,arguments)}function Ik(){var e=Sk(Q0());return e.copy=function(){return yl(e,Ik()).exponent(e.exponent())},No.apply(e,arguments)}function rG(){return Ik.apply(null,arguments).exponent(.5)}const Vd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:hk,scaleDiverging:M_,scaleDivergingLog:O_,scaleDivergingPow:Ik,scaleDivergingSqrt:rG,scaleDivergingSymlog:I_,scaleIdentity:f_,scaleImplicit:$b,scaleLinear:d_,scaleLog:h_,scaleOrdinal:mk,scalePoint:W7,scalePow:Nk,scaleQuantile:v_,scaleQuantize:x_,scaleRadial:g_,scaleSequential:P_,scaleSequentialLog:T_,scaleSequentialPow:Ok,scaleSequentialQuantile:D_,scaleSequentialSqrt:nG,scaleSequentialSymlog:E_,scaleSqrt:$q,scaleSymlog:p_,scaleThreshold:y_,scaleTime:eG,scaleUtc:tG,tickFormat:u_},Symbol.toStringTag,{value:"Module"}));var bl=e=>e.chartData,_k=pe([bl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Lk=(e,t,n,r)=>r?_k(e):bl(e);function ul(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Rr(t)&&Rr(n))return!0}return!1}function AA(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function __(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(Rr(n))i=n;else if(typeof n=="function")return;if(Rr(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(ul(s))return s}}function iG(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(ul(r))return AA(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(Pt(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&qC.test(i)){var l=qC.exec(i);if(l==null||l[1]==null||t==null)s=void 0;else{var c=+l[1];s=t[0]-c}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(Pt(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&KC.test(a)){var d=KC.exec(a);if(d==null||d[1]==null||t==null)o=void 0;else{var f=+d[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[s,o];if(ul(h))return t==null?h:AA(h,t,n)}}}var td=1e9,aG={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Fk,ur=!0,Ya="[DecimalError] ",sc=Ya+"Invalid argument: ",$k=Ya+"Exponent out of range: ",nd=Math.floor,zl=Math.pow,sG=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,va,Jr=1e7,rr=7,L_=9007199254740991,Sg=nd(L_/rr),xt={};xt.absoluteValue=xt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};xt.comparedTo=xt.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};xt.decimalPlaces=xt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*rr;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};xt.dividedBy=xt.div=function(e){return ao(this,new this.constructor(e))};xt.dividedToIntegerBy=xt.idiv=function(e){var t=this,n=t.constructor;return Wn(ao(t,new n(e),0,1),n.precision)};xt.equals=xt.eq=function(e){return!this.cmp(e)};xt.exponent=function(){return Fr(this)};xt.greaterThan=xt.gt=function(e){return this.cmp(e)>0};xt.greaterThanOrEqualTo=xt.gte=function(e){return this.cmp(e)>=0};xt.isInteger=xt.isint=function(){return this.e>this.d.length-2};xt.isNegative=xt.isneg=function(){return this.s<0};xt.isPositive=xt.ispos=function(){return this.s>0};xt.isZero=function(){return this.s===0};xt.lessThan=xt.lt=function(e){return this.cmp(e)<0};xt.lessThanOrEqualTo=xt.lte=function(e){return this.cmp(e)<1};xt.logarithm=xt.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(va))throw Error(Ya+"NaN");if(n.s<1)throw Error(Ya+(n.s?"NaN":"-Infinity"));return n.eq(va)?new r(0):(ur=!1,t=ao(Vf(n,a),Vf(e,a),a),ur=!0,Wn(t,i))};xt.minus=xt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?R_(t,e):$_(t,(e.s=-e.s,e))};xt.modulo=xt.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Ya+"NaN");return n.s?(ur=!1,t=ao(n,e,0,1).times(e),ur=!0,n.minus(t)):Wn(new r(n),i)};xt.naturalExponential=xt.exp=function(){return F_(this)};xt.naturalLogarithm=xt.ln=function(){return Vf(this)};xt.negated=xt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};xt.plus=xt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?$_(t,e):R_(t,(e.s=-e.s,e))};xt.precision=xt.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(sc+e);if(t=Fr(i)+1,r=i.d.length-1,n=r*rr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};xt.squareRoot=xt.sqrt=function(){var e,t,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Ya+"NaN")}for(e=Fr(o),ur=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=Os(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=nd((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(ao(o,a,s+2)).times(.5),Os(a.d).slice(0,s)===(t=Os(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(Wn(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(t!="9999")break;s+=4}return ur=!0,Wn(r,n)};xt.times=xt.mul=function(e){var t,n,r,i,a,s,o,l,c,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,l=h.length,c=m.length,l<c&&(a=h,h=m,m=a,s=l,l=c,c=s),a=[],s=l+c,r=s;r--;)a.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)o=a[i]+m[r]*h[i-r-1]+t,a[i--]=o%Jr|0,t=o/Jr|0;a[i]=(a[i]+t)%Jr|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,ur?Wn(e,f.precision):e};xt.toDecimalPlaces=xt.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(zs(e,0,td),t===void 0?t=r.rounding:zs(t,0,8),Wn(n,e+Fr(n)+1,t))};xt.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=yc(r,!0):(zs(e,0,td),t===void 0?t=i.rounding:zs(t,0,8),r=Wn(new i(r),e+1,t),n=yc(r,!0,e+1)),n};xt.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?yc(i):(zs(e,0,td),t===void 0?t=a.rounding:zs(t,0,8),r=Wn(new a(i),e+Fr(i)+1,t),n=yc(r.abs(),!1,e+Fr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};xt.toInteger=xt.toint=function(){var e=this,t=e.constructor;return Wn(new t(e),Fr(e)+1,t.rounding)};xt.toNumber=function(){return+this};xt.toPower=xt.pow=function(e){var t,n,r,i,a,s,o=this,l=o.constructor,c=12,d=+(e=new l(e));if(!e.s)return new l(va);if(o=new l(o),!o.s){if(e.s<1)throw Error(Ya+"Infinity");return o}if(o.eq(va))return o;if(r=l.precision,e.eq(va))return Wn(o,r);if(t=e.e,n=e.d.length-1,s=t>=n,a=o.s,s){if((n=d<0?-d:d)<=L_){for(i=new l(va),t=Math.ceil(r/rr+4),ur=!1;n%2&&(i=i.times(o),TA(i.d,t)),n=nd(n/2),n!==0;)o=o.times(o),TA(o.d,t);return ur=!0,e.s<0?new l(va).div(i):Wn(i,r)}}else if(a<0)throw Error(Ya+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,o.s=1,ur=!1,i=e.times(Vf(o,r+c)),ur=!0,i=F_(i),i.s=a,i};xt.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Fr(i),r=yc(i,n<=a.toExpNeg||n>=a.toExpPos)):(zs(e,1,td),t===void 0?t=a.rounding:zs(t,0,8),i=Wn(new a(i),e,t),n=Fr(i),r=yc(i,e<=n||n<=a.toExpNeg,e)),r};xt.toSignificantDigits=xt.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(zs(e,1,td),t===void 0?t=r.rounding:zs(t,0,8)),Wn(new r(n),e,t)};xt.toString=xt.valueOf=xt.val=xt.toJSON=xt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Fr(e),n=e.constructor;return yc(e,t<=n.toExpNeg||t>=n.toExpPos)};function $_(e,t){var n,r,i,a,s,o,l,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),ur?Wn(t,f):t;if(l=e.d,c=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=c.length):(r=c,i=s,o=l.length),s=Math.ceil(f/rr),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/Jr|0,l[a]%=Jr;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,ur?Wn(t,f):t}function zs(e,t,n){if(e!==~~e||e<t||e>n)throw Error(sc+e)}function Os(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)r=e[t]+"",n=rr-r.length,n&&(a+=zo(n)),a+=r;s=e[t],r=s+"",n=rr-r.length,n&&(a+=zo(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var ao=function(){function e(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%Jr|0,s=a/Jr|0;return s&&r.unshift(s),r}function t(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*Jr+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,c,d,f,h,m,p,g,y,v,b,w,S,C,N,A,E,$=r.constructor,T=r.s==i.s?1:-1,M=r.d,O=i.d;if(!r.s)return new $(r);if(!i.s)throw Error(Ya+"Division by zero");for(l=r.e-i.e,A=O.length,C=M.length,m=new $(T),p=m.d=[],c=0;O[c]==(M[c]||0);)++c;if(O[c]>(M[c]||0)&&--l,a==null?b=a=$.precision:s?b=a+(Fr(r)-Fr(i))+1:b=a,b<0)return new $(0);if(b=b/rr+2|0,c=0,A==1)for(d=0,O=O[0],b++;(c<C||d)&&b--;c++)w=d*Jr+(M[c]||0),p[c]=w/O|0,d=w%O|0;else{for(d=Jr/(O[0]+1)|0,d>1&&(O=e(O,d),M=e(M,d),A=O.length,C=M.length),S=A,g=M.slice(0,A),y=g.length;y<A;)g[y++]=0;E=O.slice(),E.unshift(0),N=O[0],O[1]>=Jr/2&&++N;do d=0,o=t(O,g,A,y),o<0?(v=g[0],A!=y&&(v=v*Jr+(g[1]||0)),d=v/N|0,d>1?(d>=Jr&&(d=Jr-1),f=e(O,d),h=f.length,y=g.length,o=t(f,g,h,y),o==1&&(d--,n(f,A<h?E:O,h))):(d==0&&(o=d=1),f=O.slice()),h=f.length,h<y&&f.unshift(0),n(g,f,y),o==-1&&(y=g.length,o=t(O,g,A,y),o<1&&(d++,n(g,A<y?E:O,y))),y=g.length):o===0&&(d++,g=[0]),p[c++]=d,o&&g[0]?g[y++]=M[S]||0:(g=[M[S]],y=1);while((S++<C||g[0]!==void 0)&&b--)}return p[0]||p.shift(),m.e=l,Wn(m,s?a+Fr(m)+1:a)}}();function F_(e,t){var n,r,i,a,s,o,l=0,c=0,d=e.constructor,f=d.precision;if(Fr(e)>16)throw Error($k+Fr(e));if(!e.s)return new d(va);for(ur=!1,o=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(r=Math.log(zl(2,c))/Math.LN10*2+5|0,o+=r,n=i=a=new d(va),d.precision=o;;){if(i=Wn(i.times(e),o),n=n.times(++l),s=a.plus(ao(i,n,o)),Os(s.d).slice(0,o)===Os(a.d).slice(0,o)){for(;c--;)a=Wn(a.times(a),o);return d.precision=f,t==null?(ur=!0,Wn(a,f)):a}a=s}}function Fr(e){for(var t=e.e*rr,n=e.d[0];n>=10;n/=10)t++;return t}function wx(e,t,n){if(t>e.LN10.sd())throw ur=!0,n&&(e.precision=n),Error(Ya+"LN10 precision limit exceeded");return Wn(new e(e.LN10),t)}function zo(e){for(var t="";e--;)t+="0";return t}function Vf(e,t){var n,r,i,a,s,o,l,c,d,f=1,h=10,m=e,p=m.d,g=m.constructor,y=g.precision;if(m.s<1)throw Error(Ya+(m.s?"NaN":"-Infinity"));if(m.eq(va))return new g(0);if(t==null?(ur=!1,c=y):c=t,m.eq(10))return t==null&&(ur=!0),wx(g,c);if(c+=h,g.precision=c,n=Os(p),r=n.charAt(0),a=Fr(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=Os(m.d),r=n.charAt(0),f++;a=Fr(m),r>1?(m=new g("0."+n),a++):m=new g(r+"."+n.slice(1))}else return l=wx(g,c+2,y).times(a+""),m=Vf(new g(r+"."+n.slice(1)),c-h).plus(l),g.precision=y,t==null?(ur=!0,Wn(m,y)):m;for(o=s=m=ao(m.minus(va),m.plus(va),c),d=Wn(m.times(m),c),i=3;;){if(s=Wn(s.times(d),c),l=o.plus(ao(s,new g(i),c)),Os(l.d).slice(0,c)===Os(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(wx(g,c+2,y).times(a+""))),o=ao(o,new g(f),c),g.precision=y,t==null?(ur=!0,Wn(o,y)):o;o=l,i+=2}}function PA(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=nd(n/rr),e.d=[],r=(n+1)%rr,n<0&&(r+=rr),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=rr;r<i;)e.d.push(+t.slice(r,r+=rr));t=t.slice(r),r=rr-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),ur&&(e.e>Sg||e.e<-Sg))throw Error($k+n)}else e.s=0,e.e=0,e.d=[0];return e}function Wn(e,t,n){var r,i,a,s,o,l,c,d,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(r=t-s,r<0)r+=rr,i=t,c=f[d=0];else{if(d=Math.ceil((r+1)/rr),a=f.length,d>=a)return e;for(c=a=f[d],s=1;a>=10;a/=10)s++;r%=rr,i=r-rr+s}if(n!==void 0&&(a=zl(10,s-i-1),o=c/a%10|0,l=t<0||f[d+1]!==void 0||c%a,l=n<4?(o||l)&&(n==0||n==(e.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/zl(10,s-i):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(a=Fr(e),f.length=1,t=t-a-1,f[0]=zl(10,(rr-t%rr)%rr),e.e=nd(-t/rr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,a=1,d--):(f.length=d+1,a=zl(10,rr-r),f[d]=i>0?(c/zl(10,s-i)%zl(10,i)|0)*a:0),l)for(;;)if(d==0){(f[0]+=a)==Jr&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=Jr)break;f[d--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(ur&&(e.e>Sg||e.e<-Sg))throw Error($k+Fr(e));return e}function R_(e,t){var n,r,i,a,s,o,l,c,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),ur?Wn(t,m):t;if(l=e.d,f=t.d,r=t.e,c=e.e,l=l.slice(),s=c-r,s){for(d=s<0,d?(n=l,s=-s,o=f.length):(n=f,r=c,o=l.length),i=Math.max(Math.ceil(m/rr),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}s=0}for(d&&(n=l,l=f,f=n,t.s=-t.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Jr-1;--l[a],l[i]+=Jr}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,ur?Wn(t,m):t):new h(0)}function yc(e,t,n){var r,i=Fr(e),a=Os(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+zo(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+zo(-i-1)+a,n&&(r=n-s)>0&&(a+=zo(r))):i>=s?(a+=zo(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+zo(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=zo(r))),e.s<0?"-"+a:a}function TA(e,t){if(e.length>t)return e.length=t,!0}function B_(e){var t,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(sc+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return PA(s,a.toString())}else if(typeof a!="string")throw Error(sc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,sG.test(a))PA(s,a);else throw Error(sc+a)}if(i.prototype=xt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=B_,i.config=i.set=oG,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function oG(e){if(!e||typeof e!="object")throw Error(Ya+"Object expected");var t,n,r,i=["precision",1,td,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(nd(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(sc+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(sc+n+": "+r);return this}var Fk=B_(aG);va=new Fk(1);const In=Fk;var lG=e=>e,z_={},U_=e=>e===z_,EA=e=>function t(){return arguments.length===0||arguments.length===1&&U_(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},V_=(e,t)=>e===1?t:EA(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==z_).length;return a>=e?t(...r):V_(e-a,EA(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var c=r.map(d=>U_(d)?o.shift():d);return t(...c,...o)}))}),cG=e=>V_(e.length,e),zb=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},uG=cG((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),dG=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return lG;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,l)=>l(o),a(...arguments))}};function W_(e){var t;return e===0?t=1:t=Math.floor(new In(e).abs().log(10).toNumber())+1,t}function H_(e,t,n){for(var r=new In(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var q_=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},K_=(e,t,n)=>{if(e.lte(0))return new In(0);var r=W_(e.toNumber()),i=new In(10).pow(r),a=e.div(i),s=r!==1?.05:.1,o=new In(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return t?new In(l.toNumber()):new In(Math.ceil(l.toNumber()))},fG=(e,t,n)=>{var r=new In(1),i=new In(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new In(10).pow(W_(e)-1),i=new In(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new In(Math.floor(e)))}else e===0?i=new In(Math.floor((t-1)/2)):n||(i=new In(Math.floor(e)));var s=Math.floor((t-1)/2),o=dG(uG(l=>i.add(new In(l-s).mul(r)).toNumber()),zb);return o(0,t)},G_=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new In(0),tickMin:new In(0),tickMax:new In(0)};var s=K_(new In(n).sub(t).div(r-1),i,a),o;t<=0&&n>=0?o=new In(0):(o=new In(t).add(n).div(2),o=o.sub(new In(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new In(n).sub(o).div(s).toNumber()),d=l+c+1;return d>r?G_(t,n,r,i,a+1):(d<r&&(c=n>0?c+(r-d):c,l=n>0?l:l+(r-d)),{step:s,tickMin:o.sub(new In(l).mul(s)),tickMax:o.add(new In(c).mul(s))})},mG=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,l]=q_([n,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...zb(0,i-1).map(()=>1/0)]:[...zb(0,i-1).map(()=>-1/0),l];return n>r?c.reverse():c}if(o===l)return fG(o,i,a);var{step:d,tickMin:f,tickMax:h}=G_(o,l,s,a,0),m=H_(f,h.add(new In(.1).mul(d)),d);return n>r?m.reverse():m},hG=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=q_([r,i]);if(s===-1/0||o===1/0)return[r,i];if(s===o)return[s];var l=Math.max(n,2),c=K_(new In(o).sub(s).div(l-1),a,0),d=[...H_(new In(s),new In(o),c),o];return a===!1&&(d=d.map(f=>Math.round(f))),r>i?d.reverse():d},pG=e=>e.rootProps.barCategoryGap,xm=e=>e.rootProps.stackOffset,Y_=e=>e.rootProps.reverseStackOrder,Rk=e=>e.options.chartName,Bk=e=>e.rootProps.syncId,X_=e=>e.rootProps.syncMethod,zk=e=>e.options.eventEmitter,hi={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Xs={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ga={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Z0=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},gG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Xs.angleAxisId,includeHidden:!1,name:void 0,reversed:Xs.reversed,scale:Xs.scale,tick:Xs.tick,tickCount:void 0,ticks:void 0,type:Xs.type,unit:void 0},vG={allowDataOverflow:ga.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ga.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ga.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ga.scale,tick:ga.tick,tickCount:ga.tickCount,ticks:void 0,type:ga.type,unit:void 0},xG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Xs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Xs.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Xs.scale,tick:Xs.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},yG={allowDataOverflow:ga.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ga.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ga.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ga.scale,tick:ga.tick,tickCount:ga.tickCount,ticks:void 0,type:"category",unit:void 0},Uk=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?xG:gG,Vk=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?yG:vG,J0=e=>e.polarOptions,Wk=pe([ko,So,ni],G5),Q_=pe([J0,Wk],(e,t)=>{if(e!=null)return wa(e.innerRadius,t,0)}),Z_=pe([J0,Wk],(e,t)=>{if(e!=null)return wa(e.outerRadius,t,t*.8)}),bG=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},J_=pe([J0],bG);pe([Uk,J_],Z0);var e3=pe([Wk,Q_,Z_],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});pe([Vk,e3],Z0);var t3=pe([zn,J0,Q_,Z_,ko,So],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:o,startAngle:l,endAngle:c}=t;return{cx:wa(s,i,i/2),cy:wa(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),dr=(e,t)=>t,ym=(e,t,n)=>n;function n3(e){return e==null?void 0:e.id}function r3(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return e.forEach(o=>{var l,c=(l=o.data)!==null&&l!==void 0?l:r;if(!(c==null||c.length===0)){var d=n3(o);c.forEach((f,h)=>{var m=a==null||i?h:String(ar(f,a,null)),p=ar(f,o.dataKey,0),g;s.has(m)?g=s.get(m):g={},Object.assign(g,{[d]:p}),s.set(m,g)})}}),Array.from(s.values())}function Hk(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var ev=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function tv(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function wG(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Kr=e=>{var t=zn(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},rd=e=>e.tooltip.settings.axisId;function DA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ng(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DA(Object(n),!0).forEach(function(r){kG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kG(e,t,n){return(t=SG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SG(e){var t=NG(e,"string");return typeof t=="symbol"?t:t+""}function NG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ub=[0,"auto"],Qr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},i3=(e,t)=>e.cartesianAxis.xAxis[t],Co=(e,t)=>{var n=i3(e,t);return n??Qr},Zr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Ub,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:dm},a3=(e,t)=>e.cartesianAxis.yAxis[t],jo=(e,t)=>{var n=a3(e,t);return n??Zr},CG={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},qk=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??CG},br=(e,t,n)=>{switch(t){case"xAxis":return Co(e,n);case"yAxis":return jo(e,n);case"zAxis":return qk(e,n);case"angleAxis":return Uk(e,n);case"radiusAxis":return Vk(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},jG=(e,t,n)=>{switch(t){case"xAxis":return Co(e,n);case"yAxis":return jo(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},bm=(e,t,n)=>{switch(t){case"xAxis":return Co(e,n);case"yAxis":return jo(e,n);case"angleAxis":return Uk(e,n);case"radiusAxis":return Vk(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},s3=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Kk(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var o3=e=>e.graphicalItems.cartesianItems,AG=pe([dr,ym],Kk),Gk=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),wm=pe([o3,br,AG],Gk,{memoizeOptions:{resultEqualityCheck:tv}}),l3=pe([wm],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Hk)),c3=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),PG=pe([wm],c3),Yk=e=>e.map(t=>t.data).filter(Boolean).flat(1),TG=pe([wm],Yk,{memoizeOptions:{resultEqualityCheck:tv}}),Xk=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},Qk=pe([TG,Lk],Xk),Zk=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:ar(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:ar(i,r)}))):e.map(r=>({value:r})),nv=pe([Qk,br,wm],Zk);function u3(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function ip(e){if(Rs(e)||e instanceof Date){var t=Number(e);if(Rr(t))return t}}function MA(e){if(Array.isArray(e)){var t=[ip(e[0]),ip(e[1])];return ul(t)?t:void 0}var n=ip(e);if(n!=null)return[n,n]}function yo(e){return e.map(ip).filter(H8)}function EG(e,t,n){return!n||typeof t!="number"||Fs(t)?[]:n.length?yo(n.flatMap(r=>{var i=ar(e,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Rr(a)||!Rr(s)))return[t-a,t+s]})):[]}var Gr=e=>{var t=Kr(e),n=rd(e);return bm(e,t,n)},km=pe([Gr],e=>e==null?void 0:e.dataKey),DG=pe([l3,Lk,Gr],r3),d3=(e,t,n,r)=>{var i={},a=t.reduce((s,o)=>{if(o.stackId==null)return s;var l=s[o.stackId];return l==null&&(l=[]),l.push(o),s[o.stackId]=l,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,l]=s,c=r?[...l].reverse():l,d=c.map(n3);return[o,{stackedData:oW(e,d,n),graphicalItems:c}]}))},MG=pe([DG,l3,xm,Y_],d3),f3=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var s=uW(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},OG=pe([br],e=>e.allowDataOverflow),Jk=e=>{var t;if(e==null||!("domain"in e))return Ub;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=yo(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Ub},eS=pe([br],Jk),tS=pe([eS,OG],__),IG=pe([MG,bl,dr,tS],f3,{memoizeOptions:{resultEqualityCheck:ev}}),rv=e=>e.errorBars,_G=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>u3(n,r)),Cg=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},nS=(e,t,n,r,i)=>{var a,s;if(n.length>0&&e.forEach(o=>{n.forEach(l=>{var c,d,f=(c=r[l.id])===null||c===void 0?void 0:c.filter(v=>u3(i,v)),h=ar(o,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey),m=EG(o,h,f);if(m.length>=2){var p=Math.min(...m),g=Math.max(...m);(a==null||p<a)&&(a=p),(s==null||g>s)&&(s=g)}var y=MA(h);y!=null&&(a=a==null?y[0]:Math.min(a,y[0]),s=s==null?y[1]:Math.max(s,y[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var l=MA(ar(o,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),Rr(a)&&Rr(s))return[a,s]},LG=pe([Qk,br,PG,rv,dr],nS,{memoizeOptions:{resultEqualityCheck:ev}});function $G(e){var{value:t}=e;if(Rs(t)||t instanceof Date)return t}var FG=(e,t,n)=>{var r=e.map($G).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&sI(r))?t_(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},m3=e=>e.referenceElements.dots,id=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),RG=pe([m3,dr,ym],id),h3=e=>e.referenceElements.areas,BG=pe([h3,dr,ym],id),p3=e=>e.referenceElements.lines,zG=pe([p3,dr,ym],id),g3=(e,t)=>{if(e!=null){var n=yo(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},UG=pe(RG,dr,g3),v3=(e,t)=>{if(e!=null){var n=yo(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},VG=pe([BG,dr],v3);function WG(e){var t;if(e.x!=null)return yo([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:yo(n)}function HG(e){var t;if(e.y!=null)return yo([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:yo(n)}var x3=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?WG(r):HG(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},qG=pe([zG,dr],x3),KG=pe(UG,qG,VG,(e,t,n)=>Cg(e,n,t)),rS=(e,t,n,r,i,a,s,o)=>{if(n!=null)return n;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",c=l?Cg(r,a,i):Cg(a,i);return iG(t,c,e.allowDataOverflow)},GG=pe([br,eS,tS,IG,LG,KG,zn,dr],rS,{memoizeOptions:{resultEqualityCheck:ev}}),YG=[0,1],iS=(e,t,n,r,i,a,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:o,type:l}=e,c=vl(t,a);if(c&&o==null){var d;return t_(0,(d=n==null?void 0:n.length)!==null&&d!==void 0?d:0)}return l==="category"?FG(r,e,c):i==="expand"?YG:s}},aS=pe([br,zn,Qk,nv,xm,dr,GG],iS),y3=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(om(a));return o in Vd?o:"point"}}},ad=pe([br,zn,s3,Rk,dr],y3);function XG(e){if(e!=null){if(e in Vd)return Vd[e]();var t="scale".concat(om(e));if(t in Vd)return Vd[t]()}}function sS(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=XG(t);if(i!=null){var a=i.domain(n).range(r);return rW(a),a}}}var oS=(e,t,n)=>{var r=Jk(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ul(e))return mG(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ul(e))return hG(e,t.tickCount,t.allowDecimals)}},lS=pe([aS,bm,ad],oS),cS=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ul(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],s=t[1],o=n[n.length-1];return[Math.min(i,a),Math.max(s,o)]}return t},QG=pe([br,aS,lS,dr],cS),ZG=pe(nv,br,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(yo(e.map(f=>f.value))).sort((f,h)=>f-h),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o],c=r[o+1];if(!(l==null||c==null)){var d=c-l;n=Math.min(n,d)}}return n/s}}),b3=pe(ZG,zn,pG,ni,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!Rr(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=wa(n,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),JG=(e,t,n)=>{var r=Co(e,t);return r==null||typeof r.padding!="string"?0:b3(e,"xAxis",t,n,r.padding)},eY=(e,t,n)=>{var r=jo(e,t);return r==null||typeof r.padding!="string"?0:b3(e,"yAxis",t,n,r.padding)},tY=pe(Co,JG,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),nY=pe(jo,eY,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),rY=pe([ni,tY,$0,L0,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),iY=pe([ni,zn,nY,$0,L0,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Sm=(e,t,n,r)=>{var i;switch(t){case"xAxis":return rY(e,n,r);case"yAxis":return iY(e,n,r);case"zAxis":return(i=qk(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return J_(e);case"radiusAxis":return e3(e,n);default:return}},w3=pe([br,Sm],Z0),iv=pe([br,ad,QG,w3],sS);pe([wm,rv,dr],_G);function k3(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var av=(e,t)=>t,sv=(e,t,n)=>n,aY=pe(I0,av,sv,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(k3)),sY=pe(_0,av,sv,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(k3)),S3=(e,t)=>({width:e.width,height:t.height}),oY=(e,t)=>{var n=typeof t.width=="number"?t.width:dm;return{width:n,height:e.height}},lY=pe(ni,Co,S3),cY=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},uY=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},dY=pe(So,ni,aY,av,sv,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=S3(t,o);s==null&&(s=cY(t,r,e));var c=r==="top"&&!i||r==="bottom"&&i;a[o.id]=s-Number(c)*l.height,s+=(c?-1:1)*l.height}),a}),fY=pe(ko,ni,sY,av,sv,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=oY(t,o);s==null&&(s=uY(t,r,e));var c=r==="left"&&!i||r==="right"&&i;a[o.id]=s-Number(c)*l.width,s+=(c?-1:1)*l.width}),a}),mY=(e,t)=>{var n=Co(e,t);if(n!=null)return dY(e,n.orientation,n.mirror)},hY=pe([ni,Co,mY,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),pY=(e,t)=>{var n=jo(e,t);if(n!=null)return fY(e,n.orientation,n.mirror)},gY=pe([ni,jo,pY,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),vY=pe(ni,jo,(e,t)=>{var n=typeof t.width=="number"?t.width:dm;return{width:n,height:e.height}}),N3=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,o=vl(e,r),l=t.map(c=>c.value);if(s&&o&&a==="category"&&i&&sI(l))return l}},uS=pe([zn,nv,br,dr],N3),C3=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=vl(e,r);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},dS=pe([zn,nv,bm,dr],C3),OA=pe([zn,jG,ad,iv,uS,dS,Sm,lS,dr],(e,t,n,r,i,a,s,o,l)=>{if(t!=null){var c=vl(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:o,range:s,realScaleType:n,scale:r}}}),xY=(e,t,n,r,i,a,s,o,l)=>{if(!(t==null||r==null)){var c=vl(e,l),{type:d,ticks:f,tickCount:h}=t,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,p=d==="category"&&r.bandwidth?r.bandwidth()/m:0;p=l==="angleAxis"&&a!=null&&a.length>=2?Pi(a[0]-a[1])*2*p:p;var g=f||i;if(g){var y=g.map((v,b)=>{var w=s?s.indexOf(v):v;return{index:b,coordinate:r(w)+p,value:v,offset:p}});return y.filter(v=>Rr(v.coordinate))}return c&&o?o.map((v,b)=>({coordinate:r(v)+p,value:v,index:b,offset:p})).filter(v=>Rr(v.coordinate)):r.ticks?r.ticks(h).map(v=>({coordinate:r(v)+p,value:v,offset:p})):r.domain().map((v,b)=>({coordinate:r(v)+p,value:s?s[v]:v,index:b,offset:p}))}},j3=pe([zn,bm,ad,iv,lS,Sm,uS,dS,dr],xY),yY=(e,t,n,r,i,a,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var o=vl(e,s),{tickCount:l}=t,c=0;return c=s==="angleAxis"&&(r==null?void 0:r.length)>=2?Pi(r[0]-r[1])*2*c:c,o&&a?a.map((d,f)=>({coordinate:n(d)+c,value:d,index:f,offset:c})):n.ticks?n.ticks(l).map(d=>({coordinate:n(d)+c,value:d,offset:c})):n.domain().map((d,f)=>({coordinate:n(d)+c,value:i?i[d]:d,index:f,offset:c}))}},A3=pe([zn,bm,iv,Sm,uS,dS,dr],yY),P3=pe(br,iv,(e,t)=>{if(!(e==null||t==null))return Ng(Ng({},e),{},{scale:t})}),bY=pe([br,ad,aS,w3],sS);pe((e,t,n)=>qk(e,n),bY,(e,t)=>{if(!(e==null||t==null))return Ng(Ng({},e),{},{scale:t})});var wY=pe([zn,I0,_0],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),T3=e=>e.options.defaultTooltipEventType,E3=e=>e.options.validateTooltipEventTypes;function D3(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function fS(e,t){var n=T3(e),r=E3(e);return D3(t,n,r)}function kY(e){return jt(t=>fS(t,e))}var M3=(e,t)=>{var n,r=Number(t);if(!(Fs(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},SY=e=>e.tooltip.settings,qo={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},NY={itemInteraction:{click:qo,hover:qo},axisInteraction:{click:qo,hover:qo},keyboardInteraction:qo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},O3=sa({name:"tooltip",initialState:NY,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:lr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=fs(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:lr()},removeTooltipEntrySettings:{reducer(e,t){var n=fs(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:lr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:CY,replaceTooltipEntrySettings:jY,removeTooltipEntrySettings:AY,setTooltipSettingsState:PY,setActiveMouseOverItemIndex:I3,mouseLeaveItem:TY,mouseLeaveChart:_3,setActiveClickItemIndex:EY,setMouseOverAxisIndex:L3,setMouseClickAxisIndex:DY,setSyncInteraction:Vb,setKeyboardInteraction:Wb}=O3.actions,MY=O3.reducer;function IA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IA(Object(n),!0).forEach(function(r){OY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OY(e,t,n){return(t=IY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IY(e){var t=_Y(e,"string");return typeof t=="symbol"?t:t+""}function _Y(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LY(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function $Y(e){return e.index!=null}var $3=(e,t,n,r)=>{if(t==null)return qo;var i=LY(e,t,n);if(i==null)return qo;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if($Y(i)){if(a)return Dh(Dh({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Dh(Dh({},qo),{},{coordinate:i.coordinate})};function FY(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function RY(e,t){var n=FY(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function BY(e,t,n){if(n==null||t==null)return!0;var r=ar(e,t);return r==null||!ul(n)?!0:RY(r,n)}var mS=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!Rr(a))return i;var s=0,o=1/0;t.length>0&&(o=t.length-1);var l=Math.max(s,Math.min(a,o)),c=t[l];return c==null||BY(c,n,r)?String(l):null},F3=(e,t,n,r,i,a,s,o)=>{if(!(a==null||o==null)){var l=s[0],c=l==null?void 0:o(l.positions,a);if(c!=null)return c;var d=i==null?void 0:i[Number(a)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},R3=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},Nm=e=>e.options.tooltipPayloadSearcher,sd=e=>e.tooltip;function _A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function LA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_A(Object(n),!0).forEach(function(r){zY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_A(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zY(e,t,n){return(t=UY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UY(e){var t=VY(e,"string");return typeof t=="symbol"?t:t+""}function VY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WY(e,t){return e??t}var B3=(e,t,n,r,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:d}=n,f=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:g,settings:y}=m,v=WY(g,o),b=Array.isArray(v)?g5(v,c,d):v,w=(p=y==null?void 0:y.dataKey)!==null&&p!==void 0?p:r,S=y==null?void 0:y.nameKey,C;if(r&&Array.isArray(b)&&!Array.isArray(b[0])&&s==="axis"?C=oI(b,r,i):C=a(b,t,l,S),Array.isArray(C))C.forEach(A=>{var E=LA(LA({},y),{},{name:A.name,unit:A.unit,color:void 0,fill:void 0});h.push(GC({tooltipEntrySettings:E,dataKey:A.dataKey,payload:A.payload,value:ar(A.payload,A.dataKey),name:A.name}))});else{var N;h.push(GC({tooltipEntrySettings:y,dataKey:w,payload:C,value:ar(C,w),name:(N=ar(C,S))!==null&&N!==void 0?N:y==null?void 0:y.name}))}return h},f)}},hS=pe([Gr,zn,s3,Rk,Kr],y3),HY=pe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),qY=pe([Kr,rd],Kk),od=pe([HY,Gr,qY],Gk,{memoizeOptions:{resultEqualityCheck:tv}}),KY=pe([od],e=>e.filter(Hk)),GY=pe([od],Yk,{memoizeOptions:{resultEqualityCheck:tv}}),ld=pe([GY,bl],Xk),YY=pe([KY,bl,Gr],r3),pS=pe([ld,Gr,od],Zk),z3=pe([Gr],Jk),XY=pe([Gr],e=>e.allowDataOverflow),U3=pe([z3,XY],__),QY=pe([od],e=>e.filter(Hk)),ZY=pe([YY,QY,xm,Y_],d3),JY=pe([ZY,bl,Kr,U3],f3),eX=pe([od],c3),tX=pe([ld,Gr,eX,rv,Kr],nS,{memoizeOptions:{resultEqualityCheck:ev}}),nX=pe([m3,Kr,rd],id),rX=pe([nX,Kr],g3),iX=pe([h3,Kr,rd],id),aX=pe([iX,Kr],v3),sX=pe([p3,Kr,rd],id),oX=pe([sX,Kr],x3),lX=pe([rX,oX,aX],Cg),cX=pe([Gr,z3,U3,JY,tX,lX,zn,Kr],rS),Cm=pe([Gr,zn,ld,pS,xm,Kr,cX],iS),uX=pe([Cm,Gr,hS],oS),dX=pe([Gr,Cm,uX,Kr],cS),V3=e=>{var t=Kr(e),n=rd(e),r=!1;return Sm(e,t,n,r)},W3=pe([Gr,V3],Z0),H3=pe([Gr,hS,dX,W3],sS),fX=pe([zn,pS,Gr,Kr],N3),mX=pe([zn,pS,Gr,Kr],C3),hX=(e,t,n,r,i,a,s,o)=>{if(t){var{type:l}=t,c=vl(e,o);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Pi(i[0]-i[1])*2*f:f,c&&s?s.map((h,m)=>({coordinate:r(h)+f,value:h,index:m,offset:f})):r.domain().map((h,m)=>({coordinate:r(h)+f,value:a?a[h]:h,index:m,offset:f}))}}},Ao=pe([zn,Gr,hS,H3,V3,fX,mX,Kr],hX),gS=pe([T3,E3,SY],(e,t,n)=>D3(n.shared,e,t)),q3=e=>e.tooltip.settings.trigger,vS=e=>e.tooltip.settings.defaultIndex,jm=pe([sd,gS,q3,vS],$3),Hu=pe([jm,ld,km,Cm],mS),K3=pe([Ao,Hu],M3),G3=pe([jm],e=>{if(e)return e.dataKey}),pX=pe([jm],e=>{if(e)return e.graphicalItemId}),Y3=pe([sd,gS,q3,vS],R3),gX=pe([ko,So,zn,ni,Ao,vS,Y3,Nm],F3),vX=pe([jm,gX],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),xX=pe([jm],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),yX=pe([Y3,Hu,bl,km,K3,Nm,gS],B3),bX=pe([yX],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function $A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function FA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$A(Object(n),!0).forEach(function(r){wX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$A(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wX(e,t,n){return(t=kX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kX(e){var t=SX(e,"string");return typeof t=="symbol"?t:t+""}function SX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NX=()=>jt(Gr),CX=()=>{var e=NX(),t=jt(Ao),n=jt(H3);return rg(!e||!n?void 0:FA(FA({},e),{},{scale:n}),t)};function RA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RA(Object(n),!0).forEach(function(r){jX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jX(e,t,n){return(t=AX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AX(e){var t=PX(e,"string");return typeof t=="symbol"?t:t+""}function PX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TX=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},EX=(e,t,n,r)=>{var i=t.find(c=>c&&c.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=r;return Yc(Yc(Yc({},r),$r(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=r;return Yc(Yc(Yc({},r),$r(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function DX(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var X3=(e,t,n,r,i)=>{var a,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<s;o++){var l,c,d,f,h,m=o>0?(l=n[o-1])===null||l===void 0?void 0:l.coordinate:(c=n[s-1])===null||c===void 0?void 0:c.coordinate,p=(d=n[o])===null||d===void 0?void 0:d.coordinate,g=o>=s-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(h=n[o+1])===null||h===void 0?void 0:h.coordinate,y=void 0;if(!(m==null||p==null||g==null))if(Pi(p-m)!==Pi(g-p)){var v=[];if(Pi(g-p)===Pi(i[1]-i[0])){y=g;var b=p+i[1]-i[0];v[0]=Math.min(b,(b+m)/2),v[1]=Math.max(b,(b+m)/2)}else{y=m;var w=g+i[1]-i[0];v[0]=Math.min(p,(w+p)/2),v[1]=Math.max(p,(w+p)/2)}var S=[Math.min(p,(y+p)/2),Math.max(p,(y+p)/2)];if(e>S[0]&&e<=S[1]||e>=v[0]&&e<=v[1]){var C;return(C=n[o])===null||C===void 0?void 0:C.index}}else{var N=Math.min(m,g),A=Math.max(m,g);if(e>(N+p)/2&&e<=(A+p)/2){var E;return(E=n[o])===null||E===void 0?void 0:E.index}}}else if(t)for(var $=0;$<s;$++){var T=t[$];if(T!=null){var M=t[$+1],O=t[$-1];if($===0&&M!=null&&e<=(T.coordinate+M.coordinate)/2||$===s-1&&O!=null&&e>(T.coordinate+O.coordinate)/2||$>0&&$<s-1&&O!=null&&M!=null&&e>(T.coordinate+O.coordinate)/2&&e<=(T.coordinate+M.coordinate)/2)return T.index}}return-1},MX=()=>jt(Rk),xS=(e,t)=>t,Q3=(e,t,n)=>n,yS=(e,t,n,r)=>r,OX=pe(Ao,e=>S0(e,t=>t.coordinate)),bS=pe([sd,xS,Q3,yS],$3),wS=pe([bS,ld,km,Cm],mS),IX=(e,t,n)=>{if(t!=null){var r=sd(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},Z3=pe([sd,xS,Q3,yS],R3),jg=pe([ko,So,zn,ni,Ao,yS,Z3,Nm],F3),_X=pe([bS,jg],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),J3=pe([Ao,wS],M3),LX=pe([Z3,wS,bl,km,J3,Nm,xS],B3),$X=pe([bS,wS],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),FX=(e,t,n,r,i,a,s)=>{if(!(!e||!n||!r||!i)&&DX(e,s)){var o=dW(e,t),l=X3(o,a,i,n,r),c=TX(t,i,l,e);return{activeIndex:String(l),activeCoordinate:c}}},RX=(e,t,n,r,i,a,s)=>{if(!(!e||!r||!i||!a||!n)){var o=N7(e,n);if(o){var l=fW(o,t),c=X3(l,s,a,r,i),d=EX(t,a,c,o);return{activeIndex:String(c),activeCoordinate:d}}}},BX=(e,t,n,r,i,a,s,o)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?FX(e,t,r,i,a,s,o):RX(e,t,n,r,i,a,s)},zX=pe(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),UX=pe(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(hi)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:wG}});function BA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BA(Object(n),!0).forEach(function(r){VX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VX(e,t,n){return(t=WX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WX(e){var t=HX(e,"string");return typeof t=="symbol"?t:t+""}function HX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qX={},KX={zIndexMap:Object.values(hi).reduce((e,t)=>zA(zA({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),qX)},GX=new Set(Object.values(hi));function YX(e){return GX.has(e)}var eL=sa({name:"zIndex",initialState:KX,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:lr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!YX(n)&&delete e.zIndexMap[n])},prepare:lr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:lr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:lr()}}}),{registerZIndexPortal:XX,unregisterZIndexPortal:QX,registerZIndexPortalElement:ZX,unregisterZIndexPortalElement:JX}=eL.actions,eQ=eL.reducer;function ks(e){var{zIndex:t,children:n}=e,r=RW(),i=r&&t!==void 0&&t!==0,a=oa(),s=Xn();x.useLayoutEffect(()=>i?(s(XX({zIndex:t})),()=>{s(QX({zIndex:t}))}):lm,[s,t,i]);var o=jt(l=>zX(l,t,a));return i?o?Ju.createPortal(n,o):null:n}function Hb(){return Hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hb.apply(null,arguments)}function UA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UA(Object(n),!0).forEach(function(r){tQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tQ(e,t,n){return(t=nQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nQ(e){var t=rQ(e,"string");return typeof t=="symbol"?t:t+""}function rQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iQ(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return x.isValidElement(t)?x.cloneElement(t,r):x.createElement(n,r)}function aQ(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:c,chartName:d}=e,f=n,h=r,m=i;if(!l||!f||d!=="ScatterChart"&&c!=="axis")return null;var p,g,y;if(d==="ScatterChart")p=f,g=FH,y=hi.cursorLine;else if(d==="BarChart")p=RH(o,f,a,s),g=K5,y=hi.cursorRectangle;else if(o==="radial"&&cI(f)){var{cx:v,cy:b,radius:w,startAngle:S,endAngle:C}=Y5(f);p={cx:v,cy:b,startAngle:S,endAngle:C,innerRadius:w,outerRadius:w},g=Q5,y=hi.cursorLine}else p={points:P7(o,f,a)},g=dk,y=hi.cursorLine;var N=typeof l=="object"&&"className"in l?l.className:void 0,A=Mh(Mh(Mh(Mh({stroke:"#ccc",pointerEvents:"none"},a),p),$u(l)),{},{payload:h,payloadIndex:m,className:Tn("recharts-tooltip-cursor",N)});return x.createElement(ks,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},x.createElement(iQ,{cursor:l,cursorComp:g,cursorProps:A}))}function sQ(e){var t=CX(),n=E5(),r=fm(),i=MX();return t==null||n==null||r==null||i==null?null:x.createElement(aQ,Hb({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var tL=x.createContext(null),oQ=()=>x.useContext(tL),nL={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function a(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||l,h),p=n?n+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],m]:l._events[p].push(m):(l._events[p]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)t.call(d,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},o.prototype.listeners=function(c){var d=n?n+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},o.prototype.listenerCount=function(c){var d=n?n+c:c,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,d,f,h,m,p){var g=n?n+c:c;if(!this._events[g])return!1;var y=this._events[g],v=arguments.length,b,w;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,m),!0;case 6:return y.fn.call(y.context,d,f,h,m,p),!0}for(w=1,b=new Array(v-1);w<v;w++)b[w-1]=arguments[w];y.fn.apply(y.context,b)}else{var S=y.length,C;for(w=0;w<S;w++)switch(y[w].once&&this.removeListener(c,y[w].fn,void 0,!0),v){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,d);break;case 3:y[w].fn.call(y[w].context,d,f);break;case 4:y[w].fn.call(y[w].context,d,f,h);break;default:if(!b)for(C=1,b=new Array(v-1);C<v;C++)b[C-1]=arguments[C];y[w].fn.apply(y[w].context,b)}}return!0},o.prototype.on=function(c,d,f){return a(this,c,d,f,!1)},o.prototype.once=function(c,d,f){return a(this,c,d,f,!0)},o.prototype.removeListener=function(c,d,f,h){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return s(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&s(this,m);else{for(var g=0,y=[],v=p.length;g<v;g++)(p[g].fn!==d||h&&!p[g].once||f&&p[g].context!==f)&&y.push(p[g]);y.length?this._events[m]=y.length===1?y[0]:y:s(this,m)}return this},o.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o})(nL);var lQ=nL.exports;const cQ=bs(lQ);var Wf=new cQ,qb="recharts.syncEvent.tooltip",VA="recharts.syncEvent.brush";function rL(e,t){if(t){var n=Number.parseInt(t,10);if(!Fs(n))return e==null?void 0:e[n]}}var uQ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},iL=sa({name:"options",initialState:uQ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),dQ=iL.reducer,{createEventEmitter:fQ}=iL.actions;function mQ(e){return e.tooltip.syncInteraction}var hQ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},aL=sa({name:"chartData",initialState:hQ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:WA,setDataStartEndIndexes:pQ,setComputedData:cge}=aL.actions,gQ=aL.reducer,vQ=["x","y"];function HA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HA(Object(n),!0).forEach(function(r){xQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xQ(e,t,n){return(t=yQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yQ(e){var t=bQ(e,"string");return typeof t=="symbol"?t:t+""}function bQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wQ(e,t){if(e==null)return{};var n,r,i=kQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function SQ(){var e=jt(Bk),t=jt(zk),n=Xn(),r=jt(X_),i=jt(Ao),a=fm(),s=F0(),o=jt(l=>l.rootProps.className);x.useEffect(()=>{if(e==null)return lm;var l=(c,d,f)=>{if(t!==f&&e===c){if(r==="index"){var h;if(s&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:p,y:g}=m,y=wQ(m,vQ),{x:v,y:b,width:w,height:S}=d.payload.sourceViewBox,C=Xc(Xc({},y),{},{x:s.x+(w?(p-v)/w:0)*s.width,y:s.y+(S?(g-b)/S:0)*s.height});n(Xc(Xc({},d),{},{payload:Xc(Xc({},d.payload),{},{coordinate:C})}))}else n(d);return}if(i!=null){var N;if(typeof r=="function"){var A={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},E=r(i,A);N=i[E]}else r==="value"&&(N=i.find(ce=>String(ce.value)===d.payload.label));var{coordinate:$}=d.payload;if(N==null||d.payload.active===!1||$==null||s==null){n(Vb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:T,y:M}=$,O=Math.min(T,s.x+s.width),Y=Math.min(M,s.y+s.height),Q={x:a==="horizontal"?N.coordinate:O,y:a==="horizontal"?Y:N.coordinate},re=Vb({active:d.payload.active,coordinate:Q,dataKey:d.payload.dataKey,index:String(N.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(re)}}};return Wf.on(qb,l),()=>{Wf.off(qb,l)}},[o,n,t,e,r,i,a,s])}function NQ(){var e=jt(Bk),t=jt(zk),n=Xn();x.useEffect(()=>{if(e==null)return lm;var r=(i,a,s)=>{t!==s&&e===i&&n(pQ(a))};return Wf.on(VA,r),()=>{Wf.off(VA,r)}},[n,t,e])}function CQ(){var e=Xn();x.useEffect(()=>{e(fQ())},[e]),SQ(),NQ()}function jQ(e,t,n,r,i,a){var s=jt(m=>IX(m,e,t)),o=jt(zk),l=jt(Bk),c=jt(X_),d=jt(mQ),f=d==null?void 0:d.active,h=F0();x.useEffect(()=>{if(!f&&l!=null&&o!=null){var m=Vb({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:h,graphicalItemId:void 0});Wf.emit(qb,l,m,o)}},[f,n,s,i,r,o,l,c,a,h])}function qA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function KA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qA(Object(n),!0).forEach(function(r){AQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AQ(e,t,n){return(t=PQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PQ(e){var t=TQ(e,"string");return typeof t=="symbol"?t:t+""}function TQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EQ(e){return e.dataKey}function DQ(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(vH,t)}var GA=[],MQ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function bc(e){var t,n,r=Hr(e,MQ),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:c,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:p,useTranslate3d:g,wrapperStyle:y,cursor:v,shared:b,trigger:w,defaultIndex:S,portal:C,axisId:N}=r,A=Xn(),E=typeof S=="number"?String(S):S;x.useEffect(()=>{A(PY({shared:b,trigger:w,axisId:N,active:i,defaultIndex:E}))},[A,b,w,N,i,E]);var $=F0(),T=U5(),M=kY(b),{activeIndex:O,isActive:Y}=(t=jt(V=>$X(V,M,w,E)))!==null&&t!==void 0?t:{},Q=jt(V=>LX(V,M,w,E)),re=jt(V=>J3(V,M,w,E)),ce=jt(V=>_X(V,M,w,E)),K=Q,G=oQ(),L=(n=i??Y)!==null&&n!==void 0?n:!1,[P,j]=BI([K,L]),U=M==="axis"?re:void 0;jQ(M,w,ce,U,O,L);var k=C??G;if(k==null||$==null||M==null)return null;var _=K??GA;L||(_=GA),c&&_.length&&(_=PI(_.filter(V=>V.value!=null&&(V.hide!==!0||r.includeHidden)),h,EQ));var ae=_.length>0,ee=x.createElement(NH,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:d,active:L,coordinate:ce,hasPayload:ae,offset:f,position:m,reverseDirection:p,useTranslate3d:g,viewBox:$,wrapperStyle:y,lastBoundingBox:P,innerRef:j,hasPortalFromProps:!!C},DQ(l,KA(KA({},r),{},{payload:_,label:U,active:L,activeIndex:O,coordinate:ce,accessibilityLayer:T})));return x.createElement(x.Fragment,null,Ju.createPortal(ee,k),L&&x.createElement(sQ,{cursor:v,tooltipEventType:M,coordinate:ce,payload:_,index:O}))}var qu=e=>null;qu.displayName="Cell";function OQ(e,t,n){return(t=IQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IQ(e){var t=_Q(e,"string");return typeof t=="symbol"?t:t+""}function _Q(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class LQ{constructor(t){OQ(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function YA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $Q(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YA(Object(n),!0).forEach(function(r){FQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FQ(e,t,n){return(t=RQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RQ(e){var t=BQ(e,"string");return typeof t=="symbol"?t:t+""}function BQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zQ={cacheSize:2e3,enableCache:!0},sL=$Q({},zQ),XA=new LQ(sL.cacheSize),UQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},QA="recharts_measurement_span";function VQ(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var ZA=(e,t)=>{try{var n=document.getElementById(QA);n||(n=document.createElement("span"),n.setAttribute("id",QA),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,UQ,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},ef=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||V0.isSsr)return{width:0,height:0};if(!sL.enableCache)return ZA(t,n);var r=VQ(t,n),i=XA.get(r);if(i)return i;var a=ZA(t,n);return XA.set(r,a),a},oL;function WQ(e,t,n){return(t=HQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HQ(e){var t=qQ(e,"string");return typeof t=="symbol"?t:t+""}function qQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,KQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,GQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,YQ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},XQ=["cm","mm","pt","pc","in","Q","px"];function QQ(e){return XQ.includes(e)}var hu="NaN";function ZQ(e,t){return e*YQ[t]}class mi{static parse(t){var n,[,r,i]=(n=GQ.exec(t))!==null&&n!==void 0?n:[];return r==null?mi.NaN:new mi(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Fs(t)&&(this.unit=""),n!==""&&!KQ.test(n)&&(this.num=NaN,this.unit=""),QQ(n)&&(this.num=ZQ(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new mi(NaN,""):new mi(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new mi(NaN,""):new mi(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new mi(NaN,""):new mi(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new mi(NaN,""):new mi(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Fs(this.num)}}oL=mi;WQ(mi,"NaN",new oL(NaN,""));function lL(e){if(e==null||e.includes(hu))return hu;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=JA.exec(t))!==null&&n!==void 0?n:[],s=mi.parse(r??""),o=mi.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return hu;t=t.replace(JA,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,f,h]=(c=eP.exec(t))!==null&&c!==void 0?c:[],m=mi.parse(d??""),p=mi.parse(h??""),g=f==="+"?m.add(p):m.subtract(p);if(g.isNaN())return hu;t=t.replace(eP,g.toString())}return t}var tP=/\(([^()]*)\)/;function JQ(e){for(var t=e,n;(n=tP.exec(t))!=null;){var[,r]=n;t=t.replace(tP,lL(r))}return t}function eZ(e){var t=e.replace(/\s+/g,"");return t=JQ(t),t=lL(t),t}function tZ(e){try{return eZ(e)}catch{return hu}}function kx(e){var t=tZ(e.slice(5,-1));return t===hu?"":t}var nZ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],rZ=["dx","dy","angle","className","breakAll"];function Kb(){return Kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kb.apply(null,arguments)}function nP(e,t){if(e==null)return{};var n,r,i=iZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function iZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var cL=/[ \f\n\r\t\v\u2028\u2029]+/,uL=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Wr(t)||(n?i=t.toString().split(""):i=t.toString().split(cL));var a=i.map(o=>({word:o,width:ef(o,r).width})),s=n?0:ef("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function aZ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var dL=(e,t,n,r)=>e.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(t==null||r||l.width+o+n<Number(t)))l.words.push(s),l.width+=o+n;else{var c={words:[s],width:o};i.push(c)}return i},[]),fL=e=>e.reduce((t,n)=>t.width>n.width?t:n),sZ="",rP=(e,t,n,r,i,a,s,o)=>{var l=e.slice(0,t),c=uL({breakAll:n,style:r,children:l+sZ});if(!c)return[!1,[]];var d=dL(c.wordsWithComputedWidth,a,s,o),f=d.length>i||fL(d).width>Number(a);return[f,d]},oZ=(e,t,n,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,c=Pt(a),d=String(s),f=dL(t,r,n,i);if(!c||i)return f;var h=f.length>a||fL(f).width>Number(r);if(!h)return f;for(var m=0,p=d.length-1,g=0,y;m<=p&&g<=d.length-1;){var v=Math.floor((m+p)/2),b=v-1,[w,S]=rP(d,b,l,o,a,r,n,i),[C]=rP(d,v,l,o,a,r,n,i);if(!w&&!C&&(m=v+1),w&&C&&(p=v-1),!w&&C){y=S;break}g++}return y||f},iP=e=>{var t=Wr(e)?[]:e.toString().split(cL);return[{words:t,width:void 0}]},lZ=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=e;if((t||n)&&!V0.isSsr){var o,l,c=uL({breakAll:a,children:r,style:i});if(c){var{wordsWithComputedWidth:d,spaceWidth:f}=c;o=d,l=f}else return iP(r);return oZ({breakAll:a,children:r,maxLines:s,style:i},o,l,t,!!n)}return iP(r)},mL="#808080",cZ={angle:0,breakAll:!1,capHeight:"0.71em",fill:mL,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},ov=x.forwardRef((e,t)=>{var n=Hr(e,cZ),{x:r,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:c,verticalAnchor:d}=n,f=nP(n,nZ),h=x.useMemo(()=>lZ({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:m,dy:p,angle:g,className:y,breakAll:v}=f,b=nP(f,rZ);if(!Rs(r)||!Rs(i)||h.length===0)return null;var w=Number(r)+(Pt(m)?m:0),S=Number(i)+(Pt(p)?p:0);if(!Rr(w)||!Rr(S))return null;var C;switch(d){case"start":C=kx("calc(".concat(s,")"));break;case"middle":C=kx("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:C=kx("calc(".concat(h.length-1," * -").concat(a,")"));break}var N=[];if(l){var A=h[0].width,{width:E}=f;N.push("scale(".concat(Pt(E)&&Pt(A)?E/A:1,")"))}return g&&N.push("rotate(".concat(g,", ").concat(w,", ").concat(S,")")),N.length&&(b.transform=N.join(" ")),x.createElement("text",Kb({},zi(b),{ref:t,x:w,y:S,className:Tn("recharts-text",y),textAnchor:c,fill:o.includes("url")?mL:o}),h.map(($,T)=>{var M=$.words.join(v?"":" ");return x.createElement("tspan",{x:w,dy:T===0?C:a,key:"".concat(M,"-").concat(T)},M)}))});ov.displayName="Text";var uZ=["labelRef"],dZ=["content"];function aP(e,t){if(e==null)return{};var n,r,i=fZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function sP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sP(Object(n),!0).forEach(function(r){mZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mZ(e,t,n){return(t=hZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hZ(e){var t=pZ(e,"string");return typeof t=="symbol"?t:t+""}function pZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qs(){return Qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qs.apply(null,arguments)}var hL=x.createContext(null),gZ=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:o}=e,l=x.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[t,n,r,i,a,s]);return x.createElement(hL.Provider,{value:l},o)},pL=()=>{var e=x.useContext(hL),t=F0();return e||T5(t)},vZ=x.createContext(null),xZ=()=>{var e=x.useContext(vZ),t=jt(t3);return e||t},yZ=e=>{var{value:t,formatter:n}=e,r=Wr(e.children)?t:e.children;return typeof n=="function"?n(r):r},kS=e=>e!=null&&typeof e=="function",bZ=(e,t)=>{var n=Pi(t-e),r=Math.min(Math.abs(t-e),360);return n*r},wZ=(e,t,n,r,i)=>{var{offset:a,className:s}=e,{cx:o,cy:l,innerRadius:c,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=i,p=(c+d)/2,g=bZ(f,h),y=g>=0?1:-1,v,b;switch(t){case"insideStart":v=f+y*a,b=m;break;case"insideEnd":v=h-y*a,b=!m;break;case"end":v=h+y*a,b=m;break;default:throw new Error("Unsupported position ".concat(t))}b=g<=0?b:!b;var w=$r(o,l,p,v),S=$r(o,l,p,v+(b?1:-1)*359),C="M".concat(w.x,",").concat(w.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(b?0:1,`,
    `).concat(S.x,",").concat(S.y),N=Wr(e.id)?Df("recharts-radial-line-"):e.id;return x.createElement("text",Qs({},r,{dominantBaseline:"central",className:Tn("recharts-radial-bar-label",s)}),x.createElement("defs",null,x.createElement("path",{id:N,d:C})),x.createElement("textPath",{xlinkHref:"#".concat(N)},n))},kZ=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,c=(o+l)/2;if(n==="outside"){var{x:d,y:f}=$r(r,i,s+t,c);return{x:d,y:f,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+s)/2,{x:m,y:p}=$r(r,i,h,c);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},Gb=e=>"cx"in e&&Pt(e.cx),SZ=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!Gb(n)&&(a=n);var{x:s,y:o,upperWidth:l,lowerWidth:c,height:d}=t,f=s,h=s+(l-c)/2,m=(f+h)/2,p=(l+c)/2,g=f+l/2,y=d>=0?1:-1,v=y*r,b=y>0?"end":"start",w=y>0?"start":"end",S=l>=0?1:-1,C=S*r,N=S>0?"end":"start",A=S>0?"start":"end";if(i==="top"){var E={x:f+l/2,y:o-v,textAnchor:"middle",verticalAnchor:b};return Tr(Tr({},E),a?{height:Math.max(o-a.y,0),width:l}:{})}if(i==="bottom"){var $={x:h+c/2,y:o+d+v,textAnchor:"middle",verticalAnchor:w};return Tr(Tr({},$),a?{height:Math.max(a.y+a.height-(o+d),0),width:c}:{})}if(i==="left"){var T={x:m-C,y:o+d/2,textAnchor:N,verticalAnchor:"middle"};return Tr(Tr({},T),a?{width:Math.max(T.x-a.x,0),height:d}:{})}if(i==="right"){var M={x:m+p+C,y:o+d/2,textAnchor:A,verticalAnchor:"middle"};return Tr(Tr({},M),a?{width:Math.max(a.x+a.width-M.x,0),height:d}:{})}var O=a?{width:p,height:d}:{};return i==="insideLeft"?Tr({x:m+C,y:o+d/2,textAnchor:A,verticalAnchor:"middle"},O):i==="insideRight"?Tr({x:m+p-C,y:o+d/2,textAnchor:N,verticalAnchor:"middle"},O):i==="insideTop"?Tr({x:f+l/2,y:o+v,textAnchor:"middle",verticalAnchor:w},O):i==="insideBottom"?Tr({x:h+c/2,y:o+d-v,textAnchor:"middle",verticalAnchor:b},O):i==="insideTopLeft"?Tr({x:f+C,y:o+v,textAnchor:A,verticalAnchor:w},O):i==="insideTopRight"?Tr({x:f+l-C,y:o+v,textAnchor:N,verticalAnchor:w},O):i==="insideBottomLeft"?Tr({x:h+C,y:o+d-v,textAnchor:A,verticalAnchor:b},O):i==="insideBottomRight"?Tr({x:h+c-C,y:o+d-v,textAnchor:N,verticalAnchor:b},O):i&&typeof i=="object"&&(Pt(i.x)||ho(i.x))&&(Pt(i.y)||ho(i.y))?Tr({x:s+wa(i.x,p),y:o+wa(i.y,d),textAnchor:"end",verticalAnchor:"end"},O):Tr({x:g,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},O)},NZ={angle:0,offset:5,zIndex:hi.label,position:"middle",textBreakAll:!1};function Uo(e){var t=Hr(e,NZ),{viewBox:n,position:r,value:i,children:a,content:s,className:o="",textBreakAll:l,labelRef:c}=t,d=xZ(),f=pL(),h=r==="center"?f:d??f,m,p,g;if(n==null?m=h:Gb(n)?m=n:m=T5(n),!m||Wr(i)&&Wr(a)&&!x.isValidElement(s)&&typeof s!="function")return null;var y=Tr(Tr({},t),{},{viewBox:m});if(x.isValidElement(s)){var{labelRef:v}=y,b=aP(y,uZ);return x.cloneElement(s,b)}if(typeof s=="function"){var{content:w}=y,S=aP(y,dZ);if(p=x.createElement(s,S),x.isValidElement(p))return p}else p=yZ(t);var C=zi(t);if(Gb(m)){if(r==="insideStart"||r==="insideEnd"||r==="end")return wZ(t,r,p,C,m);g=kZ(m,t.offset,t.position)}else g=SZ(t,m);return x.createElement(ks,{zIndex:t.zIndex},x.createElement(ov,Qs({ref:c,className:Tn("recharts-label",o)},C,g,{textAnchor:aZ(C.textAnchor)?C.textAnchor:g.textAnchor,breakAll:l}),p))}Uo.displayName="Label";var CZ=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?x.createElement(Uo,Qs({key:"label-implicit"},r)):Rs(e)?x.createElement(Uo,Qs({key:"label-implicit",value:e},r)):x.isValidElement(e)?e.type===Uo?x.cloneElement(e,Tr({key:"label-implicit"},r)):x.createElement(Uo,Qs({key:"label-implicit",content:e},r)):kS(e)?x.createElement(Uo,Qs({key:"label-implicit",content:e},r)):e&&typeof e=="object"?x.createElement(Uo,Qs({},e,{key:"label-implicit"},r)):null};function jZ(e){var{label:t,labelRef:n}=e,r=pL();return CZ(t,r,n)||null}var gL={},vL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(vL);var xL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(xL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vL,n=xL,r=b0;function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(gL);var AZ=gL.last;const PZ=bs(AZ);var TZ=["valueAccessor"],EZ=["dataKey","clockWise","id","textBreakAll","zIndex"];function Ag(){return Ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ag.apply(null,arguments)}function oP(e,t){if(e==null)return{};var n,r,i=DZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function DZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var MZ=e=>Array.isArray(e.value)?PZ(e.value):e.value,yL=x.createContext(void 0),OZ=yL.Provider,bL=x.createContext(void 0),IZ=bL.Provider;function _Z(){return x.useContext(yL)}function LZ(){return x.useContext(bL)}function ap(e){var{valueAccessor:t=MZ}=e,n=oP(e,TZ),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:o}=n,l=oP(n,EZ),c=_Z(),d=LZ(),f=c||d;return!f||!f.length?null:x.createElement(ks,{zIndex:o??hi.label},x.createElement(ra,{className:"recharts-label-list"},f.map((h,m)=>{var p,g=Wr(r)?t(h,m):ar(h&&h.payload,r),y=Wr(a)?{}:{id:"".concat(a,"-").concat(m)};return x.createElement(Uo,Ag({key:"label-".concat(m)},zi(h),l,y,{fill:(p=n.fill)!==null&&p!==void 0?p:h.fill,parentViewBox:h.parentViewBox,value:g,textBreakAll:s,viewBox:h.viewBox,index:m,zIndex:0}))})))}ap.displayName="LabelList";function wL(e){var{label:t}=e;return t?t===!0?x.createElement(ap,{key:"labelList-implicit"}):x.isValidElement(t)||kS(t)?x.createElement(ap,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(ap,Ag({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Yb(){return Yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yb.apply(null,arguments)}var kL=e=>{var{cx:t,cy:n,r,className:i}=e,a=Tn("recharts-dot",i);return Pt(t)&&Pt(n)&&Pt(r)?x.createElement("circle",Yb({},Ka(e),z1(e),{className:a,cx:t,cy:n,r})):null},SL=e=>e.graphicalItems.polarItems,$Z=pe([dr,ym],Kk),lv=pe([SL,br,$Z],Gk),FZ=pe([lv],Yk),cv=pe([FZ,_k],Xk),RZ=pe([cv,br,lv],Zk);pe([cv,br,lv],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var a,s=ar(r,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:ar(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var lP=()=>{},BZ=pe([cv,br,lv,rv,dr],nS),zZ=pe([br,eS,tS,lP,BZ,lP,zn,dr],rS),NL=pe([br,zn,cv,RZ,xm,dr,zZ],iS),UZ=pe([NL,br,ad],oS);pe([br,NL,UZ,dr],cS);var VZ={radiusAxis:{},angleAxis:{}},CL=sa({name:"polarAxis",initialState:VZ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:uge,removeRadiusAxis:dge,addAngleAxis:fge,removeAngleAxis:mge}=CL.actions,WZ=CL.reducer;function cP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cP(Object(n),!0).forEach(function(r){HZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HZ(e,t,n){return(t=qZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qZ(e){var t=KZ(e,"string");return typeof t=="symbol"?t:t+""}function KZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GZ=(e,t)=>t,SS=pe([SL,GZ],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),YZ=[],NS=(e,t,n)=>(n==null?void 0:n.length)===0?YZ:n,jL=pe([_k,SS,NS],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>uP(uP({},t.presentationProps),a.props))),i!=null)return i}}),XZ=pe([jL,SS,NS],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var a,s=ar(r,t.nameKey,t.name),o;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?o=r.fill:o=t.fill,{value:O0(s,t.dataKey),color:o,payload:r,type:t.legendType}})}),QZ=pe([jL,SS,NS,ni],(e,t,n,r)=>{if(!(t==null||e==null))return uee({offset:r,pieSettings:t,displayedData:e,cells:n})}),AL={exports:{}},qn={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv=60103,dv=60106,Am=60107,Pm=60108,Tm=60114,Em=60109,Dm=60110,Mm=60112,Om=60113,CS=60120,Im=60115,_m=60116,PL=60121,TL=60122,EL=60117,DL=60129,ML=60131;if(typeof Symbol=="function"&&Symbol.for){var ui=Symbol.for;uv=ui("react.element"),dv=ui("react.portal"),Am=ui("react.fragment"),Pm=ui("react.strict_mode"),Tm=ui("react.profiler"),Em=ui("react.provider"),Dm=ui("react.context"),Mm=ui("react.forward_ref"),Om=ui("react.suspense"),CS=ui("react.suspense_list"),Im=ui("react.memo"),_m=ui("react.lazy"),PL=ui("react.block"),TL=ui("react.server.block"),EL=ui("react.fundamental"),DL=ui("react.debug_trace_mode"),ML=ui("react.legacy_hidden")}function Ss(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case uv:switch(e=e.type,e){case Am:case Tm:case Pm:case Om:case CS:return e;default:switch(e=e&&e.$$typeof,e){case Dm:case Mm:case _m:case Im:case Em:return e;default:return t}}case dv:return t}}}var ZZ=Em,JZ=uv,eJ=Mm,tJ=Am,nJ=_m,rJ=Im,iJ=dv,aJ=Tm,sJ=Pm,oJ=Om;qn.ContextConsumer=Dm;qn.ContextProvider=ZZ;qn.Element=JZ;qn.ForwardRef=eJ;qn.Fragment=tJ;qn.Lazy=nJ;qn.Memo=rJ;qn.Portal=iJ;qn.Profiler=aJ;qn.StrictMode=sJ;qn.Suspense=oJ;qn.isAsyncMode=function(){return!1};qn.isConcurrentMode=function(){return!1};qn.isContextConsumer=function(e){return Ss(e)===Dm};qn.isContextProvider=function(e){return Ss(e)===Em};qn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===uv};qn.isForwardRef=function(e){return Ss(e)===Mm};qn.isFragment=function(e){return Ss(e)===Am};qn.isLazy=function(e){return Ss(e)===_m};qn.isMemo=function(e){return Ss(e)===Im};qn.isPortal=function(e){return Ss(e)===dv};qn.isProfiler=function(e){return Ss(e)===Tm};qn.isStrictMode=function(e){return Ss(e)===Pm};qn.isSuspense=function(e){return Ss(e)===Om};qn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Am||e===Tm||e===DL||e===Pm||e===Om||e===CS||e===ML||typeof e=="object"&&e!==null&&(e.$$typeof===_m||e.$$typeof===Im||e.$$typeof===Em||e.$$typeof===Dm||e.$$typeof===Mm||e.$$typeof===EL||e.$$typeof===PL||e[0]===TL)};qn.typeOf=Ss;AL.exports=qn;var lJ=AL.exports,dP=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",fP=null,Sx=null,OL=e=>{if(e===fP&&Array.isArray(Sx))return Sx;var t=[];return x.Children.forEach(e,n=>{Wr(n)||(lJ.isFragment(n)?t=t.concat(OL(n.props.children)):t.push(n))}),Sx=t,fP=e,t};function IL(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>dP(i)):r=[dP(t)],OL(e).forEach(i=>{var a=hc(i,"type.displayName")||hc(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var _L=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,LL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(LL);var cJ=LL.isPlainObject;const uJ=bs(cJ);var mP,hP,pP,gP,vP;function xP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xP(Object(n),!0).forEach(function(r){dJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dJ(e,t,n){return(t=fJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fJ(e){var t=mJ(e,"string");return typeof t=="symbol"?t:t+""}function mJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pg(){return Pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pg.apply(null,arguments)}function Dd(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var bP=(e,t,n,r,i)=>{var a=n-r,s;return s=Nr(mP||(mP=Dd(["M ",",",""])),e,t),s+=Nr(hP||(hP=Dd(["L ",",",""])),e+n,t),s+=Nr(pP||(pP=Dd(["L ",",",""])),e+n-a/2,t+i),s+=Nr(gP||(gP=Dd(["L ",",",""])),e+n-a/2-r,t+i),s+=Nr(vP||(vP=Dd(["L ",","," Z"])),e,t),s},hJ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},pJ=e=>{var t=Hr(e,hJ),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:o}=t,{animationEasing:l,animationDuration:c,animationBegin:d,isUpdateAnimationActive:f}=t,h=x.useRef(null),[m,p]=x.useState(-1),g=x.useRef(i),y=x.useRef(a),v=x.useRef(s),b=x.useRef(n),w=x.useRef(r),S=H0(e,"trapezoid-");if(x.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var Q=h.current.getTotalLength();Q&&p(Q)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var C=Tn("recharts-trapezoid",o);if(!f)return x.createElement("g",null,x.createElement("path",Pg({},zi(t),{className:C,d:bP(n,r,i,a,s)})));var N=g.current,A=y.current,E=v.current,$=b.current,T=w.current,M="0px ".concat(m===-1?1:m,"px"),O="".concat(m,"px 0px"),Y=V5(["strokeDasharray"],c,l);return x.createElement(W0,{animationId:S,key:S,canBegin:m>0,duration:c,easing:l,isActive:f,begin:d},Q=>{var re=Ai(N,i,Q),ce=Ai(A,a,Q),K=Ai(E,s,Q),G=Ai($,n,Q),L=Ai(T,r,Q);h.current&&(g.current=re,y.current=ce,v.current=K,b.current=G,w.current=L);var P=Q>0?{transition:Y,strokeDasharray:O}:{strokeDasharray:M};return x.createElement("path",Pg({},zi(t),{className:C,d:bP(G,L,re,ce,K),ref:h,style:yP(yP({},P),t.style)}))})},gJ=["option","shapeType","activeClassName"];function vJ(e,t){if(e==null)return{};var n,r,i=xJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function wP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wP(Object(n),!0).forEach(function(r){yJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yJ(e,t,n){return(t=bJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bJ(e){var t=wJ(e,"string");return typeof t=="symbol"?t:t+""}function wJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kJ(e,t){return Tg(Tg({},t),e)}function SJ(e,t){return e==="symbols"}function kP(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return x.createElement(K5,n);case"trapezoid":return x.createElement(pJ,n);case"sector":return x.createElement(Q5,n);case"symbols":if(SJ(t))return x.createElement(B1,n);break;case"curve":return x.createElement(dk,n);default:return null}}function NJ(e){return x.isValidElement(e)?e.props:e}function $L(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=vJ(e,gJ),a;if(x.isValidElement(t))a=x.cloneElement(t,Tg(Tg({},i),NJ(t)));else if(typeof t=="function")a=t(i,i.index);else if(uJ(t)&&typeof t!="boolean"){var s=kJ(t,i);a=x.createElement(kP,{shapeType:n,elementProps:s})}else{var o=i;a=x.createElement(kP,{shapeType:n,elementProps:o})}return i.isActive?x.createElement(ra,{className:r},a):a}var CJ=(e,t,n)=>{var r=Xn();return(i,a)=>s=>{e==null||e(i,a,s),r(I3({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},jJ=e=>{var t=Xn();return(n,r)=>i=>{e==null||e(n,r,i),t(TY())}},AJ=(e,t,n)=>{var r=Xn();return(i,a)=>s=>{e==null||e(i,a,s),r(EY({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function FL(e){var{tooltipEntrySettings:t}=e,n=Xn(),r=oa(),i=x.useRef(null);return x.useLayoutEffect(()=>{r||(i.current===null?n(CY(t)):i.current!==t&&n(jY({prev:i.current,next:t})),i.current=t)},[t,n,r]),x.useLayoutEffect(()=>()=>{i.current&&(n(AY(i.current)),i.current=null)},[n]),null}function PJ(e){var{legendPayload:t}=e,n=Xn(),r=oa(),i=x.useRef(null);return x.useLayoutEffect(()=>{r||(i.current===null?n(F5(t)):i.current!==t&&n(R5({prev:i.current,next:t})),i.current=t)},[n,r,t]),x.useLayoutEffect(()=>()=>{i.current&&(n(B5(i.current)),i.current=null)},[n]),null}function TJ(e){var{legendPayload:t}=e,n=Xn(),r=jt(zn),i=x.useRef(null);return x.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(F5(t)):i.current!==t&&n(R5({prev:i.current,next:t})),i.current=t)},[n,r,t]),x.useLayoutEffect(()=>()=>{i.current&&(n(B5(i.current)),i.current=null)},[n]),null}var Nx,EJ=()=>{var[e]=x.useState(()=>Df("uid-"));return e},DJ=(Nx=WR.useId)!==null&&Nx!==void 0?Nx:EJ;function MJ(e,t){var n=DJ();return t||(e?"".concat(e,"-").concat(n):n)}var OJ=x.createContext(void 0),RL=e=>{var{id:t,type:n,children:r}=e,i=MJ("recharts-".concat(n),t);return x.createElement(OJ.Provider,{value:i},r(i))},IJ={cartesianItems:[],polarItems:[]},BL=sa({name:"graphicalItems",initialState:IJ,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:lr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=fs(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:lr()},removeCartesianGraphicalItem:{reducer(e,t){var n=fs(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:lr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:lr()},removePolarGraphicalItem:{reducer(e,t){var n=fs(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:lr()}}}),{addCartesianGraphicalItem:_J,replaceCartesianGraphicalItem:LJ,removeCartesianGraphicalItem:$J,addPolarGraphicalItem:FJ,removePolarGraphicalItem:RJ}=BL.actions,BJ=BL.reducer,zJ=e=>{var t=Xn(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?t(_J(e)):n.current!==e&&t(LJ({prev:n.current,next:e})),n.current=e},[t,e]),x.useLayoutEffect(()=>()=>{n.current&&(t($J(n.current)),n.current=null)},[t]),null},UJ=x.memo(zJ);function VJ(e){var t=Xn();return x.useLayoutEffect(()=>(t(FJ(e)),()=>{t(RJ(e))}),[t,e]),null}var WJ=["key"],HJ=["onMouseEnter","onClick","onMouseLeave"],qJ=["id"],KJ=["id"];function SP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SP(Object(n),!0).forEach(function(r){GJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GJ(e,t,n){return(t=YJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YJ(e){var t=XJ(e,"string");return typeof t=="symbol"?t:t+""}function XJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dl(){return dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dl.apply(null,arguments)}function fv(e,t){if(e==null)return{};var n,r,i=QJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function QJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ZJ(e){var t=x.useMemo(()=>IL(e.children,qu),[e.children]),n=jt(r=>XZ(r,e.id,t));return n==null?null:x.createElement(TJ,{legendPayload:n})}var JJ=x.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:c,id:d}=e,f={dataDefinedOnItem:r.map(h=>h.tooltipPayload),positions:r.map(h=>h.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:n,name:O0(o,t),hide:l,type:c,color:s,unit:"",graphicalItemId:d}};return x.createElement(FL,{tooltipEntrySettings:f})}),eee=(e,t)=>e>t?"start":e<t?"end":"middle",tee=(e,t,n)=>wa(typeof t=="function"?t(e):t,n,n*.8),nee=(e,t,n)=>{var{top:r,left:i,width:a,height:s}=t,o=G5(a,s),l=i+wa(e.cx,a,a/2),c=r+wa(e.cy,s,s/2),d=wa(e.innerRadius,o,0),f=tee(n,e.outerRadius,o),h=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:f,maxRadius:h}},ree=(e,t)=>{var n=Pi(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function iee(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var aee=(e,t)=>{if(x.isValidElement(e))return x.cloneElement(e,t);if(typeof e=="function")return e(t);var n=Tn("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,i=fv(t,WJ);return x.createElement(dk,dl({},i,{type:"linear",className:n}))},see=(e,t,n)=>{if(x.isValidElement(e))return x.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),x.isValidElement(r)))return r;var i=Tn("recharts-pie-label-text",iee(e));return x.createElement(ov,dl({},t,{alignmentBaseline:"middle",className:i}),r)};function oee(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:a,dataKey:s}=n;if(!r||!i||!t)return null;var o=Ka(n),l=$u(i),c=$u(a),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,f=t.map((h,m)=>{var p=(h.startAngle+h.endAngle)/2,g=$r(h.cx,h.cy,h.outerRadius+d,p),y=jr(jr(jr(jr({},o),h),{},{stroke:"none"},l),{},{index:m,textAnchor:eee(g.x,h.cx)},g),v=jr(jr(jr(jr({},o),h),{},{fill:"none",stroke:h.fill},c),{},{index:m,points:[$r(h.cx,h.cy,h.outerRadius,p),g],key:"line"});return x.createElement(ks,{zIndex:hi.label,key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},x.createElement(ra,null,a&&aee(a,v),see(i,y,ar(h,s))))});return x.createElement(ra,{className:"recharts-pie-labels"},f)}function lee(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?x.createElement(wL,{label:i}):x.createElement(oee,{sectors:t,props:n,showLabels:r})}function cee(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:a,id:s}=e,o=jt(Hu),l=jt(G3),c=jt(pX),{onMouseEnter:d,onClick:f,onMouseLeave:h}=i,m=fv(i,HJ),p=CJ(d,i.dataKey,s),g=jJ(h),y=AJ(f,i.dataKey,s);return t==null||t.length===0?null:x.createElement(x.Fragment,null,t.map((v,b)=>{if((v==null?void 0:v.startAngle)===0&&(v==null?void 0:v.endAngle)===0&&t.length!==1)return null;var w=c==null||c===s,S=String(b)===o&&(l==null||i.dataKey===l)&&w,C=o?r:null,N=n&&S?n:C,A=jr(jr({},v),{},{stroke:v.stroke,tabIndex:-1,[b5]:b,[w5]:s});return x.createElement(ra,dl({key:"sector-".concat(v==null?void 0:v.startAngle,"-").concat(v==null?void 0:v.endAngle,"-").concat(v.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},U1(m,v,b),{onMouseEnter:p(v,b),onMouseLeave:g(v,b),onClick:y(v,b)}),x.createElement($L,dl({option:a??N,index:b,shapeType:"sector",isActive:S},A)))}))}function uee(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:a}=e,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:c,nameKey:d,tooltipType:f}=n,h=Math.abs(n.minAngle),m=ree(o,l),p=Math.abs(m),g=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,y=r.filter(N=>ar(N,c,0)!==0).length,v=(p>=360?y:y-1)*g,b=p-y*h-v,w=r.reduce((N,A)=>{var E=ar(A,c,0);return N+(Pt(E)?E:0)},0),S;if(w>0){var C;S=r.map((N,A)=>{var E=ar(N,c,0),$=ar(N,d,A),T=nee(n,a,N),M=(Pt(E)?E:0)/w,O,Y=jr(jr({},N),i&&i[A]&&i[A].props);A?O=C.endAngle+Pi(m)*g*(E!==0?1:0):O=o;var Q=O+Pi(m)*((E!==0?h:0)+M*b),re=(O+Q)/2,ce=(T.innerRadius+T.outerRadius)/2,K=[{name:$,value:E,payload:Y,dataKey:c,type:f,graphicalItemId:n.id}],G=$r(T.cx,T.cy,ce,re);return C=jr(jr(jr(jr({},n.presentationProps),{},{percent:M,cornerRadius:typeof s=="string"?parseFloat(s):s,name:$,tooltipPayload:K,midAngle:re,middleRadius:ce,tooltipPosition:G},Y),T),{},{value:E,dataKey:c,startAngle:O,endAngle:Q,payload:Y,paddingAngle:Pi(m)*g}),C})}return S}function dee(e){var{showLabels:t,sectors:n,children:r}=e,i=x.useMemo(()=>!t||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,t]);return x.createElement(IZ,{value:t?i:void 0},r)}function fee(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:d,onAnimationStart:f,onAnimationEnd:h}=t,m=H0(t,"recharts-pie-"),p=n.current,[g,y]=x.useState(!1),v=x.useCallback(()=>{typeof h=="function"&&h(),y(!1)},[h]),b=x.useCallback(()=>{typeof f=="function"&&f(),y(!0)},[f]);return x.createElement(dee,{showLabels:!g,sectors:i},x.createElement(W0,{animationId:m,begin:s,duration:o,isActive:a,easing:l,onAnimationStart:b,onAnimationEnd:v,key:m},w=>{var S=[],C=i&&i[0],N=C==null?void 0:C.startAngle;return i==null||i.forEach((A,E)=>{var $=p&&p[E],T=E>0?hc(A,"paddingAngle",0):0;if($){var M=Ai($.endAngle-$.startAngle,A.endAngle-A.startAngle,w),O=jr(jr({},A),{},{startAngle:N+T,endAngle:N+M+T});S.push(O),N=O.endAngle}else{var{endAngle:Y,startAngle:Q}=A,re=Ai(0,Y-Q,w),ce=jr(jr({},A),{},{startAngle:N+T,endAngle:N+re+T});S.push(ce),N=ce.endAngle}}),n.current=S,x.createElement(ra,null,x.createElement(cee,{sectors:S,activeShape:c,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:r}))}),x.createElement(lee,{showLabels:!g,sectors:i,props:t}),t.children)}var mee={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:hi.area};function hee(e){var{id:t}=e,n=fv(e,qJ),{hide:r,className:i,rootTabIndex:a}=e,s=x.useMemo(()=>IL(e.children,qu),[e.children]),o=jt(d=>QZ(d,t,s)),l=x.useRef(null),c=Tn("recharts-pie",i);return r||o==null?(l.current=null,x.createElement(ra,{tabIndex:a,className:c})):x.createElement(ks,{zIndex:e.zIndex},x.createElement(JJ,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),x.createElement(ra,{tabIndex:a,className:c},x.createElement(fee,{props:jr(jr({},n),{},{sectors:o}),previousSectorsRef:l,id:t})))}function Eg(e){var t=Hr(e,mee),{id:n}=t,r=fv(t,KJ),i=Ka(r);return x.createElement(RL,{id:n,type:"pie"},a=>x.createElement(x.Fragment,null,x.createElement(VJ,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),x.createElement(ZJ,dl({},r,{id:a})),x.createElement(hee,dl({},r,{id:a}))))}Eg.displayName="Pie";var pee=["points"];function NP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NP(Object(n),!0).forEach(function(r){gee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gee(e,t,n){return(t=vee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vee(e){var t=xee(e,"string");return typeof t=="symbol"?t:t+""}function xee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dg(){return Dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dg.apply(null,arguments)}function yee(e,t){if(e==null)return{};var n,r,i=bee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function wee(e){var{option:t,dotProps:n,className:r}=e;if(x.isValidElement(t))return x.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Tn(r,typeof t!="boolean"?t.className:""),a=n??{},{points:s}=a,o=yee(a,pee);return x.createElement(kL,Dg({},o,{className:i}))}function kee(e,t){return e==null?!1:t?!0:e.length===1}function See(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:l,zIndex:c=hi.scatter}=e;if(!kee(t,n))return null;var d=_L(n),f=t8(n),h=t.map((p,g)=>{var y,v,b=Cx(Cx(Cx({r:3},s),f),{},{index:g,cx:(y=p.x)!==null&&y!==void 0?y:void 0,cy:(v=p.y)!==null&&v!==void 0?v:void 0,dataKey:a,value:p.value,payload:p.payload,points:t});return x.createElement(wee,{key:"dot-".concat(g),option:n,dotProps:b,className:i})}),m={};return o&&l!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(l,")")),x.createElement(ks,{zIndex:c},x.createElement(ra,Dg({className:r},m),h))}function CP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(n),!0).forEach(function(r){Nee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nee(e,t,n){return(t=Cee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cee(e){var t=jee(e,"string");return typeof t=="symbol"?t:t+""}function jee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Aee={xAxis:{},yAxis:{},zAxis:{}},zL=sa({name:"cartesianAxis",initialState:Aee,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:lr()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:lr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:lr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:lr()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:lr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:lr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:lr()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:lr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:lr()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);e.yAxis[n]=jP(jP({},e.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:Pee,replaceXAxis:Tee,removeXAxis:Eee,addYAxis:Dee,replaceYAxis:Mee,removeYAxis:Oee,addZAxis:hge,replaceZAxis:pge,removeZAxis:gge,updateYAxisWidth:Iee}=zL.actions,_ee=zL.reducer,Lee=pe([ni],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),$ee=pe([Lee,ko,So],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),jS=()=>jt($ee),Fee=()=>jt(bX);function AP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AP(Object(n),!0).forEach(function(r){Ree(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ree(e,t,n){return(t=Bee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bee(e){var t=zee(e,"string");return typeof t=="symbol"?t:t+""}function zee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uee=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var o={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=jx(jx(jx({},o),$u(i)),z1(i)),c;return x.isValidElement(i)?c=x.cloneElement(i,l):typeof i=="function"?c=i(l):c=x.createElement(kL,l),x.createElement(ra,{className:"recharts-active-dot",clipPath:s},c)};function Vee(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:s=hi.activeDot}=e,o=jt(Hu),l=Fee();if(t==null||l==null)return null;var c=t.find(d=>l.includes(d.payload));return Wr(c)?null:x.createElement(ks,{zIndex:s},x.createElement(Uee,{point:c,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var UL=e=>{var{chartData:t}=e,n=Xn(),r=oa();return x.useEffect(()=>r?()=>{}:(n(WA(t)),()=>{n(WA(void 0))}),[t,n,r]),null},PP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},VL=sa({name:"brush",initialState:PP,reducers:{setBrushSettings(e,t){return t.payload==null?PP:t.payload}}}),{setBrushSettings:vge}=VL.actions,Wee=VL.reducer;function Hee(e,t,n){return(t=qee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qee(e){var t=Kee(e,"string");return typeof t=="symbol"?t:t+""}function Kee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class AS{static create(t){return new AS(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}Hee(AS,"EPS",1e-4);function Gee(e){return(e%180+180)%180}var Yee=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Gee(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},Xee={dots:[],areas:[],lines:[]},WL=sa({name:"referenceElements",initialState:Xee,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=fs(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=fs(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=fs(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:xge,removeDot:yge,addArea:bge,removeArea:wge,addLine:kge,removeLine:Sge}=WL.actions,Qee=WL.reducer,Zee=x.createContext(void 0),Jee=e=>{var{children:t}=e,[n]=x.useState("".concat(Df("recharts"),"-clip")),r=jS();if(r==null)return null;var{x:i,y:a,width:s,height:o}=r;return x.createElement(Zee.Provider,{value:n},x.createElement("defs",null,x.createElement("clipPath",{id:n},x.createElement("rect",{x:i,y:a,height:o,width:s}))),t)};function HL(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function ete(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Yee(r,n)}function tte(e,t,n){var r=n==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function Hf(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function nte(e,t){return HL(e,t+1)}function rte(e,t,n,r,i){for(var a=(r||[]).slice(),{start:s,end:o}=t,l=0,c=1,d=s,f=function(){var p=r==null?void 0:r[l];if(p===void 0)return{v:HL(r,c)};var g=l,y,v=()=>(y===void 0&&(y=n(p,g)),y),b=p.coordinate,w=l===0||Hf(e,b,v,d,o);w||(l=0,d=s,c+=1),w&&(d=b+e*(v()/2+i),l+=c)},h;c<=a.length;)if(h=f(),h)return h.v;return[]}function ite(e,t,n,r,i){var a=(r||[]).slice(),s=a.length;if(s===0)return[];for(var{start:o,end:l}=t,c=1;c<=s;c++){for(var d=(s-1)%c,f=o,h=!0,m=function(){var b=r[p],w=p,S,C=()=>(S===void 0&&(S=n(b,w)),S),N=b.coordinate,A=p===d||Hf(e,N,C,f,l);if(!A)return h=!1,1;A&&(f=N+e*(C()/2+i))},p=d;p<s&&!m();p+=c);if(h){for(var g=[],y=d;y<s;y+=c)g.push(r[y]);return g}}return[]}function TP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ni(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(n),!0).forEach(function(r){ate(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ate(e,t,n){return(t=ste(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ste(e){var t=ote(e,"string");return typeof t=="symbol"?t:t+""}function ote(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lte(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,c=function(h){var m=a[h],p,g=()=>(p===void 0&&(p=n(m,h)),p);if(h===s-1){var y=e*(m.coordinate+e*g()/2-l);a[h]=m=Ni(Ni({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate})}else a[h]=m=Ni(Ni({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var v=Hf(e,m.tickCoord,g,o,l);v&&(l=m.tickCoord-e*(g()/2+i),a[h]=Ni(Ni({},m),{},{isShow:!0}))}},d=s-1;d>=0;d--)c(d);return a}function cte(e,t,n,r,i,a){var s=(r||[]).slice(),o=s.length,{start:l,end:c}=t;if(a){var d=r[o-1],f=n(d,o-1),h=e*(d.coordinate+e*f/2-c);if(s[o-1]=d=Ni(Ni({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var m=Hf(e,d.tickCoord,()=>f,l,c);m&&(c=d.tickCoord-e*(f/2+i),s[o-1]=Ni(Ni({},d),{},{isShow:!0}))}}for(var p=a?o-1:o,g=function(b){var w=s[b],S,C=()=>(S===void 0&&(S=n(w,b)),S);if(b===0){var N=e*(w.coordinate-e*C()/2-l);s[b]=w=Ni(Ni({},w),{},{tickCoord:N<0?w.coordinate-N*e:w.coordinate})}else s[b]=w=Ni(Ni({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var A=Hf(e,w.tickCoord,C,l,c);A&&(l=w.tickCoord+e*(C()/2+i),s[b]=Ni(Ni({},w),{},{isShow:!0}))}},y=0;y<p;y++)g(y);return s}function PS(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:c,unit:d,angle:f}=e;if(!i||!i.length||!r)return[];if(Pt(l)||V0.isSsr){var h;return(h=nte(i,Pt(l)?l:0))!==null&&h!==void 0?h:[]}var m=[],p=o==="top"||o==="bottom"?"width":"height",g=d&&p==="width"?ef(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},y=(w,S)=>{var C=typeof c=="function"?c(w.value,S):w.value;return p==="width"?ete(ef(C,{fontSize:t,letterSpacing:n}),g,f):ef(C,{fontSize:t,letterSpacing:n})[p]},v=i.length>=2?Pi(i[1].coordinate-i[0].coordinate):1,b=tte(a,v,p);return l==="equidistantPreserveStart"?rte(v,b,y,i,s):l==="equidistantPreserveEnd"?ite(v,b,y,i,s):(l==="preserveStart"||l==="preserveStartEnd"?m=cte(v,b,y,i,s,l==="preserveStartEnd"):m=lte(v,b,y,i,s),m.filter(w=>w.isShow))}var ute=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=n?n.getBoundingClientRect().width:0,l=i+a,c=s+l+o+(n?r:0);return Math.round(c)}return 0},dte=["axisLine","width","height","className","hide","ticks","axisType"];function fte(e,t){if(e==null)return{};var n,r,i=mte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function wc(){return wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wc.apply(null,arguments)}function EP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(n),!0).forEach(function(r){hte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hte(e,t,n){return(t=pte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pte(e){var t=gte(e,"string");return typeof t=="symbol"?t:t+""}function gte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var so={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:hi.axis};function vte(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var c=_r(_r(_r({},l),Ka(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!s||a==="bottom"&&s);c=_r(_r({},c),{},{x1:t,y1:n+d*i,x2:t+r,y2:n+d*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);c=_r(_r({},c),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+i})}return x.createElement("line",wc({},c,{className:Tn("recharts-cartesian-axis-line",hc(o,"className"))}))}function xte(e,t,n,r,i,a,s,o,l){var c,d,f,h,m,p,g=o?-1:1,y=e.tickSize||s,v=Pt(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":c=d=e.coordinate,h=n+ +!o*i,f=h-g*y,p=f-g*l,m=v;break;case"left":f=h=e.coordinate,d=t+ +!o*r,c=d-g*y,m=c-g*l,p=v;break;case"right":f=h=e.coordinate,d=t+ +o*r,c=d+g*y,m=c+g*l,p=v;break;default:c=d=e.coordinate,h=n+ +o*i,f=h+g*y,p=f+g*l,m=v;break}return{line:{x1:c,y1:f,x2:d,y2:h},tick:{x:m,y:p}}}function yte(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function bte(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function wte(e){var{option:t,tickProps:n,value:r}=e,i,a=Tn(n.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))i=x.cloneElement(t,_r(_r({},n),{},{className:a}));else if(typeof t=="function")i=t(_r(_r({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Tn(s,t==null?void 0:t.className)),i=x.createElement(ov,wc({},n,{className:s}),r)}return i}var kte=x.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:c,orientation:d,mirror:f,x:h,y:m,width:p,height:g,tickSize:y,tickMargin:v,fontSize:b,letterSpacing:w,getTicksConfig:S,events:C,axisType:N}=e,A=PS(_r(_r({},S),{},{ticks:n}),b,w),E=yte(d,f),$=bte(d,f),T=Ka(S),M=$u(r),O={};typeof i=="object"&&(O=i);var Y=_r(_r({},T),{},{fill:"none"},O),Q=A.map(K=>_r({entry:K},xte(K,h,m,p,g,d,y,f,v))),re=Q.map(K=>{var{entry:G,line:L}=K;return x.createElement(ra,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(G.value,"-").concat(G.coordinate,"-").concat(G.tickCoord)},i&&x.createElement("line",wc({},Y,L,{className:Tn("recharts-cartesian-axis-tick-line",hc(i,"className"))})))}),ce=Q.map((K,G)=>{var{entry:L,tick:P}=K,j=_r(_r(_r(_r({textAnchor:E,verticalAnchor:$},T),{},{stroke:"none",fill:a},M),P),{},{index:G,payload:L,visibleTicksCount:A.length,tickFormatter:s,padding:l},c);return x.createElement(ra,wc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(L.value,"-").concat(L.coordinate,"-").concat(L.tickCoord)},U1(C,L,G)),r&&x.createElement(wte,{option:r,tickProps:j,value:"".concat(typeof s=="function"?s(L.value,G):L.value).concat(o||"")}))});return x.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(N,"-ticks")},ce.length>0&&x.createElement(ks,{zIndex:hi.label},x.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(N,"-tick-labels"),ref:t},ce)),re.length>0&&x.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(N,"-tick-lines")},re))}),Ste=x.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:o,axisType:l}=e,c=fte(e,dte),[d,f]=x.useState(""),[h,m]=x.useState(""),p=x.useRef(null);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return ute({ticks:p.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=x.useCallback(y=>{if(y){var v=y.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=v;var b=v[0];if(b){var w=window.getComputedStyle(b),S=w.fontSize,C=w.letterSpacing;(S!==d||C!==h)&&(f(S),m(C))}}},[d,h]);return s||r!=null&&r<=0||i!=null&&i<=0?null:x.createElement(ks,{zIndex:e.zIndex},x.createElement(ra,{className:Tn("recharts-cartesian-axis",a)},x.createElement(vte,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Ka(e)}),x.createElement(kte,{ref:g,axisType:l,events:c,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),x.createElement(gZ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},x.createElement(jZ,{label:e.label,labelRef:e.labelRef}),e.children)))}),TS=x.forwardRef((e,t)=>{var n=Hr(e,so);return x.createElement(Ste,wc({},n,{ref:t}))});TS.displayName="CartesianAxis";var Nte=["x1","y1","x2","y2","key"],Cte=["offset"],jte=["xAxisId","yAxisId"],Ate=["xAxisId","yAxisId"];function DP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ji(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DP(Object(n),!0).forEach(function(r){Pte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pte(e,t,n){return(t=Tte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tte(e){var t=Ete(e,"string");return typeof t=="symbol"?t:t+""}function Ete(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zl(){return Zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zl.apply(null,arguments)}function Mg(e,t){if(e==null)return{};var n,r,i=Dte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Dte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Mte=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:o}=e;return x.createElement("rect",{x:r,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function qL(e){var{option:t,lineItemProps:n}=e,r;if(x.isValidElement(t))r=x.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:s,x2:o,y2:l,key:c}=n,d=Mg(n,Nte),f=(i=Ka(d))!==null&&i!==void 0?i:{},{offset:h}=f,m=Mg(f,Cte);r=x.createElement("line",Zl({},m,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:c}))}return r}function Ote(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=Mg(e,jte),l=i.map((c,d)=>{var f=ji(ji({},o),{},{x1:t,y1:c,x2:t+n,y2:c,key:"line-".concat(d),index:d});return x.createElement(qL,{key:"line-".concat(d),option:r,lineItemProps:f})});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Ite(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=Mg(e,Ate),l=i.map((c,d)=>{var f=ji(ji({},o),{},{x1:c,y1:t,x2:c,y2:t+n,key:"line-".concat(d),index:d});return x.createElement(qL,{option:r,lineItemProps:f,key:"line-".concat(d)})});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function _te(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length||o==null)return null;var c=o.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==c[0]&&c.unshift(0);var d=c.map((f,h)=>{var m=!c[h+1],p=m?i+s-f:c[h+1]-f;if(p<=0)return null;var g=h%t.length;return x.createElement("rect",{key:"react-".concat(h),y:f,x:r,height:p,width:a,stroke:"none",fill:t[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Lte(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:o,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var c=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==c[0]&&c.unshift(0);var d=c.map((f,h)=>{var m=!c[h+1],p=m?i+s-f:c[h+1]-f;if(p<=0)return null;var g=h%n.length;return x.createElement("rect",{key:"react-".concat(h),x:f,y:a,width:p,height:o,stroke:"none",fill:n[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var $te=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return v5(PS(ji(ji(ji({},so),n),{},{ticks:x5(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},Fte=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return v5(PS(ji(ji(ji({},so),n),{},{ticks:x5(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},Rte={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:hi.grid};function qf(e){var t=ok(),n=lk(),r=E5(),i=ji(ji({},Hr(e,Rte)),{},{x:Pt(e.x)?e.x:r.left,y:Pt(e.y)?e.y:r.top,width:Pt(e.width)?e.width:r.width,height:Pt(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:c,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=i,p=oa(),g=jt($=>OA($,"xAxis",a,p)),y=jt($=>OA($,"yAxis",s,p));if(!Bs(c)||!Bs(d)||!Pt(o)||!Pt(l))return null;var v=i.verticalCoordinatesGenerator||$te,b=i.horizontalCoordinatesGenerator||Fte,{horizontalPoints:w,verticalPoints:S}=i;if((!w||!w.length)&&typeof b=="function"){var C=h&&h.length,N=b({yAxis:y?ji(ji({},y),{},{ticks:C?h:y.ticks}):void 0,width:t??c,height:n??d,offset:r},C?!0:f);ig(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(w=N)}if((!S||!S.length)&&typeof v=="function"){var A=m&&m.length,E=v({xAxis:g?ji(ji({},g),{},{ticks:A?m:g.ticks}):void 0,width:t??c,height:n??d,offset:r},A?!0:f);ig(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(S=E)}return x.createElement(ks,{zIndex:i.zIndex},x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(Mte,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(_te,Zl({},i,{horizontalPoints:w})),x.createElement(Lte,Zl({},i,{verticalPoints:S})),x.createElement(Ote,Zl({},i,{offset:r,horizontalPoints:w,xAxis:g,yAxis:y})),x.createElement(Ite,Zl({},i,{offset:r,verticalPoints:S,xAxis:g,yAxis:y}))))}qf.displayName="CartesianGrid";var Bte={},KL=sa({name:"errorBars",initialState:Bte,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Nge,replaceErrorBar:Cge,removeErrorBar:jge}=KL.actions,zte=KL.reducer,Ute=["children"];function Vte(e,t){if(e==null)return{};var n,r,i=Wte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Hte={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},qte=x.createContext(Hte);function Kte(e){var{children:t}=e,n=Vte(e,Ute);return x.createElement(qte.Provider,{value:n},t)}function GL(e,t){var n,r,i=jt(c=>Co(c,e)),a=jt(c=>jo(c,t)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Qr.allowDataOverflow,o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Zr.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function Gte(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=jS(),{needClipX:a,needClipY:s,needClip:o}=GL(t,n);if(!o||!i)return null;var{x:l,y:c,width:d,height:f}=i;return x.createElement("clipPath",{id:"clipPath-".concat(r)},x.createElement("rect",{x:a?l:l-d/2,y:s?c:c-f/2,width:a?d:d*2,height:s?f:f*2}))}var YL=(e,t,n,r)=>P3(e,"xAxis",t,r),XL=(e,t,n,r)=>A3(e,"xAxis",t,r),QL=(e,t,n,r)=>P3(e,"yAxis",n,r),ZL=(e,t,n,r)=>A3(e,"yAxis",n,r),Yte=pe([zn,YL,QL,XL,ZL],(e,t,n,r,i)=>vl(e,"xAxis")?rg(t,r,!1):rg(n,i,!1)),Xte=(e,t,n,r,i)=>i;function Qte(e){return e.type==="line"}var Zte=pe([o3,Xte],(e,t)=>e.filter(Qte).find(n=>n.id===t)),Jte=pe([zn,YL,QL,XL,ZL,Zte,Yte,Lk],(e,t,n,r,i,a,s,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:d}=o;if(!(a==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:h}=a,m;if(h!=null&&h.length>0?m=h:m=l==null?void 0:l.slice(c,d+1),m!=null)return Wne({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:f,bandSize:s,displayedData:m})}});function ene(e){var t=$u(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(o)||o<0)&&(o=r),{r:s,strokeWidth:o}}return{r:n,strokeWidth:r}}var tne={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm=x;function nne(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rne=typeof Object.is=="function"?Object.is:nne,ine=Lm.useSyncExternalStore,ane=Lm.useRef,sne=Lm.useEffect,one=Lm.useMemo,lne=Lm.useDebugValue;tne.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=ane(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=one(function(){function l(m){if(!c){if(c=!0,d=m,m=r(m),i!==void 0&&s.hasValue){var p=s.value;if(i(p,m))return f=p}return f=m}if(p=f,rne(d,m))return p;var g=r(m);return i!==void 0&&i(p,g)?(d=m,p):(d=m,f=g)}var c=!1,d,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var o=ine(e,a[0],a[1]);return sne(function(){s.hasValue=!0,s.value=o},[o]),lne(o),o};function cne(e){e()}function une(){let e=null,t=null;return{clear(){e=null,t=null},notify(){cne(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var MP={notify(){},get:()=>[]};function dne(e,t){let n,r=MP,i=0,a=!1;function s(g){d();const y=r.subscribe(g);let v=!1;return()=>{v||(v=!0,y(),f())}}function o(){r.notify()}function l(){p.onStateChange&&p.onStateChange()}function c(){return a}function d(){i++,n||(n=e.subscribe(l),r=une())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=MP)}function h(){a||(a=!0,d())}function m(){a&&(a=!1,f())}const p={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>r};return p}var fne=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mne=fne(),hne=()=>typeof navigator<"u"&&navigator.product==="ReactNative",pne=hne(),gne=()=>mne||pne?x.useLayoutEffect:x.useEffect,vne=gne();function OP(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function xne(e,t){if(OP(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!OP(e[n[i]],t[n[i]]))return!1;return!0}var Ax=Symbol.for("react-redux-context"),Px=typeof globalThis<"u"?globalThis:{};function yne(){if(!x.createContext)return{};const e=Px[Ax]??(Px[Ax]=new Map);let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var bne=yne();function wne(e){const{children:t,context:n,serverState:r,store:i}=e,a=x.useMemo(()=>{const l=dne(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=x.useMemo(()=>i.getState(),[i]);vne(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=n||bne;return x.createElement(o.Provider,{value:a},t)}var kne=wne,Sne=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Nne(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function ES(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(Sne.has(r)){if(e[r]==null&&t[r]==null)continue;if(!xne(e[r],t[r]))return!1}else if(!Nne(e[r],t[r]))return!1;return!0}var Cne=["id"],jne=["type","layout","connectNulls","needClip","shape"],Ane=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Kf(){return Kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kf.apply(null,arguments)}function IP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ds(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IP(Object(n),!0).forEach(function(r){Pne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pne(e,t,n){return(t=Tne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tne(e){var t=Ene(e,"string");return typeof t=="symbol"?t:t+""}function Ene(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DS(e,t){if(e==null)return{};var n,r,i=Dne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Dne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Mne=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:O0(n,t),payload:e}]},One=x.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:l,tooltipType:c,id:d}=e,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:O0(s,t),hide:o,type:c,color:r,unit:l,graphicalItemId:d}};return x.createElement(FL,{tooltipEntrySettings:f})}),JL=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Ine(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var _ne=(e,t,n)=>{var r=n.reduce((f,h)=>f+h);if(!r)return JL(t,e);for(var i=Math.floor(e/r),a=e%r,s=t-e,o=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>a){o=[...n.slice(0,l),a-c];break}var d=o.length%2===0?[0,s]:[s];return[...Ine(n,i),...o,...d].map(f=>"".concat(f,"px")).join(", ")};function Lne(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:a,needClip:s}=r,{id:o}=r,l=DS(r,Cne),c=Ka(l);return x.createElement(See,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:c,needClip:s,clipPathId:t})}function $ne(e){var{showLabels:t,children:n,points:r}=e,i=x.useMemo(()=>r==null?void 0:r.map(a=>{var s,o,l={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ds(Ds({},l),{},{value:a.value,payload:a.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return x.createElement(OZ,{value:t?i:void 0},n)}function _P(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:a}=e,{type:s,layout:o,connectNulls:l,needClip:c,shape:d}=a,f=DS(a,jne),h=Ds(Ds({},zi(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:r,type:s,layout:o,connectNulls:l,strokeDasharray:i??a.strokeDasharray});return x.createElement(x.Fragment,null,(r==null?void 0:r.length)>1&&x.createElement($L,Kf({shapeType:"curve",option:d},h,{pathRef:n})),x.createElement(Lne,{points:r,clipPathId:t,props:a}))}function Fne(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Rne(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,animateNewValues:h,width:m,height:p,onAnimationEnd:g,onAnimationStart:y}=n,v=i.current,b=H0(s,"recharts-line-"),w=x.useRef(b),[S,C]=x.useState(!1),N=!S,A=x.useCallback(()=>{typeof g=="function"&&g(),C(!1)},[g]),E=x.useCallback(()=>{typeof y=="function"&&y(),C(!0)},[y]),$=Fne(r.current),T=x.useRef(0);w.current!==b&&(T.current=a.current,w.current=b);var M=T.current;return x.createElement($ne,{points:s,showLabels:N},n.children,x.createElement(W0,{animationId:b,begin:c,duration:d,isActive:l,easing:f,onAnimationEnd:A,onAnimationStart:E,key:b},O=>{var Y=Ai(M,$+M,O),Q=Math.min(Y,$),re;if(l)if(o){var ce="".concat(o).split(/[,\s]+/gim).map(L=>parseFloat(L));re=_ne(Q,$,ce)}else re=JL($,Q);else re=o==null?void 0:String(o);if(O>0&&$>0&&(i.current=s,a.current=Math.max(a.current,Q)),v){var K=v.length/s.length,G=O===1?s:s.map((L,P)=>{var j=Math.floor(P*K);if(v[j]){var U=v[j];return Ds(Ds({},L),{},{x:Ai(U.x,L.x,O),y:Ai(U.y,L.y,O)})}return h?Ds(Ds({},L),{},{x:Ai(m*2,L.x,O),y:Ai(p/2,L.y,O)}):Ds(Ds({},L),{},{x:L.x,y:L.y})});return i.current=G,x.createElement(_P,{props:n,points:G,clipPathId:t,pathRef:r,strokeDasharray:re})}return x.createElement(_P,{props:n,points:s,clipPathId:t,pathRef:r,strokeDasharray:re})}),x.createElement(wL,{label:n.label}))}function Bne(e){var{clipPathId:t,props:n}=e,r=x.useRef(null),i=x.useRef(0),a=x.useRef(null);return x.createElement(Rne,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var zne=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:ar(e.payload,t)}};class Une extends x.Component{render(){var{hide:t,dot:n,points:r,className:i,xAxisId:a,yAxisId:s,top:o,left:l,width:c,height:d,id:f,needClip:h,zIndex:m}=this.props;if(t)return null;var p=Tn("recharts-line",i),g=f,{r:y,strokeWidth:v}=ene(n),b=_L(n),w=y*2+v,S=h?"url(#clipPath-".concat(b?"":"dots-").concat(g,")"):void 0;return x.createElement(ks,{zIndex:m},x.createElement(ra,{className:p},h&&x.createElement("defs",null,x.createElement(Gte,{clipPathId:g,xAxisId:a,yAxisId:s}),!b&&x.createElement("clipPath",{id:"clipPath-dots-".concat(g)},x.createElement("rect",{x:l-w/2,y:o-w/2,width:c+w,height:d+w}))),x.createElement(Kte,{xAxisId:a,yAxisId:s,data:r,dataPointFormatter:zne,errorBarOffset:0},x.createElement(Bne,{props:this.props,clipPathId:g}))),x.createElement(Vee,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:S}))}}var e4={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:hi.line,type:"linear"};function Vne(e){var t=Hr(e,e4),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,hide:c,isAnimationActive:d,label:f,legendType:h,xAxisId:m,yAxisId:p,id:g}=t,y=DS(t,Ane),{needClip:v}=GL(m,p),b=jS(),w=fm(),S=oa(),C=jt(T=>Jte(T,m,p,S,g));if(w!=="horizontal"&&w!=="vertical"||C==null||b==null)return null;var{height:N,width:A,x:E,y:$}=b;return x.createElement(Une,Kf({},y,{id:g,connectNulls:o,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:d,hide:c,label:f,legendType:h,xAxisId:m,yAxisId:p,points:C,layout:w,height:N,width:A,left:E,top:$,needClip:v}))}function Wne(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:l}=e;return l.map((c,d)=>{var f=ar(c,s);if(t==="horizontal"){var h=HC({axis:n,ticks:i,bandSize:o,entry:c,index:d}),m=Wr(f)?null:r.scale(f);return{x:h,y:m,value:f,payload:c}}var p=Wr(f)?null:n.scale(f),g=HC({axis:r,ticks:a,bandSize:o,entry:c,index:d});return p==null||g==null?null:{x:p,y:g,value:f,payload:c}}).filter(Boolean)}function Hne(e){var t=Hr(e,e4),n=oa();return x.createElement(RL,{id:t.id,type:"line"},r=>x.createElement(x.Fragment,null,x.createElement(PJ,{legendPayload:Mne(t)}),x.createElement(One,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),x.createElement(UJ,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),x.createElement(Vne,Kf({},t,{id:r}))))}var Zs=x.memo(Hne,ES);Zs.displayName="Line";var qne=["domain","range"],Kne=["domain","range"];function LP(e,t){if(e==null)return{};var n,r,i=Gne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Gne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function $P(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function t4(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=LP(e,qne),{domain:a,range:s}=t,o=LP(t,Kne);return!$P(n,a)||!$P(r,s)?!1:ES(i,o)}var Yne=["dangerouslySetInnerHTML","ticks","scale"],Xne=["id","scale"];function Xb(){return Xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xb.apply(null,arguments)}function FP(e,t){if(e==null)return{};var n,r,i=Qne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Qne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Zne(e){var t=Xn(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?t(Pee(e)):n.current!==e&&t(Tee({prev:n.current,next:e})),n.current=e},[e,t]),x.useLayoutEffect(()=>()=>{n.current&&(t(Eee(n.current)),n.current=null)},[t]),null}var Jne=e=>{var{xAxisId:t,className:n}=e,r=jt(k5),i=oa(),a="xAxis",s=jt(v=>j3(v,a,t,i)),o=jt(v=>lY(v,t)),l=jt(v=>hY(v,t)),c=jt(v=>i3(v,t));if(o==null||l==null||c==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:h}=e,m=FP(e,Yne),{id:p,scale:g}=c,y=FP(c,Xne);return x.createElement(TS,Xb({},m,y,{x:l.x,y:l.y,width:o.width,height:o.height,className:Tn("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:s,axisType:a}))},ere={allowDataOverflow:Qr.allowDataOverflow,allowDecimals:Qr.allowDecimals,allowDuplicatedCategory:Qr.allowDuplicatedCategory,angle:Qr.angle,axisLine:so.axisLine,height:Qr.height,hide:!1,includeHidden:Qr.includeHidden,interval:Qr.interval,minTickGap:Qr.minTickGap,mirror:Qr.mirror,orientation:Qr.orientation,padding:Qr.padding,reversed:Qr.reversed,scale:Qr.scale,tick:Qr.tick,tickCount:Qr.tickCount,tickLine:so.tickLine,tickSize:so.tickSize,type:Qr.type,xAxisId:0},tre=e=>{var t=Hr(e,ere);return x.createElement(x.Fragment,null,x.createElement(Zne,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),x.createElement(Jne,t))},Gf=x.memo(tre,t4);Gf.displayName="XAxis";var nre=["dangerouslySetInnerHTML","ticks","scale"],rre=["id","scale"];function Qb(){return Qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qb.apply(null,arguments)}function RP(e,t){if(e==null)return{};var n,r,i=ire(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ire(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function are(e){var t=Xn(),n=x.useRef(null);return x.useLayoutEffect(()=>{n.current===null?t(Dee(e)):n.current!==e&&t(Mee({prev:n.current,next:e})),n.current=e},[e,t]),x.useLayoutEffect(()=>()=>{n.current&&(t(Oee(n.current)),n.current=null)},[t]),null}var sre=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=x.useRef(null),s=x.useRef(null),o=jt(k5),l=oa(),c=Xn(),d="yAxis",f=jt(N=>vY(N,t)),h=jt(N=>gY(N,t)),m=jt(N=>j3(N,d,t,l)),p=jt(N=>a3(N,t));if(x.useLayoutEffect(()=>{if(!(r!=="auto"||!f||kS(i)||x.isValidElement(i)||p==null)){var N=a.current;if(N){var A=N.getCalculatedWidth();Math.round(f.width)!==Math.round(A)&&c(Iee({id:t,width:A}))}}},[m,f,c,i,t,r,p]),f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:y,scale:v}=e,b=RP(e,nre),{id:w,scale:S}=p,C=RP(p,rre);return x.createElement(TS,Qb({},b,C,{ref:a,labelRef:s,x:h.x,y:h.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:Tn("recharts-".concat(d," ").concat(d),n),viewBox:o,ticks:m,axisType:d}))},ore={allowDataOverflow:Zr.allowDataOverflow,allowDecimals:Zr.allowDecimals,allowDuplicatedCategory:Zr.allowDuplicatedCategory,angle:Zr.angle,axisLine:so.axisLine,hide:!1,includeHidden:Zr.includeHidden,interval:Zr.interval,minTickGap:Zr.minTickGap,mirror:Zr.mirror,orientation:Zr.orientation,padding:Zr.padding,reversed:Zr.reversed,scale:Zr.scale,tick:Zr.tick,tickCount:Zr.tickCount,tickLine:so.tickLine,tickSize:so.tickSize,type:Zr.type,width:Zr.width,yAxisId:0},lre=e=>{var t=Hr(e,ore);return x.createElement(x.Fragment,null,x.createElement(are,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),x.createElement(sre,t))},Yf=x.memo(lre,t4);Yf.displayName="YAxis";var cre=(e,t)=>t,MS=pe([cre,zn,t3,Kr,W3,Ao,OX,ni],BX),OS=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},n4=Ga("mouseClick"),r4=um();r4.startListening({actionCreator:n4,effect:(e,t)=>{var n=e.payload,r=MS(t.getState(),OS(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(DY({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Zb=Ga("mouseMove"),i4=um(),Oh=null;i4.startListening({actionCreator:Zb,effect:(e,t)=>{var n=e.payload;Oh!==null&&cancelAnimationFrame(Oh);var r=OS(n);Oh=requestAnimationFrame(()=>{var i=t.getState(),a=fS(i,i.tooltip.settings.shared);if(a==="axis"){var s=MS(i,r);(s==null?void 0:s.activeIndex)!=null?t.dispatch(L3({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(_3())}Oh=null})}});function ure(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var BP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},a4=sa({name:"rootProps",initialState:BP,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:BP.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),dre=a4.reducer,{updateOptions:fre}=a4.actions,s4=sa({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:mre}=s4.actions,hre=s4.reducer,o4=Ga("keyDown"),l4=Ga("focus"),IS=um();IS.startListening({actionCreator:o4,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=mS(i,ld(n),km(n),Cm(n)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var l=Ao(n);if(a==="Enter"){var c=jg(n,"axis","hover",String(i.index));t.dispatch(Wb({active:!i.active,activeIndex:i.index,activeCoordinate:c}));return}var d=wY(n),f=d==="left-to-right"?1:-1,h=a==="ArrowRight"?1:-1,m=o+h*f;if(!(l==null||m>=l.length||m<0)){var p=jg(n,"axis","hover",String(m));t.dispatch(Wb({active:!0,activeIndex:m.toString(),activeCoordinate:p}))}}}}}});IS.startListening({actionCreator:l4,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=jg(n,"axis","hover",String(a));t.dispatch(Wb({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var La=Ga("externalEvent"),c4=um(),Tx=new Map;c4.startListening({actionCreator:La,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=Tx.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=t.getState(),l={activeCoordinate:vX(o),activeDataKey:G3(o),activeIndex:Hu(o),activeLabel:K3(o),activeTooltipIndex:Hu(o),isTooltipActive:xX(o)};n(l,r)}finally{Tx.delete(i)}});Tx.set(i,s)}}});var pre=pe([sd],e=>e.tooltipItemPayloads),gre=pe([pre,Nm,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(o=>o.settings.graphicalItemId===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,n);return s}}}),u4=Ga("touchMove"),d4=um();d4.startListening({actionCreator:u4,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=fS(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var s=MS(r,OS({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(L3({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(b5),f=(o=c.getAttribute(w5))!==null&&o!==void 0?o:void 0,h=od(r).find(g=>g.id===f);if(d==null||h==null||f==null)return;var{dataKey:m}=h,p=gre(r,d,f);t.dispatch(I3({activeDataKey:m,activeIndex:d,activeCoordinate:p,activeGraphicalItemId:f}))}}}});var vre=UI({brush:Wee,cartesianAxis:_ee,chartData:gQ,errorBars:zte,graphicalItems:BJ,layout:Z9,legend:JW,options:dQ,polarAxis:WZ,polarOptions:hre,referenceElements:Qee,rootProps:dre,tooltip:MY,zIndex:eQ}),xre=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return S9({reducer:vre,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([r4.middleware,i4.middleware,IS.middleware,c4.middleware,d4.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(r5({type:"raf"}))},devTools:{serialize:{replacer:ure},name:"recharts-".concat(n)}})};function f4(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=oa(),a=x.useRef(null);if(i)return n;a.current==null&&(a.current=xre(t,r));var s=Q1;return x.createElement(kne,{context:s,store:a.current},n)}function yre(e){var{layout:t,margin:n}=e,r=Xn(),i=oa();return x.useEffect(()=>{i||(r(Y9(t)),r(G9(n)))},[r,i,t,n]),null}var m4=x.memo(yre,ES);function h4(e){var t=Xn();return x.useEffect(()=>{t(fre(e))},[t,e]),null}function zP(e){var{zIndex:t,isPanorama:n}=e,r=x.useRef(null),i=Xn();return x.useLayoutEffect(()=>(r.current&&i(ZX({zIndex:t,element:r.current,isPanorama:n})),()=>{i(JX({zIndex:t,isPanorama:n}))}),[i,t,n]),x.createElement("g",{tabIndex:-1,ref:r})}function UP(e){var{children:t,isPanorama:n}=e,r=jt(UX);if(!r||r.length===0)return t;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return x.createElement(x.Fragment,null,i.map(s=>x.createElement(zP,{key:s,zIndex:s,isPanorama:n})),t,a.map(s=>x.createElement(zP,{key:s,zIndex:s,isPanorama:n})))}var bre=["children"];function wre(e,t){if(e==null)return{};var n,r,i=kre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Og(){return Og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Og.apply(null,arguments)}var Sre={width:"100%",height:"100%",display:"block"},Nre=x.forwardRef((e,t)=>{var n=ok(),r=lk(),i=U5();if(!Bs(n)||!Bs(r))return null;var{children:a,otherAttributes:s,title:o,desc:l}=e,c,d;return s!=null&&(typeof s.tabIndex=="number"?c=s.tabIndex:c=i?0:void 0,typeof s.role=="string"?d=s.role:d=i?"application":void 0),x.createElement(_1,Og({},s,{title:o,desc:l,role:d,tabIndex:c,width:n,height:r,style:Sre,ref:t}),a)}),Cre=e=>{var{children:t}=e,n=jt($0);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return x.createElement(_1,{width:r,height:i,x:s,y:a},t)},VP=x.forwardRef((e,t)=>{var{children:n}=e,r=wre(e,bre),i=oa();return i?x.createElement(Cre,null,x.createElement(UP,{isPanorama:!0},n)):x.createElement(Nre,Og({ref:t},r),x.createElement(UP,{isPanorama:!1},n))});function jre(){var e=Xn(),[t,n]=x.useState(null),r=jt(mW);return x.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Rr(a)&&a!==r&&e(Q9(a))}},[t,e,r]),n}function WP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Are(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WP(Object(n),!0).forEach(function(r){Pre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pre(e,t,n){return(t=Tre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tre(e){var t=Ere(e,"string");return typeof t=="symbol"?t:t+""}function Ere(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kc(){return kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kc.apply(null,arguments)}var Dre=()=>(CQ(),null);function Ig(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Mre=x.forwardRef((e,t)=>{var n,r,i=x.useRef(null),[a,s]=x.useState({containerWidth:Ig((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Ig((r=e.style)===null||r===void 0?void 0:r.height)}),o=x.useCallback((c,d)=>{s(f=>{var h=Math.round(c),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),l=x.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=c.getBoundingClientRect();o(d,f);var h=p=>{var{width:g,height:y}=p[0].contentRect;o(g,y)},m=new ResizeObserver(h);m.observe(c),i.current=m}},[t,o]);return x.useEffect(()=>()=>{var c=i.current;c!=null&&c.disconnect()},[o]),x.createElement(x.Fragment,null,x.createElement(R0,{width:a.containerWidth,height:a.containerHeight}),x.createElement("div",kc({ref:l},e)))}),Ore=x.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=x.useState({containerWidth:Ig(n),containerHeight:Ig(r)}),s=x.useCallback((l,c)=>{a(d=>{var f=Math.round(l),h=Math.round(c);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),o=x.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:c,height:d}=l.getBoundingClientRect();s(c,d)}},[t,s]);return x.createElement(x.Fragment,null,x.createElement(R0,{width:i.containerWidth,height:i.containerHeight}),x.createElement("div",kc({ref:o},e)))}),Ire=x.forwardRef((e,t)=>{var{width:n,height:r}=e;return x.createElement(x.Fragment,null,x.createElement(R0,{width:n,height:r}),x.createElement("div",kc({ref:t},e)))}),_re=x.forwardRef((e,t)=>{var{width:n,height:r}=e;return ho(n)||ho(r)?x.createElement(Ore,kc({},e,{ref:t})):x.createElement(Ire,kc({},e,{ref:t}))});function Lre(e){return e===!0?Mre:_re}var $re=x.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:g,style:y,width:v,responsive:b,dispatchTouchEvents:w=!0}=e,S=x.useRef(null),C=Xn(),[N,A]=x.useState(null),[E,$]=x.useState(null),T=jre(),M=sk(),O=(M==null?void 0:M.width)>0?M.width:v,Y=(M==null?void 0:M.height)>0?M.height:i,Q=x.useCallback(F=>{T(F),typeof t=="function"&&t(F),A(F),$(F),F!=null&&(S.current=F)},[T,t,A,$]),re=x.useCallback(F=>{C(n4(F)),C(La({handler:a,reactEvent:F}))},[C,a]),ce=x.useCallback(F=>{C(Zb(F)),C(La({handler:c,reactEvent:F}))},[C,c]),K=x.useCallback(F=>{C(_3()),C(La({handler:d,reactEvent:F}))},[C,d]),G=x.useCallback(F=>{C(Zb(F)),C(La({handler:f,reactEvent:F}))},[C,f]),L=x.useCallback(()=>{C(l4())},[C]),P=x.useCallback(F=>{C(o4(F.key))},[C]),j=x.useCallback(F=>{C(La({handler:s,reactEvent:F}))},[C,s]),U=x.useCallback(F=>{C(La({handler:o,reactEvent:F}))},[C,o]),k=x.useCallback(F=>{C(La({handler:l,reactEvent:F}))},[C,l]),_=x.useCallback(F=>{C(La({handler:h,reactEvent:F}))},[C,h]),ae=x.useCallback(F=>{C(La({handler:g,reactEvent:F}))},[C,g]),ee=x.useCallback(F=>{w&&C(u4(F)),C(La({handler:p,reactEvent:F}))},[C,w,p]),V=x.useCallback(F=>{C(La({handler:m,reactEvent:F}))},[C,m]),ne=Lre(b);return x.createElement(tL.Provider,{value:N},x.createElement(zO.Provider,{value:E},x.createElement(ne,{width:O??(y==null?void 0:y.width),height:Y??(y==null?void 0:y.height),className:Tn("recharts-wrapper",r),style:Are({position:"relative",cursor:"default",width:O,height:Y},y),onClick:re,onContextMenu:j,onDoubleClick:U,onFocus:L,onKeyDown:P,onMouseDown:k,onMouseEnter:ce,onMouseLeave:K,onMouseMove:G,onMouseUp:_,onTouchEnd:V,onTouchMove:ee,onTouchStart:ae,ref:Q},x.createElement(Dre,null),n)))}),Fre=["width","height","responsive","children","className","style","compact","title","desc"];function Rre(e,t){if(e==null)return{};var n,r,i=Bre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Bre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var p4=x.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:o,compact:l,title:c,desc:d}=e,f=Rre(e,Fre),h=Ka(f);return l?x.createElement(x.Fragment,null,x.createElement(R0,{width:n,height:r}),x.createElement(VP,{otherAttributes:h,title:c,desc:d},a)):x.createElement($re,{className:s,style:o,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(VP,{otherAttributes:h,title:c,desc:d,ref:t},x.createElement(Jee,null,a)))});function Jb(){return Jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jb.apply(null,arguments)}var zre={top:5,right:5,bottom:5,left:5},Ure={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:zre,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Vre=x.forwardRef(function(t,n){var r,i=Hr(t.categoricalChartProps,Ure),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:c}=t,d={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return x.createElement(f4,{preloadedState:{options:d},reduxStoreName:(r=c.id)!==null&&r!==void 0?r:a},x.createElement(UL,{chartData:c.data}),x.createElement(m4,{layout:i.layout,margin:i.margin}),x.createElement(h4,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),x.createElement(p4,Jb({},i,{ref:n})))}),Wre=["axis"],_g=x.forwardRef((e,t)=>x.createElement(Vre,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Wre,tooltipPayloadSearcher:rL,categoricalChartProps:e,ref:t}));function Hre(e){var t=Xn();return x.useEffect(()=>{t(mre(e))},[t,e]),null}var qre=["layout"];function ew(){return ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ew.apply(null,arguments)}function Kre(e,t){if(e==null)return{};var n,r,i=Gre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Gre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Yre={top:5,right:5,bottom:5,left:5},g4={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Yre,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Xre=x.forwardRef(function(t,n){var r,i=Hr(t.categoricalChartProps,g4),{layout:a}=i,s=Kre(i,qre),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d}=t,f={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return x.createElement(f4,{preloadedState:{options:f},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:o},x.createElement(UL,{chartData:i.data}),x.createElement(m4,{layout:a,margin:i.margin}),x.createElement(h4,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),x.createElement(Hre,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),x.createElement(p4,ew({},s,{ref:n})))});function HP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HP(Object(n),!0).forEach(function(r){Qre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qre(e,t,n){return(t=Zre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zre(e){var t=Jre(e,"string");return typeof t=="symbol"?t:t+""}function Jre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eie=["item"],tie=qP(qP({},g4),{},{layout:"centric",startAngle:0,endAngle:360}),tw=x.forwardRef((e,t)=>{var n=Hr(e,tie);return x.createElement(Xre,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:eie,tooltipPayloadSearcher:rL,categoricalChartProps:n,ref:t})});const _n=({value:e,options:t,onChange:n,className:r="",activeClassName:i,inactiveClassName:a})=>u.jsx("div",{className:`pill-toggle-group flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1 text-[10px] uppercase tracking-[0.25em] text-gray-400 ${r}`,children:t.map(s=>u.jsx("button",{type:"button",onClick:()=>n(s.value),className:`pill-toggle-option px-2.5 py-1 rounded-full transition-colors ${e===s.value?`pill-toggle-option--active ${i}`:a}`,children:s.label},s.value))}),KP="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",tf=new Map,Au=new Map,nie=async e=>{var n;if(!((n=window==null?void 0:window.electronAPI)!=null&&n.fetchImageAsDataUrl))return;const t=Array.from(new Set(e)).filter(r=>/^https?:\/\//i.test(r));await Promise.all(t.map(async r=>{if(tf.has(r)||Au.has(r))return;const i=(async()=>{const a=await window.electronAPI.fetchImageAsDataUrl(r),s=a!=null&&a.success&&a.dataUrl?a.dataUrl:null;return s&&tf.set(r,s),s})();Au.set(r,i);try{await i}finally{Au.delete(r)}}))},rie=e=>{const[t,n]=x.useState(()=>{var r;return e?!((r=window==null?void 0:window.electronAPI)!=null&&r.fetchImageAsDataUrl)||!/^https?:\/\//i.test(e)?e:tf.get(e)||KP:null});return x.useEffect(()=>{var s;if(!e){n(null);return}if(!((s=window==null?void 0:window.electronAPI)!=null&&s.fetchImageAsDataUrl)){n(e);return}if(!/^https?:\/\//i.test(e)){n(e);return}const r=tf.get(e);if(r){n(r);return}let i=!0;const a=Au.get(e)||(async()=>{const o=await window.electronAPI.fetchImageAsDataUrl(e),l=o!=null&&o.success&&o.dataUrl?o.dataUrl:null;return l&&tf.set(e,l),l})();return Au.set(e,a),a.then(o=>{if(i){if(o){n(o);return}n(KP)}}).finally(()=>{Au.delete(e)}),()=>{i=!1}},[e]),t},iie=(e,t,n,r)=>{const[i,a]=x.useState("bottom"),[s,o]=x.useState(0);return x.useEffect(()=>{if(!e)return;const l=requestAnimationFrame(()=>{const c=n.current,d=r.current;if(!c||!d)return;const f=c.getBoundingClientRect(),h=d.getBoundingClientRect(),p=(E=>{let $=(E==null?void 0:E.parentElement)||null;for(;$;){const T=window.getComputedStyle($),M=`${T.overflow}${T.overflowY}${T.overflowX}`;if(/(auto|scroll|hidden)/.test(M))return $;$=$.parentElement}return null})(c),g=p?p.getBoundingClientRect():{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth},y=g.bottom-f.bottom,v=f.top-g.top,b=y<h.height+8&&v>y?"top":"bottom";a(b);const w=6,S=f.left+f.width/2,C=g.left+w+h.width/2,N=g.right-w-h.width/2,A=Math.min(Math.max(S,C),N);o(A-S)});return()=>cancelAnimationFrame(l)},[e,...t]),{placement:i,shiftX:s}},aie=(e,t=5)=>{const n=Object.entries(e).filter(([,i])=>i>0).sort((i,a)=>a[1]-i[1]||i[0].localeCompare(a[0])).map(([i,a])=>({profession:i,count:a})),r=[];for(let i=0;i<n.length;i+=t)r.push(n.slice(i,i+t));return r},v4=(e,t,n,r,i=8)=>{const[a,s]=x.useState({position:"fixed",top:-9999,left:-9999,transform:"translateX(-50%)"});return x.useEffect(()=>{if(!e)return;const o=()=>{const c=n.current,d=r.current;if(!c||!d)return;const f=c.getBoundingClientRect(),h=d.getBoundingClientRect(),m=window.innerHeight-f.bottom,p=f.top,g=m<h.height+i&&p>m?Math.max(i,f.top-h.height-i):Math.min(window.innerHeight-h.height-i,f.bottom+i),y=f.left+f.width/2,v=i+h.width/2,b=window.innerWidth-i-h.width/2,w=Math.min(Math.max(y,v),b);s({position:"fixed",top:g,left:w,transform:"translateX(-50%)"})},l=requestAnimationFrame(o);return window.addEventListener("scroll",o,!0),window.addEventListener("resize",o),()=>{cancelAnimationFrame(l),window.removeEventListener("scroll",o,!0),window.removeEventListener("resize",o)}},[e,i,...t]),a},sie=({profession:e,professionList:t,className:n="w-4 h-4 object-contain"})=>{const r=(t||[]).filter(Boolean),i=e==="Multi"&&r.length>0?r[0]:e,a=Gl(i||"Unknown"),s=r.length>1,[o,l]=x.useState(!1),c=x.useRef(null),d=x.useRef(null),f=`${n} object-contain`,{placement:h,shiftX:m}=iie(o,[r.length,f],c,d),p=Array.from(new Set(r.map(b=>rc(b||"Unknown")))).slice(0,4),g=p.length>1?`conic-gradient(${p.map((b,w)=>`${b} ${w*360/p.length}deg ${(w+1)*360/p.length}deg`).join(", ")})`:p[0]||"#9ca3af";if(!a)return null;const y=h==="top"?"bottom-full mb-2":"top-full mt-2",v={transform:`translateX(calc(-50% + ${m}px))`};return u.jsxs("span",{ref:c,className:`relative inline-flex shrink-0 ${s?"group":""}`,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[u.jsx("img",{src:a,alt:i||"Unknown",className:`${f} shrink-0`}),s&&u.jsxs(u.Fragment,{children:[u.jsx("span",{"aria-hidden":"true",className:"absolute -top-0.5 -right-0.5 h-2.5 w-2.5 rounded-full ring-1 ring-[#10141b] shadow-[0_0_0_1px_rgba(255,255,255,0.08)]",style:{background:g},children:u.jsx("span",{className:"absolute inset-[0.7px] rounded-full bg-[#0f141c]/90"})}),u.jsxs("div",{ref:d,style:v,className:`profession-multi-tooltip absolute left-1/2 z-50 w-max rounded-md border border-white/10 bg-black/70 px-2 py-1 text-[10px] text-gray-200 shadow-lg pointer-events-none ${y} ${o?"block":"hidden"}`,children:[u.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:"Multi"}),u.jsx("div",{className:"space-y-1",children:r.map(b=>{const w=Gl(b||"Unknown");return u.jsxs("div",{className:"flex items-center gap-1",children:[w?u.jsx("img",{src:w,alt:b||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,u.jsx("span",{className:"text-gray-100",children:b||"Unknown"})]},b)})})]})]})]})},oie=(e,t,n="w-4 h-4 object-contain")=>u.jsx(sie,{profession:e,professionList:t,className:n}),Ex=({count:e,classCounts:t,label:n,className:r})=>{const i=aie(t||{}),a=e>0,[s,o]=x.useState(!1),l=x.useRef(null),c=x.useRef(null),d=v4(s,[i.length,e],l,c);return u.jsxs("span",{ref:l,className:`relative inline-flex items-center justify-end ${a?"group cursor-help":""}`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[u.jsx("span",{className:r,children:e}),a&&typeof document<"u"&&Ju.createPortal(u.jsxs("div",{ref:c,style:d,className:`count-class-tooltip z-[9999] w-max rounded-md border border-white/10 bg-black/70 px-2 py-1 text-[10px] text-gray-200 shadow-lg pointer-events-none ${s?"block":"hidden"}`,children:[u.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:n}),i.length>0?u.jsx("div",{className:"grid grid-flow-col auto-cols-fr gap-2",children:i.map((f,h)=>u.jsx("div",{className:"space-y-1",children:f.map(({profession:m,count:p})=>{const g=Gl(m||"Unknown");return u.jsxs("div",{className:"flex items-center gap-1",children:[g?u.jsx("img",{src:g,alt:m||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,u.jsx("span",{className:"text-gray-100",children:m||"Unknown"}),u.jsx("span",{className:"text-gray-400",children:""}),u.jsx("span",{className:"text-gray-200",children:p})]},m)})},`${n}-col-${h}`))}):u.jsx("div",{className:"text-[10px] text-gray-500 italic",children:"No class data available"})]}),document.body)]})},Pr=({name:e,iconUrl:t,className:n="",iconClassName:r="h-4 w-4",textClassName:i=""})=>{const a=rie(t);return u.jsxs("span",{className:`inline-flex items-center gap-2 min-w-0 ${n}`,children:[a?u.jsx("img",{src:a,alt:e,className:`${r} shrink-0`}):null,u.jsx("span",{className:`truncate ${i}`,children:e})]})},GP=({value:e,label:t,items:n,className:r})=>{const i=n.length>0,[a,s]=x.useState(!1),o=x.useRef(null),l=x.useRef(null),c=v4(a,[n.length],o,l);return u.jsxs("span",{ref:o,className:`relative inline-flex items-center justify-end ${i?"group cursor-help":""} ${r||""}`,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[u.jsx("span",{children:e}),i&&typeof document<"u"&&Ju.createPortal(u.jsxs("div",{ref:l,style:c,className:`skill-breakdown-tooltip z-[9999] w-64 rounded-md border border-white/10 bg-black/70 px-3 py-2 text-[10px] text-gray-200 shadow-lg pointer-events-none ${a?"block":"hidden"}`,children:[u.jsx("div",{className:"text-[9px] uppercase tracking-wider text-amber-200 mb-1",children:t}),u.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:n.map(d=>u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsx("span",{className:"truncate text-gray-100",children:u.jsx(Pr,{name:d.name,iconUrl:d.iconUrl,iconClassName:"h-6 w-6"})}),u.jsx("span",{className:"text-gray-300 font-mono",children:d.value})]},d.name))})]}),document.body)]})},lie=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,selectedPlayers:o,setSelectedPlayers:l,removeSelectedPlayer:c,playerMapByKey:d,groupedSkillUsagePlayers:f,expandedSkillUsageClass:h,setExpandedSkillUsageClass:m,togglePlayerSelection:p,skillUsagePlayerFilter:g,setSkillUsagePlayerFilter:y,skillUsageView:v,setSkillUsageView:b,skillUsageData:w,skillUsageSkillFilter:S,setSkillUsageSkillFilter:C,selectedSkillId:N,setSelectedSkillId:A,skillBarData:E,selectedSkillName:$,selectedSkillIcon:T,skillUsageReady:M,skillUsageAvailable:O,isSkillUsagePerSecond:Y,skillChartData:Q,skillChartMaxY:re,playerTotalsForSkill:ce,hoveredSkillPlayer:K,setHoveredSkillPlayer:G,getLineStrokeColor:L,getLineDashForPlayer:P,formatSkillUsageValue:j,renderProfessionIcon:U})=>u.jsxs("div",{id:"skill-usage","data-section-visible":i("skill-usage"),"data-section-first":a("skill-usage"),className:s("skill-usage",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${e==="skill-usage"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[u.jsxs("div",{className:e==="skill-usage"?"pr-10 md:pr-0":"",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(S1,{className:"w-5 h-5 text-cyan-400"}),"Skill Usage Tracker"]}),u.jsx("p",{className:"text-xs text-gray-400",children:"Compare how often squad members cast a skill and drill into the timeline breakdown."})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(_n,{value:v,onChange:b,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[w.logRecords.length," ",w.logRecords.length===1?"log":"logs"]}),u.jsx("button",{type:"button",onClick:()=>e==="skill-usage"?r():n("skill-usage"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="skill-usage"?"absolute top-2 right-2 md:static":""}`,"aria-label":e==="skill-usage"?"Close Skill Usage":"Expand Skill Usage",title:e==="skill-usage"?"Close":"Expand",children:e==="skill-usage"?u.jsx(Hi,{className:"w-4 h-4"}):u.jsx(aa,{className:"w-4 h-4"})})]})]}),o.length>0&&u.jsxs("div",{className:"flex items-center gap-2 pb-2 overflow-x-auto pr-1 -mx-1 px-1",children:[u.jsx("button",{type:"button",onClick:()=>l([]),className:"shrink-0 px-3 py-1 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:"Clear All"}),o.map(k=>{const _=d.get(k);return _?u.jsxs("span",{className:"flex items-center gap-1 rounded-full border border-cyan-400/40 bg-cyan-500/10 px-3 py-1 text-xs text-cyan-200 shrink-0",children:[u.jsx("span",{className:"truncate max-w-[140px]",children:_.displayName}),u.jsxs("span",{className:"text-[10px] text-cyan-200/70",children:[_.logs," ",_.logs===1?"log":"logs"]}),u.jsx("button",{type:"button",onClick:()=>c(_.key),className:"rounded-full p-1 text-cyan-200 hover:bg-white/20",children:u.jsx(wO,{className:"w-3 h-3"})})]},_.key):null})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Squad Players"}),u.jsx("input",{type:"search",value:g,onChange:k=>y(k.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),u.jsx("div",{className:"skill-usage-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:f.length===0?u.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No squad players match the filter"}):f.map(k=>{const _=h===k.profession,ae=k.players.map(V=>V.key),ee=ae.length>0&&ae.every(V=>o.includes(V));return u.jsxs("div",{className:"border-b border-white/5 last:border-b-0",children:[u.jsx("button",{type:"button",onClick:()=>{if(_){m(null);return}m(k.profession)},className:`skill-usage-player-list-item w-full px-3 py-2 text-left transition-colors ${_?"bg-white/10":"hover:bg-white/5"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[U(k.profession,void 0,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:k.profession})]}),u.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[u.jsxs("span",{className:"text-[10px]",children:[k.players.length,"p"]}),_?u.jsx(eb,{className:"w-3.5 h-3.5"}):u.jsx(m6,{className:"w-3.5 h-3.5"})]})]})}),_&&u.jsxs("div",{className:"pb-2",children:[u.jsxs("div",{className:"px-6 pt-1 pb-2 flex items-center justify-between text-[11px] text-gray-400",children:[u.jsxs("span",{children:[k.players.length," ",k.players.length===1?"player":"players"]}),u.jsx("button",{type:"button",onClick:()=>{l(V=>{if(ee)return V.filter(F=>!ae.includes(F));const ne=new Set(V);return ae.forEach(F=>ne.add(F)),Array.from(ne)})},className:"skill-usage-player-list-item px-2 py-0.5 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:ee?"Clear All":"Select All"})]}),k.players.map(V=>{const ne=o.includes(V.key);return u.jsx("button",{type:"button",onClick:()=>p(V.key),className:`skill-usage-player-list-item w-full border-b border-white/5 px-6 py-2 text-left transition-colors last:border-b-0 ${ne?"border-cyan-400 bg-cyan-500/10 text-white":"border-transparent hover:border-white/10 hover:bg-white/5"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:V.displayName}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:[V.account,"  ",V.profession,"  ",V.logs," ",V.logs===1?"log":"logs"]})]}),ne&&u.jsx(xO,{className:"w-4 h-4 text-cyan-300"})]})},V.key)})]})]},k.profession)})})]}),u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Skill Totals"}),u.jsx("div",{className:"text-[11px] text-gray-500",children:o.length>0?`${o.length} player${o.length===1?"":"s"}  ${Y?"casts/sec":"total casts"}`:"Select players"})]}),u.jsx("input",{type:"search",value:S,onChange:k=>C(k.target.value),placeholder:"Filter skill names",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),u.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/20 p-0.5 flex-1 min-h-0",children:o.length===0?u.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"Select squad players to see the skills they cast."}):E.length===0?u.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"No skill casts found for the selected players."}):(()=>{const k=E.reduce((_,ae)=>Math.max(_,ae.total),0)||1;return u.jsx("div",{className:"space-y-0.5 h-full overflow-y-auto pr-0.5",children:E.map((_,ae)=>{const ee=Math.min(100,_.total/k*100),V=N===_.skillId;return u.jsxs("button",{type:"button",onClick:()=>A(_.skillId),className:`w-full space-y-1 rounded-lg border px-2 py-1.5 text-left transition-colors ${V?"border-white/60 bg-white/10":"border-white/10 bg-white/5 hover:border-white/30 hover:bg-white/10"}`,children:[u.jsxs("div",{className:"flex items-center justify-between text-sm text-white min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-400",children:`#${ae+1}`}),u.jsx(Pr,{name:_.name,iconUrl:_.icon,iconClassName:"h-6 w-6",className:"min-w-0 flex-1 max-w-[58vw] sm:max-w-none",textClassName:"font-semibold"})]}),u.jsx("span",{className:"text-cyan-200 font-mono text-xs shrink-0",children:j(_.total)})]}),u.jsx("div",{className:"h-1 w-full rounded-full bg-white/10",children:u.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${ee}%`,backgroundColor:_.color}})})]},_.skillId)})})})()})]})]}),u.jsx("div",{className:"space-y-3",children:M?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-4 rounded-2xl bg-black/50 p-4 mt-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:$?u.jsx(Pr,{name:$,iconUrl:T,iconClassName:"h-6 w-6"}):"Selected Skill Usage"}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:["(",Y?"casts per second":"casts per log",")"]})]}),u.jsx(gc,{width:"100%",height:250,children:u.jsxs(_g,{data:Q,children:[u.jsx(qf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Gf,{dataKey:"index",type:"number",tick:{fill:"#e2e8f0",fontSize:10},interval:0,tickFormatter:k=>{const _=Q[k],ae=String((_==null?void 0:_.shortLabel)??k);return ae.length>20?`${ae.slice(0,20)}`:ae}}),u.jsx(Yf,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,re)],allowDecimals:!1}),u.jsx(bc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},content:({active:k,payload:_,label:ae})=>{var F;if(!k||!_||_.length===0)return null;const ee=[..._].sort((J,ue)=>(ue.value||0)-(J.value||0)),V=ee[0],ne=((F=V==null?void 0:V.payload)==null?void 0:F.fullLabel)||ae;return u.jsxs("div",{className:"rounded-lg bg-slate-900/95 border border-white/10 px-3 py-2 shadow-xl",children:[u.jsx("div",{className:"text-sm text-white mb-1",children:ne}),u.jsx("div",{className:"space-y-1",children:ee.map(J=>{const ue=String(J.name||""),ie=d.get(ue),H=(ie==null?void 0:ie.displayName)||ue||"Player",B=j(Number(J.value||0)),I=J.color||"#38bdf8";return u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"truncate",style:{color:I},children:H}),u.jsx("span",{className:"text-gray-200 font-mono",children:B})]},`${H}-${B}`)})})]})}}),o.map(k=>{const _=K.includes(k),ae=K.length>0,ee=L(k,_,ae),V=P(k),ne=K.length>0&&!_;return u.jsx(Zs,{dataKey:k,stroke:ee,strokeWidth:_?4:3,strokeDasharray:V,opacity:ne?.6:1,dot:!1,isAnimationActive:o.length<=16,animationDuration:420,animationEasing:"ease-out"},k)})]})})]}),o.length>0&&u.jsxs("div",{className:"rounded-2xl bg-black/40 border border-white/10 p-4 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.4em] text-gray-400",children:"Selected Players"}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[o.length," ",o.length===1?"player":"players"]})]}),u.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:[...o].sort((k,_)=>(ce.get(_)||0)-(ce.get(k)||0)).map(k=>{const _=d.get(k),ae=ce.get(k)??0,ee=K.includes(k),V=K.length>0,ne=L(k,ee,V);return u.jsxs("button",{type:"button",onClick:()=>{G(F=>F.includes(k)?F.filter(J=>J!==k):[...F,k])},className:`w-full rounded-2xl border bg-white/5 p-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-left transition cursor-pointer focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/70 min-w-0 ${ee?"border-white/40 bg-white/10":"border-white/10 hover:border-white/30 hover:bg-white/10"}`,"aria-pressed":ee,children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("svg",{className:"h-2 w-6",viewBox:"0 0 24 4","aria-hidden":"true",children:u.jsx("line",{x1:"0",y1:"2",x2:"24",y2:"2",stroke:ne,strokeWidth:"2",strokeDasharray:P(k),strokeLinecap:"round"})}),U(_==null?void 0:_.profession,_==null?void 0:_.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.4em] text-gray-400",children:"Player"}),u.jsx("div",{className:"font-semibold text-white truncate",children:(_==null?void 0:_.displayName)||k}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:[(_==null?void 0:_.logs)??0," ",((_==null?void 0:_.logs)??0)===1?"log":"logs"]})]})]}),u.jsx("div",{className:"text-2xl sm:text-3xl font-black text-white font-mono self-end sm:self-auto shrink-0",children:j(ae)})]},k)})})]})]}):u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 mt-2 text-center text-xs text-gray-400",children:O?"Pick one skill and up to two players to visualize their usage over time.":"Upload or highlight logs with rotation data to enable the skill usage tracker."})})]}),cie=({containerRef:e,className:t=""})=>{const n=x.useRef(null),[r,i]=x.useState(0),[a,s]=x.useState(0),o=x.useRef(!1),l=x.useRef(0),c=x.useRef(0);x.useLayoutEffect(()=>{const h=e.current;if(!h)return;let m=0;const p=()=>{const{scrollWidth:w,clientWidth:S,scrollLeft:C}=h,N=w>S,A=n.current,E=(A==null?void 0:A.clientWidth)||0;if(!E){m=window.requestAnimationFrame(p);return}if(!N){i(E),s(0);return}const $=S/w,T=Math.max(20,Math.floor(E*$)),M=w-S,O=Math.max(0,E-T),Y=M>0?Math.floor(C/M*O):0;i(T),s(Y)};p();const g=()=>p(),y=new ResizeObserver(p);y.observe(h);const v=h.firstElementChild;v instanceof HTMLElement&&y.observe(v),n.current&&y.observe(n.current);const b=new MutationObserver(()=>p());return b.observe(h,{childList:!0,subtree:!0,attributes:!0}),window.addEventListener("resize",p),h.addEventListener("scroll",g),()=>{m&&window.cancelAnimationFrame(m),y.disconnect(),b.disconnect(),window.removeEventListener("resize",p),h.removeEventListener("scroll",g)}},[e]),x.useEffect(()=>{const h=p=>{if(!o.current)return;const g=n.current,y=e.current;if(!g||!y)return;const v=g.getBoundingClientRect(),b=p.clientX-l.current,w=Math.max(0,v.width-r),S=Math.min(w,Math.max(0,c.current+b)),C=y.scrollWidth-y.clientWidth,N=w>0?S/w*C:0;y.scrollLeft=N},m=()=>{o.current=!1};return window.addEventListener("pointermove",h),window.addEventListener("pointerup",m),()=>{window.removeEventListener("pointermove",h),window.removeEventListener("pointerup",m)}},[e,r]);const d=h=>{const m=n.current,p=e.current;if(!m||!p||r<=0)return;const g=m.getBoundingClientRect(),y=h.clientX-g.left,v=Math.max(0,g.width-r),b=Math.min(v,Math.max(0,y-r/2)),w=p.scrollWidth-p.clientWidth;p.scrollLeft=v>0?b/v*w:0},f=h=>{r<=0||(o.current=!0,l.current=h.clientX,c.current=a,h.currentTarget.setPointerCapture(h.pointerId))};return u.jsx("div",{className:`scroll-scrubber ${t}`,children:u.jsx("div",{ref:n,className:"scroll-scrubber__track",onClick:d,children:u.jsx("div",{className:"scroll-scrubber__thumb",style:{width:`${r}px`,transform:`translateX(${a}px)`},onPointerDown:f})})})},vs=({title:e,subtitle:t,controls:n,columns:r,rows:i,sortColumnId:a,sortDirection:s="desc",onSortColumn:o,className:l=""})=>{const c=x.useRef(null),d=["minmax(170px, max-content)",...r.map(f=>`minmax(${f.minWidth??60}px, max-content)`)].join(" ");return u.jsxs("div",{className:`dense-table ${l}`,children:[(e||t)&&u.jsxs("div",{className:"dense-table__header",children:[e&&u.jsx("div",{className:"dense-table__title",children:e}),t&&u.jsx("div",{className:"dense-table__subtitle",children:t})]}),n&&u.jsx("div",{className:"dense-table__controls",children:n}),u.jsx("div",{ref:c,className:"dense-table__scroll",children:u.jsxs("div",{className:"dense-table__grid",style:{gridTemplateColumns:d},children:[u.jsx("div",{className:"dense-table__head dense-table__head--sticky dense-table__head--pinned",children:u.jsx("div",{className:"dense-table__head-inner",children:"Player"})}),r.map(f=>{const h=!!o,p=a===f.id?s==="desc"?"":"":null;return u.jsx("div",{className:`dense-table__head ${f.align==="right"?"dense-table__cell--right":""}`,style:f.minWidth?{minWidth:f.minWidth}:void 0,children:h?u.jsxs("button",{type:"button",onClick:()=>o==null?void 0:o(f.id),className:"dense-table__head-inner",children:[u.jsx("span",{className:"truncate",children:f.label}),p&&u.jsx("span",{className:"text-[10px] text-slate-200",children:p})]}):u.jsx("div",{className:"dense-table__head-inner",children:f.label})},f.id)}),i.map(f=>u.jsxs("div",{className:"dense-table__row",children:[u.jsx("div",{className:"dense-table__cell dense-table__cell--label dense-table__cell--pinned",children:f.label}),r.map(h=>u.jsx("div",{className:`dense-table__cell ${h.align==="right"?"dense-table__cell--right":""}`,children:f.values[h.id]??"-"},`${f.id}-${h.id}`))]},f.id))]})}),u.jsx(cie,{containerRef:c})]})},xs=({options:e,selectedIds:t,placeholder:n="Search...",onSelect:r,className:i=""})=>{const[a,s]=x.useState(""),[o,l]=x.useState(!1),[c,d]=x.useState(0),f=x.useRef(null),h=x.useRef(null),m=x.useRef(new Map);x.useEffect(()=>{const v=b=>{f.current&&(f.current.contains(b.target)||l(!1))};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const p=x.useMemo(()=>{const v=a.trim().toLowerCase();return v?e.filter(b=>b.label.toLowerCase().includes(v)).slice(0,50):e.slice(0,50)},[e,a]),g=x.useMemo(()=>{const v=new Map;return p.forEach((b,w)=>{v.set(`${b.type}-${b.id}`,w)}),v},[p]),y=x.useMemo(()=>{const v=p.filter(w=>w.type==="column"),b=p.filter(w=>w.type==="player");return{columns:v,players:b}},[p]);return x.useEffect(()=>{if(o){if(p.length===0){d(0);return}d(v=>Math.min(Math.max(v,0),p.length-1))}},[p,o]),x.useEffect(()=>{if(!o)return;const v=p[c];if(!v)return;const b=`${v.type}-${v.id}`,w=m.current.get(b);w&&h.current&&w.scrollIntoView({block:"nearest"})},[c,p,o]),u.jsxs("div",{ref:f,className:`relative ${i}`,children:[u.jsx("input",{value:a,onChange:v=>{s(v.target.value),l(!0)},onKeyDown:v=>{if(!o&&(v.key==="ArrowDown"||v.key==="ArrowUp")){l(!0);return}if(o)if(v.key==="ArrowDown"){if(v.preventDefault(),p.length===0)return;d(b=>(b+1)%p.length)}else if(v.key==="ArrowUp"){if(v.preventDefault(),p.length===0)return;d(b=>(b-1+p.length)%p.length)}else if(v.key==="Enter"){v.preventDefault();const b=p[c];if(!b)return;r(b),s(""),l(!1)}else v.key==="Escape"&&(v.preventDefault(),l(!1))},onFocus:()=>l(!0),placeholder:n,className:"w-full sm:w-64 bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none"}),o&&u.jsx("div",{className:"absolute z-30 mt-2 w-64 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:p.length===0?u.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No matches"}):u.jsxs("div",{ref:h,className:"max-h-60 overflow-y-auto space-y-2 pr-1",children:[y.columns.length>0&&u.jsxs("div",{children:[u.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Columns"}),y.columns.map(v=>{const b=(t==null?void 0:t.has(`${v.type}:${v.id}`))??!1;return u.jsx("button",{type:"button",ref:w=>{m.current.set(`${v.type}-${v.id}`,w)},onClick:()=>{r(v),s(""),l(!1)},onMouseEnter:()=>{const w=g.get(`${v.type}-${v.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${c===g.get(`${v.type}-${v.id}`)?"bg-white/10 border-white/10":""} ${b?"bg-white/15 border-white/20":""}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[v.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:v.icon}):null,u.jsx("span",{className:"truncate",children:v.label})]})},`${v.type}-${v.id}`)})]}),y.players.length>0&&u.jsxs("div",{children:[u.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Players"}),y.players.map(v=>{const b=(t==null?void 0:t.has(`${v.type}:${v.id}`))??!1;return u.jsx("button",{type:"button",ref:w=>{m.current.set(`${v.type}-${v.id}`,w)},onClick:()=>{r(v),s(""),l(!1)},onMouseEnter:()=>{const w=g.get(`${v.type}-${v.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${c===g.get(`${v.type}-${v.id}`)?"bg-white/10 border-white/10":""} ${b?"bg-white/15 border-white/20":""}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[v.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:v.icon}):null,u.jsx("span",{className:"truncate",children:v.label})]})},`${v.type}-${v.id}`)})]})]})})]})},vr=({options:e,selectedIds:t,onToggle:n,onClear:r,className:i="",buttonLabel:a="Columns",buttonIcon:s})=>{const[o,l]=x.useState(!1),c=x.useRef(null),d=new Set(t);return x.useEffect(()=>{const f=h=>{c.current&&(c.current.contains(h.target)||l(!1))};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),u.jsxs("div",{ref:c,className:`relative ${i}`,children:[u.jsxs("button",{type:"button",onClick:()=>l(f=>!f),className:"flex items-center gap-2 rounded-lg border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold text-gray-300 hover:text-white hover:border-white/30 transition-colors",children:[s?u.jsx("span",{className:"h-3.5 w-3.5 text-gray-400",children:s}):null,u.jsx("span",{children:a}),t.length>0&&u.jsx("span",{className:"rounded-full bg-white/10 px-2 py-0.5 text-[10px] text-gray-200",children:t.length})]}),o&&u.jsxs("div",{className:"absolute z-20 mt-2 w-56 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between px-2 pb-2 text-[11px] uppercase tracking-widest text-gray-500",children:[u.jsx("span",{children:"Filter Columns"}),u.jsx("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-white",children:"Clear"})]}),u.jsx("div",{className:"max-h-56 overflow-y-auto space-y-1 pr-1",children:e.length===0?u.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No columns"}):e.map(f=>u.jsx("button",{type:"button",onClick:()=>n(f.id),className:`w-full text-left px-2 py-1.5 rounded-lg border transition-colors ${d.has(f.id)?"bg-white/10 border-white/20 text-white":"border-transparent text-gray-300 hover:bg-white/5 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`h-2.5 w-2.5 rounded-full border ${d.has(f.id)?"bg-emerald-400/80 border-emerald-300":"border-gray-500"}`}),f.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center shrink-0",children:f.icon}):null,u.jsx("span",{className:"truncate max-w-[140px]",children:f.label})]})},f.id))})]})]})},uie=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,sidebarListClass:o,apmSpecAvailable:l,skillUsageAvailable:c,apmSpecTables:d,activeApmSpec:f,setActiveApmSpec:h,expandedApmSpec:m,setExpandedApmSpec:p,activeApmSkillId:g,setActiveApmSkillId:y,ALL_SKILLS_KEY:v,apmSkillSearch:b,setApmSkillSearch:w,activeApmSpecTable:S,activeApmSkill:C,isAllApmSkills:N,apmView:A,setApmView:E,formatApmValue:$,formatCastRateValue:T,formatCastCountValue:M,renderProfessionIcon:O})=>{var V;const[Y,Q]=x.useState({key:"apm",dir:"desc"}),re=e==="apm-stats",[ce,K]=x.useState({columnId:"",dir:"desc"}),[G,L]=x.useState([]),[P,j]=x.useState([]),[U,k]=x.useState({}),_=re?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${o} max-h-72 overflow-y-auto`,ae=ne=>{Q(F=>({key:ne,dir:F.key===ne&&F.dir==="desc"?"asc":"desc"}))},ee=x.useMemo(()=>{const ne=[...(S==null?void 0:S.playerRows)||[]];return ne.sort((F,J)=>{const ue=Y.key==="apm"?Number(A==="perSecond"?F.aps:F.apm):Number(A==="perSecond"?F.apsNoAuto:F.apmNoAuto),ie=Y.key==="apm"?Number(A==="perSecond"?J.aps:J.apm):Number(A==="perSecond"?J.apsNoAuto:J.apmNoAuto);return(Y.dir==="desc"?ie-ue:ue-ie)||String(F.displayName||"").localeCompare(String(J.displayName||""))}),ne},[S,Y,A]);return u.jsxs("div",{id:"apm-stats","data-section-visible":i("apm-stats"),"data-section-first":a("apm-stats"),className:s("apm-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="apm-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(A1,{className:"w-5 h-5 text-emerald-300"}),"APM Breakdown"]}),u.jsxs("div",{className:"flex items-center gap-3 relative",children:[u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[d.length," ",d.length===1?"spec":"specs"]}),u.jsx("button",{type:"button",onClick:()=>e==="apm-stats"?r():n("apm-stats"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="apm-stats"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="apm-stats"?"Close APM Breakdown":"Expand APM Breakdown",title:e==="apm-stats"?"Close":"Expand",children:e==="apm-stats"?u.jsx(Hi,{className:"w-4 h-4"}):u.jsx(aa,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:e==="apm-stats"?"flex-1 min-h-0 flex flex-col":"",children:l?u.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="apm-stats"?"flex-1 min-h-0 h-full":""}`,children:[u.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="apm-stats"?"h-full":""}`,children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Elite Specs"}),u.jsx("div",{className:"mb-2",children:u.jsx("input",{type:"text",value:b,onChange:ne=>w(ne.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"})}),u.jsx("div",{className:_,children:d.map(ne=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const F=f!==ne.profession;h(ne.profession),p(F?ne.profession:m===ne.profession?null:ne.profession),F&&(y(v),L([]),j([]))},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${f===ne.profession?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[O(ne.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:ne.profession})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:u.jsxs("span",{className:"text-[10px]",children:[ne.players.length,"p"]})})]})}),!re&&m===ne.profession&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:U[ne.profession]||"",onChange:F=>{const J=F.target.value;k(ue=>({...ue,[ne.profession]:J}))},placeholder:"Filter this spec...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"}),u.jsx("button",{type:"button",onClick:()=>{h(ne.profession),y(v)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===ne.profession&&N?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Skills"}),(ne.skills||[]).filter(F=>{const J=(U[ne.profession]||"").trim().toLowerCase();return J?String(F.name||"").toLowerCase().includes(J):!0}).map(F=>u.jsx("button",{type:"button",onClick:()=>{h(ne.profession),y(F.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===ne.profession&&g===F.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:F.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[F.icon?u.jsx("img",{src:F.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate",children:F.name})]})},F.id)),(ne.skills||[]).filter(F=>{const J=(U[ne.profession]||"").trim().toLowerCase();return J?String(F.name||"").toLowerCase().includes(J):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},ne.profession))})]}),u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="apm-stats"?"flex flex-col min-h-0":""}`,children:S?u.jsxs("div",{className:e==="apm-stats"?"flex flex-col min-h-0":"",children:[re&&(()=>{const ne=S.skills||[],F=(S.playerRows||[]).map(H=>({id:H.key,label:H.displayName||H.account||H.key,icon:O(H.profession,H.professionList,"w-3 h-3")})),J=ne.map(H=>({id:H.id,label:H.name,icon:H.icon?u.jsx("img",{src:H.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),ue=[...ne.map(H=>({id:H.id,label:H.name,type:"column",icon:H.icon?u.jsx("img",{src:H.icon,alt:"",className:"h-4 w-4"}):void 0})),...(S.playerRows||[]).map(H=>({id:H.key,label:H.displayName||H.account||H.key,type:"player",icon:O(H.profession,H.professionList,"w-3 h-3")}))],ie=new Set([...G.map(H=>`column:${H}`),...P.map(H=>`player:${H}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"APM"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(xs,{options:ue,selectedIds:ie,onSelect:H=>{H.type==="column"?L(B=>B.includes(H.id)?B.filter(I=>I!==H.id):[...B,H.id]):j(B=>B.includes(H.id)?B.filter(I=>I!==H.id):[...B,H.id])},className:"w-full sm:w-64"}),u.jsx(vr,{options:J,selectedIds:G,onToggle:H=>{L(B=>B.includes(H)?B.filter(I=>I!==H):[...B,H])},onClear:()=>L([]),buttonLabel:"Columns",buttonIcon:u.jsx(ps,{className:"h-3.5 w-3.5"})}),u.jsx(vr,{options:F,selectedIds:P,onToggle:H=>{j(B=>B.includes(H)?B.filter(I=>I!==H):[...B,H])},onClear:()=>j([]),buttonLabel:"Players",buttonIcon:u.jsx(Ar,{className:"h-3.5 w-3.5"})}),u.jsx(_n,{value:A,onChange:E,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(G.length>0||P.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{L([]),j([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),G.map(H=>{var I;const B=((I=ne.find(te=>te.id===H))==null?void 0:I.name)||H;return u.jsxs("button",{type:"button",onClick:()=>L(te=>te.filter(Pe=>Pe!==H)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:B}),u.jsx("span",{className:"text-gray-400",children:""})]},H)}),P.map(H=>{var I;const B=((I=F.find(te=>te.id===H))==null?void 0:I.label)||H;return u.jsxs("button",{type:"button",onClick:()=>j(te=>te.filter(Pe=>Pe!==H)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:B}),u.jsx("span",{className:"text-gray-400",children:""})]},H)})]})]})})(),re?(()=>{var H,B;const ne=S.skills||[],F=G.length>0?ne.filter(I=>G.includes(I.id)):ne,J=P.length>0?(S.playerRows||[]).filter(I=>P.includes(I.key)):S.playerRows||[];if(ne.length===0)return u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No skills available for this class."});const ue=((H=F.find(I=>I.id===ce.columnId))==null?void 0:H.id)||((B=F[0])==null?void 0:B.id)||"",ie=[...J].map(I=>{const te={},Pe={};return F.forEach(Ue=>{var Oe;const se=Number(((Oe=Ue.playerCounts)==null?void 0:Oe.get(I.key))||0),Ye=A==="perSecond"?se/Math.max(1,I.totalActiveSeconds||0):se;Pe[Ue.id]=Ye,te[Ue.id]=A==="perSecond"?T(Ye):M(Ye)}),{row:I,values:te,numericValues:Pe}}).sort((I,te)=>{const Pe=I.numericValues[ue]??0,Ue=te.numericValues[ue]??0;return(ce.dir==="desc"?Ue-Pe:Pe-Ue)||String(I.row.displayName||"").localeCompare(String(te.row.displayName||""))});return u.jsx(vs,{title:"APM - Dense View",subtitle:"Skills",sortColumnId:ue,sortDirection:ce.dir,onSortColumn:I=>{K(te=>({columnId:I,dir:te.columnId===I&&te.dir==="desc"?"asc":"desc"}))},columns:F.map(I=>({id:I.id,label:u.jsx(Pr,{name:I.name,iconUrl:I.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:ie.map((I,te)=>({id:`${S.profession}-${I.row.key}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:te+1}),O(I.row.profession,I.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:I.row.displayName})]}),values:I.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"min-w-0 text-sm font-semibold text-gray-200",children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[O(S.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:S.profession}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),N||!C?u.jsx("span",{className:"truncate",children:"All Skills"}):u.jsx(Pr,{name:C.name,iconUrl:C.icon,iconClassName:"h-5 w-5"})]})}),u.jsx("div",{className:"text-[11px] text-gray-500",children:N||!C?`${((V=S.playerRows)==null?void 0:V.length)||0} players`:`${(C==null?void 0:C.totalCasts)??0} casts`})]}),N||!C?u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.7fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>ae("apm"),className:`text-right transition-colors ${Y.key==="apm"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[A==="perSecond"?"APS":"APM",Y.key==="apm"?Y.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>ae("apmNoAuto"),className:`text-right transition-colors ${Y.key==="apmNoAuto"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[A==="perSecond"?"APS":"APM"," (No Auto)",Y.key==="apmNoAuto"?Y.dir==="desc"?" ":" ":""]})]}):u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.4fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsx("div",{className:"text-right",children:"Casts"}),u.jsx("div",{className:"text-right",children:A==="perSecond"?"APS":"APM"})]})]}),N||!C?u.jsx(u.Fragment,{children:u.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:ee.map((ne,F)=>u.jsxs("div",{className:"grid grid-cols-[1.6fr_0.7fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${F+1}`}),O(ne.profession,ne.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:ne.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:$(A==="perSecond"?ne.aps:ne.apm)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:$(A==="perSecond"?ne.apsNoAuto:ne.apmNoAuto)})]},`${S.profession}-all-${ne.key}`))})}):u.jsx(u.Fragment,{children:u.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:((C==null?void 0:C.playerRows)||[]).length===0?u.jsx("div",{className:"px-4 py-8 text-center text-sm text-gray-500 italic border-t border-white/5",children:"No player rows available for this skill."}):((C==null?void 0:C.playerRows)||[]).map((ne,F)=>u.jsxs("div",{className:"grid grid-cols-[1.4fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${F+1}`}),O(ne.profession,ne.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:ne.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:M(Number(ne.count||0))}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:$(Number(A==="perSecond"?ne.aps||0:ne.apm||0))})]},`${S.profession}-${C.id}-${ne.key}`))})})]})]}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select an elite spec to view APM details"})})]}):u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:c?"No APM data available for the current selection.":"Upload or highlight logs with rotation data to enable the APM table."})})]})},die=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,sidebarListClass:o,viewMode:l,setViewMode:c,playerSkillBreakdowns:d,classSkillBreakdowns:f,activePlayerKey:h,setActivePlayerKey:m,expandedPlayerKey:p,setExpandedPlayerKey:g,activePlayerSkillId:y,setActivePlayerSkillId:v,activeClassKey:b,setActiveClassKey:w,expandedClassKey:S,setExpandedClassKey:C,activeClassSkillId:N,setActiveClassSkillId:A,skillSearch:E,setSkillSearch:$,activePlayerBreakdown:T,activePlayerSkill:M,activeClassBreakdown:O,activeClassSkill:Y,renderProfessionIcon:Q})=>{const re=d.length,ce=((T==null?void 0:T.skills)||[]).reduce((B,I)=>B+(I.damage||0),0),K=(O==null?void 0:O.players)||[],[G,L]=x.useState({key:"down",dir:"desc"}),P=e==="player-breakdown",[j,U]=x.useState([]),[k,_]=x.useState([]),[ae,ee]=x.useState({columnId:"",dir:"desc"}),[V,ne]=x.useState({}),[F,J]=x.useState({}),ue=P?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${o} max-h-72 overflow-y-auto`,ie=x.useMemo(()=>{if(!O||!Y)return K;const B=[...K];return B.sort((I,te)=>{var ge,Le;const Pe=(ge=I.skillMap)==null?void 0:ge[Y.id],Ue=(Le=te.skillMap)==null?void 0:Le[Y.id],se=Number((Pe==null?void 0:Pe.downContribution)||0),Ye=Number((Ue==null?void 0:Ue.downContribution)||0),Oe=Number((Pe==null?void 0:Pe.damage)||0),wt=Number((Ue==null?void 0:Ue.damage)||0),qt=I.totalFightMs>0?Oe/(I.totalFightMs/1e3):0,vn=te.totalFightMs>0?wt/(te.totalFightMs/1e3):0;let $n=0;return G.key==="down"&&($n=se-Ye),G.key==="damage"&&($n=Oe-wt),G.key==="dps"&&($n=qt-vn),G.dir==="asc"?$n:-$n}),B},[O,K,Y,G]),H=B=>{L(I=>I.key!==B?{key:B,dir:"desc"}:{key:B,dir:I.dir==="desc"?"asc":"desc"})};return u.jsxs("div",{id:"player-breakdown","data-section-visible":i("player-breakdown"),"data-section-first":a("player-breakdown"),className:s("player-breakdown",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="player-breakdown"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(N1,{className:"w-5 h-5 text-sky-300"}),"Player Breakdown"]}),u.jsxs("div",{className:"flex items-center gap-3 relative",children:[u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[re," ",re===1?"player":"players"]}),u.jsx("button",{type:"button",onClick:()=>e==="player-breakdown"?r():n("player-breakdown"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="player-breakdown"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="player-breakdown"?"Close Player Breakdown":"Expand Player Breakdown",title:e==="player-breakdown"?"Close":"Expand",children:e==="player-breakdown"?u.jsx(Hi,{className:"w-4 h-4"}):u.jsx(aa,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:e==="player-breakdown"?"flex-1 min-h-0 flex flex-col":"",children:d.length===0?u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:"No player skill damage data available for the current selection."}):u.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="player-breakdown"?"flex-1 min-h-0 h-full":""}`,children:[u.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="player-breakdown"?"h-full":""}`,children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:P?"Squad Classes":l==="player"?"Squad Players":"Squad Classes"}),!P&&u.jsx("div",{className:"flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"player",label:"Player"},{id:"class",label:"Class"}].map(B=>{const I=l===B.id;return u.jsx("button",{type:"button",onClick:()=>c(B.id),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${I?"bg-sky-500/30 text-sky-100":"text-gray-400 hover:text-white"}`,children:B.label},B.id)})})]}),u.jsx("div",{className:"mb-2",children:u.jsx("input",{type:"text",value:E,onChange:B=>$(B.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"})}),u.jsx("div",{className:ue,children:(P?"class":l)==="player"?d.map(B=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const I=h!==B.key;I&&(v(null),U([]),_([])),m(B.key),g(I?B.key:p===B.key?null:B.key)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${h===B.key?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:B.displayName,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Q(B.profession,B.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate min-w-0",children:B.displayName})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400 shrink-0",children:u.jsxs("span",{className:"text-[10px] whitespace-nowrap",children:[B.skills.length," skills"]})})]})}),!P&&p===B.key&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:V[B.key]||"",onChange:I=>{const te=I.target.value;ne(Pe=>({...Pe,[B.key]:te}))},placeholder:"Filter this player's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),B.skills.filter(I=>{const te=(V[B.key]||"").trim().toLowerCase();return te?String(I.name||"").toLowerCase().includes(te):!0}).map(I=>u.jsx("button",{type:"button",onClick:()=>{m(B.key),v(I.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${h===B.key&&y===I.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:I.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[I.icon?u.jsx("img",{src:I.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate",children:I.name})]})},I.id)),B.skills.filter(I=>{const te=(V[B.key]||"").trim().toLowerCase();return te?String(I.name||"").toLowerCase().includes(te):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},B.key)):f.map(B=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const I=b!==B.profession;I&&(A(null),U([]),_([])),w(B.profession),C(I?B.profession:S===B.profession?null:B.profession)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${b===B.profession?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Q(B.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:B.profession})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:u.jsxs("span",{className:"text-[10px]",children:[B.players.length,"p"]})})]})}),!P&&S===B.profession&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:F[B.profession]||"",onChange:I=>{const te=I.target.value;J(Pe=>({...Pe,[B.profession]:te}))},placeholder:"Filter this class's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),B.skills.filter(I=>{const te=(F[B.profession]||"").trim().toLowerCase();return te?String(I.name||"").toLowerCase().includes(te):!0}).map(I=>u.jsx("button",{type:"button",onClick:()=>{w(B.profession),A(I.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${b===B.profession&&N===I.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:I.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[I.icon?u.jsx("img",{src:I.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate",children:I.name})]})},I.id)),B.skills.filter(I=>{const te=(F[B.profession]||"").trim().toLowerCase();return te?String(I.name||"").toLowerCase().includes(te):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},B.profession))})]}),u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="player-breakdown"?"flex flex-col min-h-0":""}`,children:(P?"class":l)==="player"?!T||!P&&!M?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a player and skill to view breakdown details"}):u.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[P&&(()=>{const B=T.skills||[],I=d.map(se=>({id:se.key,label:se.displayName||se.key,icon:Q(se.profession,se.professionList,"w-3 h-3")})),te=B.map(se=>({id:se.id,label:se.name,icon:se.icon?u.jsx("img",{src:se.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),Pe=[...B.map(se=>({id:se.id,label:se.name,type:"column",icon:se.icon?u.jsx("img",{src:se.icon,alt:"",className:"h-4 w-4"}):void 0})),...d.map(se=>({id:se.key,label:se.displayName||se.key,type:"player",icon:Q(se.profession,se.professionList,"w-3 h-3")}))],Ue=new Set([...j.map(se=>`column:${se}`),...k.map(se=>`player:${se}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Player Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(xs,{options:Pe,selectedIds:Ue,onSelect:se=>{se.type==="column"?U(Ye=>Ye.includes(se.id)?Ye.filter(Oe=>Oe!==se.id):[...Ye,se.id]):_(Ye=>Ye.includes(se.id)?Ye.filter(Oe=>Oe!==se.id):[...Ye,se.id])},className:"w-full sm:w-64"}),u.jsx(vr,{options:te,selectedIds:j,onToggle:se=>{U(Ye=>Ye.includes(se)?Ye.filter(Oe=>Oe!==se):[...Ye,se])},onClear:()=>U([]),buttonLabel:"Columns",buttonIcon:u.jsx(ps,{className:"h-3.5 w-3.5"})}),u.jsx(vr,{options:I,selectedIds:k,onToggle:se=>{_(Ye=>Ye.includes(se)?Ye.filter(Oe=>Oe!==se):[...Ye,se])},onClear:()=>_([]),buttonLabel:"Players",buttonIcon:u.jsx(Ar,{className:"h-3.5 w-3.5"})})]}),(j.length>0||k.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{U([]),_([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),j.map(se=>{var Oe;const Ye=((Oe=B.find(wt=>wt.id===se))==null?void 0:Oe.name)||se;return u.jsxs("button",{type:"button",onClick:()=>U(wt=>wt.filter(qt=>qt!==se)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Ye}),u.jsx("span",{className:"text-gray-400",children:""})]},se)}),k.map(se=>{var Oe;const Ye=((Oe=I.find(wt=>wt.id===se))==null?void 0:Oe.label)||se;return u.jsxs("button",{type:"button",onClick:()=>_(wt=>wt.filter(qt=>qt!==se)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Ye}),u.jsx("span",{className:"text-gray-400",children:""})]},se)})]})]})})(),P?(()=>{var se,Ye;const B=T.skills||[],I=j.length>0?B.filter(Oe=>j.includes(Oe.id)):B,te=k.length>0?d.filter(Oe=>k.includes(Oe.key)):d,Pe=((se=I.find(Oe=>Oe.id===ae.columnId))==null?void 0:se.id)||((Ye=I[0])==null?void 0:Ye.id)||"",Ue=te.map(Oe=>{const wt={},qt={};return I.forEach(vn=>{var Le;const $n=(Le=Oe.skillMap)==null?void 0:Le[vn.id],ge=Number(($n==null?void 0:$n.damage)||0);qt[vn.id]=ge,wt[vn.id]=$o(ge)}),{player:Oe,values:wt,numericValues:qt}}).sort((Oe,wt)=>{const qt=Oe.numericValues[Pe]??0,vn=wt.numericValues[Pe]??0;return(ae.dir==="desc"?vn-qt:qt-vn)||String(Oe.player.displayName||"").localeCompare(String(wt.player.displayName||""))});return u.jsx(vs,{title:"Player Breakdown - Dense View",subtitle:"Damage",sortColumnId:Pe,sortDirection:ae.dir,onSortColumn:Oe=>{ee(wt=>({columnId:Oe,dir:wt.columnId===Oe&&wt.dir==="desc"?"asc":"desc"}))},columns:I.map(Oe=>({id:Oe.id,label:u.jsx(Pr,{name:Oe.name,iconUrl:Oe.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:Ue.map((Oe,wt)=>({id:`${Oe.player.key}-${wt}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:wt+1}),Q(Oe.player.profession,Oe.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Oe.player.displayName})]}),values:Oe.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:u.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Q(T.profession,T.professionList,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:T.displayName}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),u.jsx("div",{className:"text-sm font-semibold text-gray-200 truncate",children:u.jsx(Pr,{name:(M==null?void 0:M.name)||"",iconUrl:M==null?void 0:M.icon,iconClassName:"h-6 w-6"})})]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[T.skills.length," skills | ",$o(ce)," total damage"]})]})}),u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.2fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Metric"}),u.jsx("div",{className:"text-right",children:"Value"})]})]}),u.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:[{label:"Down Contribution",value:$o((M==null?void 0:M.downContribution)||0)},{label:"Total Damage",value:$o((M==null?void 0:M.damage)||0)},{label:"DPS",value:ha(T.totalFightMs>0?((M==null?void 0:M.damage)||0)/(T.totalFightMs/1e3):0,1)}].map(B=>u.jsxs("div",{className:"grid grid-cols-[1.2fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"font-semibold text-white",children:B.label}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:B.value})]},B.label))})]})]}):!O||!P&&!Y?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a class and skill to view breakdown details"}):u.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[P&&(()=>{const B=O.skills||[],I=K.map(se=>({id:se.key,label:se.displayName||se.key,icon:Q(se.profession,se.professionList,"w-3 h-3")})),te=B.map(se=>({id:se.id,label:se.name,icon:se.icon?u.jsx("img",{src:se.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),Pe=[...B.map(se=>({id:se.id,label:se.name,type:"column",icon:se.icon?u.jsx("img",{src:se.icon,alt:"",className:"h-4 w-4"}):void 0})),...K.map(se=>({id:se.key,label:se.displayName||se.key,type:"player",icon:Q(se.profession,se.professionList,"w-3 h-3")}))],Ue=new Set([...j.map(se=>`column:${se}`),...k.map(se=>`player:${se}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Class Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(xs,{options:Pe,selectedIds:Ue,onSelect:se=>{se.type==="column"?U(Ye=>Ye.includes(se.id)?Ye.filter(Oe=>Oe!==se.id):[...Ye,se.id]):_(Ye=>Ye.includes(se.id)?Ye.filter(Oe=>Oe!==se.id):[...Ye,se.id])},className:"w-full sm:w-64"}),u.jsx(vr,{options:te,selectedIds:j,onToggle:se=>{U(Ye=>Ye.includes(se)?Ye.filter(Oe=>Oe!==se):[...Ye,se])},onClear:()=>U([]),buttonLabel:"Columns",buttonIcon:u.jsx(ps,{className:"h-3.5 w-3.5"})}),u.jsx(vr,{options:I,selectedIds:k,onToggle:se=>{_(Ye=>Ye.includes(se)?Ye.filter(Oe=>Oe!==se):[...Ye,se])},onClear:()=>_([]),buttonLabel:"Players",buttonIcon:u.jsx(Ar,{className:"h-3.5 w-3.5"})})]}),(j.length>0||k.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{U([]),_([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),j.map(se=>{var Oe;const Ye=((Oe=B.find(wt=>wt.id===se))==null?void 0:Oe.name)||se;return u.jsxs("button",{type:"button",onClick:()=>U(wt=>wt.filter(qt=>qt!==se)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Ye}),u.jsx("span",{className:"text-gray-400",children:""})]},se)}),k.map(se=>{var Oe;const Ye=((Oe=I.find(wt=>wt.id===se))==null?void 0:Oe.label)||se;return u.jsxs("button",{type:"button",onClick:()=>_(wt=>wt.filter(qt=>qt!==se)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Ye}),u.jsx("span",{className:"text-gray-400",children:""})]},se)})]})]})})(),P?(()=>{var se,Ye;const B=O.skills||[],I=j.length>0?B.filter(Oe=>j.includes(Oe.id)):B,te=k.length>0?K.filter(Oe=>k.includes(Oe.key)):K,Pe=((se=I.find(Oe=>Oe.id===ae.columnId))==null?void 0:se.id)||((Ye=I[0])==null?void 0:Ye.id)||"",Ue=te.map(Oe=>{const wt={},qt={};return I.forEach(vn=>{var Le;const $n=(Le=Oe.skillMap)==null?void 0:Le[vn.id],ge=Number(($n==null?void 0:$n.damage)||0);qt[vn.id]=ge,wt[vn.id]=$o(ge)}),{player:Oe,values:wt,numericValues:qt}}).sort((Oe,wt)=>{const qt=Oe.numericValues[Pe]??0,vn=wt.numericValues[Pe]??0;return(ae.dir==="desc"?vn-qt:qt-vn)||String(Oe.player.displayName||"").localeCompare(String(wt.player.displayName||""))});return u.jsx(vs,{title:"Class Breakdown - Dense View",subtitle:"Damage",sortColumnId:Pe,sortDirection:ae.dir,onSortColumn:Oe=>{ee(wt=>({columnId:Oe,dir:wt.columnId===Oe&&wt.dir==="desc"?"asc":"desc"}))},columns:I.map(Oe=>({id:Oe.id,label:u.jsx(Pr,{name:Oe.name,iconUrl:Oe.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:Ue.map((Oe,wt)=>({id:`${Oe.player.key}-${wt}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:wt+1}),Q(Oe.player.profession,Oe.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Oe.player.displayName})]}),values:Oe.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:u.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Q(O.profession,void 0,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:O.profession}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),u.jsx("div",{className:"text-sm font-semibold text-gray-200 truncate",children:u.jsx(Pr,{name:(Y==null?void 0:Y.name)||"",iconUrl:Y==null?void 0:Y.icon,iconClassName:"h-6 w-6"})})]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[K.length," players | ",O.skills.length," skills"]})]})}),u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>H("down"),className:`text-right flex items-center justify-end gap-1 transition-colors ${G.key==="down"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Down Contrib",u.jsx("span",{className:"text-[10px]",children:G.key==="down"?G.dir==="desc"?"":"":""})]}),u.jsxs("button",{type:"button",onClick:()=>H("damage"),className:`text-right flex items-center justify-end gap-1 transition-colors ${G.key==="damage"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage",u.jsx("span",{className:"text-[10px]",children:G.key==="damage"?G.dir==="desc"?"":"":""})]}),u.jsxs("button",{type:"button",onClick:()=>H("dps"),className:`text-right flex items-center justify-end gap-1 transition-colors ${G.key==="dps"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["DPS",u.jsx("span",{className:"text-[10px]",children:G.key==="dps"?G.dir==="desc"?"":"":""})]})]})]}),u.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:ie.map(B=>{var se;const I=(se=B.skillMap)==null?void 0:se[(Y==null?void 0:Y.id)||""],te=Number((I==null?void 0:I.downContribution)||0),Pe=Number((I==null?void 0:I.damage)||0),Ue=B.totalFightMs>0?Pe/(B.totalFightMs/1e3):0;return u.jsxs("div",{className:"grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Q(B.profession,B.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:B.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:$o(te)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:$o(Pe)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:ha(Ue,1)})]},`${O.profession}-${B.key}`)})})]})]})})]})})]})},x4=({className:e})=>u.jsx(C6,{className:e,style:{transform:"rotate(45deg)"}}),Po=({expanded:e,className:t="",sidebarClassName:n="",contentClassName:r="",sidebar:i,content:a})=>u.jsxs("div",{className:`stats-table-layout grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e?"flex-1 min-h-0 h-full":""} ${t}`,children:[u.jsx("div",{className:`stats-table-layout__sidebar ${n}`,children:i}),u.jsx("div",{className:`stats-table-layout__content ${r}`,children:a})]}),ys=({header:e,columns:t,rows:n,expanded:r,maxHeightClass:i="max-h-80"})=>u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"stats-table-shell__header",children:e}),u.jsx("div",{className:"stats-table-shell__columns",children:t})]}),u.jsx("div",{className:`stats-table-shell__rows ${r?"flex-1 min-h-0 overflow-y-auto":`${i} overflow-y-auto`}`,children:n})]}),fie=({stats:e,OFFENSE_METRICS:t,roundCountStats:n,offenseSearch:r,setOffenseSearch:i,activeOffenseStat:a,setActiveOffenseStat:s,offenseViewMode:o,setOffenseViewMode:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:g,isFirstVisibleSection:y,sectionClass:v,sidebarListClass:b})=>{var P;const[w,S]=x.useState({key:"value",dir:"desc"}),[C,N]=x.useState({columnId:((P=t[0])==null?void 0:P.id)||"value",dir:"desc"}),A=f==="offense-detailed",[E,$]=x.useState([]),[T,M]=x.useState([]),O=t.filter(j=>j.label.toLowerCase().includes(r.trim().toLowerCase())),Y=t.map(j=>({id:j.id,label:j.label})),Q=Y.filter(j=>j.label.toLowerCase().includes(r.trim().toLowerCase())),ce=E.length>0?t.filter(j=>E.includes(j.id)):t,K=Array.from(new Map(e.offensePlayers.map(j=>[j.account,j])).values()).map(j=>({id:j.account,label:j.account,icon:d(j.profession,j.professionList,"w-3 h-3")})),G=new Set([...E.map(j=>`column:${j}`),...T.map(j=>`player:${j}`)]),L=j=>{S(U=>({key:j,dir:U.key===j&&U.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"offense-detailed","data-section-visible":g("offense-detailed"),"data-section-first":y("offense-detailed"),className:v("offense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="offense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(x4,{className:"w-5 h-5 text-rose-300"}),"Offenses - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>f==="offense-detailed"?p():m("offense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="offense-detailed"?"Close Offense Detailed":"Expand Offense Detailed",title:f==="offense-detailed"?"Close":"Expand",children:f==="offense-detailed"?u.jsx(Hi,{className:"w-4 h-4"}):u.jsx(aa,{className:"w-4 h-4"})})]}),e.offensePlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No offensive stats available"}):A?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(xs,{options:[...Y.map(j=>({...j,type:"column"})),...K.map(j=>({...j,type:"player"}))],onSelect:j=>{j.type==="column"?$(U=>U.includes(j.id)?U.filter(k=>k!==j.id):[...U,j.id]):M(U=>U.includes(j.id)?U.filter(k=>k!==j.id):[...U,j.id])},selectedIds:G,className:"w-full sm:w-64"}),u.jsx(vr,{options:Q,selectedIds:E,onToggle:j=>{$(U=>U.includes(j)?U.filter(k=>k!==j):[...U,j])},onClear:()=>$([]),buttonIcon:u.jsx(ps,{className:"h-3.5 w-3.5"})}),u.jsx(vr,{options:K,selectedIds:T,onToggle:j=>{M(U=>U.includes(j)?U.filter(k=>k!==j):[...U,j])},onClear:()=>M([]),buttonLabel:"Players",buttonIcon:u.jsx(Ar,{className:"h-3.5 w-3.5"})}),u.jsx(_n,{value:o,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(E.length>0||T.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{$([]),M([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),E.map(j=>{var k;const U=((k=Y.find(_=>_.id===j))==null?void 0:k.label)||j;return u.jsxs("button",{type:"button",onClick:()=>$(_=>_.filter(ae=>ae!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:U}),u.jsx("span",{className:"text-gray-400",children:""})]},j)}),T.map(j=>u.jsxs("button",{type:"button",onClick:()=>M(U=>U.filter(k=>k!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:j}),u.jsx("span",{className:"text-gray-400",children:""})]},j))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:O.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No offensive stats match this filter"}):(()=>{var ee,V;const j=ne=>Math.max(1,(ne.totalFightMs||0)/1e3),U=(ne,F,J)=>{var ue,ie,H,B,I;if(F==="downContributionPercent"){const te=((ue=ne.offenseTotals)==null?void 0:ue.downContribution)||0,Pe=((ie=ne.offenseTotals)==null?void 0:ie.damage)||0;return Pe>0?te/Pe*100:0}if(J.isRate){const te=((H=ne.offenseRateWeights)==null?void 0:H[F])||0,Pe=((B=ne.offenseTotals)==null?void 0:B[F])||0;return te>0?Pe/te*100:0}return((I=ne.offenseTotals)==null?void 0:I[F])||0},k=(ne,F)=>{const J=n&&!F.isPercent&&o==="total"?0:2,ue=c(ne,J);return F.isPercent?`${ue}%`:ue},_=((ee=ce.find(ne=>ne.id===C.columnId))==null?void 0:ee.id)||((V=ce[0])==null?void 0:V.id)||"",ae=[...e.offensePlayers].filter(ne=>T.length===0||T.includes(ne.account)).map(ne=>{const F={},J={};return ce.forEach(ue=>{const ie=U(ne,ue.id,ue),H=o==="total"||ue.isPercent||ue.isRate?ie:o==="per1s"?ie/j(ne):ie*60/j(ne);J[ue.id]=H,F[ue.id]=k(H,ue)}),{row:ne,values:F,numericValues:J}}).sort((ne,F)=>{const J=ne.numericValues[_]??0,ue=F.numericValues[_]??0;return(C.dir==="desc"?ue-J:J-ue)||String(ne.row.account||"").localeCompare(String(F.row.account||""))});return u.jsx(vs,{title:"Offense - Dense View",subtitle:"Offensive",sortColumnId:_,sortDirection:C.dir,onSortColumn:ne=>{N(F=>({columnId:ne,dir:F.columnId===ne&&F.dir==="desc"?"asc":"desc"}))},columns:ce.map(ne=>({id:ne.id,label:ne.label,align:"right",minWidth:90})),rows:ae.map((ne,F)=>({id:`${ne.row.account}-${F}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:F+1}),d(ne.row.profession,ne.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:ne.row.account})]}),values:ne.values}))})})()})]}):u.jsx(Po,{expanded:f==="offense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="offense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="offense-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),u.jsx("input",{value:r,onChange:j=>i(j.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${b} ${f==="offense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:O.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No offensive stats match this filter"}):O.map(j=>u.jsx("button",{onClick:()=>s(j.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===j.id?"bg-rose-500/20 text-rose-200 border-rose-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:j.label},j.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const j=t.find(ee=>ee.id===a)||t[0],U=ee=>Math.max(1,(ee.totalFightMs||0)/1e3),k=ee=>{var V,ne,F,J,ue;if(j.id==="downContributionPercent"){const ie=((V=ee.offenseTotals)==null?void 0:V.downContribution)||0,H=((ne=ee.offenseTotals)==null?void 0:ne.damage)||0;return H>0?ie/H*100:0}if(j.isRate){const ie=((F=ee.offenseRateWeights)==null?void 0:F[j.id])||0,H=((J=ee.offenseTotals)==null?void 0:J[j.id])||0;return ie>0?H/ie*100:0}return((ue=ee.offenseTotals)==null?void 0:ue[j.id])||0},_=ee=>{const V=n&&!j.isPercent&&o==="total"?0:2,ne=c(ee,V);return j.isPercent?`${ne}%`:ne},ae=[...e.offensePlayers].map(ee=>({...ee,total:k(ee),per1s:j.isPercent||j.isRate?k(ee):k(ee)/U(ee),per60s:j.isPercent||j.isRate?k(ee):k(ee)*60/U(ee)})).sort((ee,V)=>{const ne=w.key==="fightTime"?Number(ee.totalFightMs||0):Number(o==="total"?ee.total:o==="per1s"?ee.per1s:ee.per60s),F=w.key==="fightTime"?Number(V.totalFightMs||0):Number(o==="total"?V.total:o==="per1s"?V.per1s:V.per60s);return(w.dir==="desc"?F-ne:ne-F)||ee.account.localeCompare(V.account)});return u.jsx(ys,{expanded:f==="offense-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:j.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Offensive"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex items-center justify-end gap-2 px-4 py-2 bg-white/5",children:u.jsx(_n,{value:o,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>L("value"),className:`text-right transition-colors ${w.key==="value"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",w.key==="value"?w.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>L("fightTime"),className:`text-right transition-colors ${w.key==="fightTime"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",w.key==="fightTime"?w.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:ae.map((ee,V)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:V+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(ee.profession,ee.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:ee.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const ne=o==="total"?ee.total:o==="per1s"?ee.per1s:ee.per60s;return _(ne)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:ee.totalFightMs?`${(ee.totalFightMs/1e3).toFixed(1)}s`:"-"})]},`${j.id}-${ee.account}-${V}`))})})})()})})]})},mie=({conditionSummary:e,conditionPlayers:t,conditionSearch:n,setConditionSearch:r,activeConditionName:i,setActiveConditionName:a,conditionDirection:s,setConditionDirection:o,conditionGridClass:l,effectiveConditionSort:c,setConditionSort:d,showConditionDamage:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:g,closeExpandedSection:y,isSectionVisible:v,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:S})=>{var P;const C=m==="conditions-outgoing",[N,A]=x.useState([]),[E,$]=x.useState([]),[T,M]=x.useState({columnId:"all",dir:"desc"}),O=j=>{if(!j)return 0;if(s!=="outgoing"){const ae=Number(j.applicationsFromUptime);return Number.isFinite(ae)&&ae>0?ae:Number(j.applications||0)}const U=Number(j.applicationsFromUptime);if(Number.isFinite(U)&&U>0)return U;const k=Number(j.applicationsFromBuffsActive);if(Number.isFinite(k)&&k>0)return k;const _=Number(j.applicationsFromBuffs);return Number.isFinite(_)&&_>0?_:Number(j.applications||0)},Y=[...e||[]].sort((j,U)=>(U.damage||0)-(j.damage||0)),Q=Y.filter(j=>j.name.toLowerCase().includes(n.trim().toLowerCase())),re=Q.map(j=>({id:j.name,label:j.name,icon:j.icon?u.jsx("img",{src:j.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),K=N.length>0?Y.filter(j=>N.includes(j.name)):Y,G=Array.from(new Map((t||[]).map(j=>[j.account,j])).values()).map(j=>({id:j.account,label:j.account,icon:h(j.profession,j.professionList,"w-3 h-3")})),L=new Set([...N.map(j=>`column:${j}`),...E.map(j=>`player:${j}`)]);return u.jsxs("div",{id:"conditions-outgoing","data-section-visible":v("conditions-outgoing"),"data-section-first":b("conditions-outgoing"),className:w("conditions-outgoing",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="conditions-outgoing"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(d0,{className:"w-5 h-5 text-amber-300"}),"Conditions"]}),u.jsx("button",{type:"button",onClick:()=>m==="conditions-outgoing"?y():g("conditions-outgoing"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="conditions-outgoing"?"Close Outgoing Conditions":"Expand Outgoing Conditions",title:m==="conditions-outgoing"?"Close":"Expand",children:m==="conditions-outgoing"?u.jsx(Hi,{className:"w-4 h-4"}):u.jsx(aa,{className:"w-4 h-4"})})]}),e&&e.length>0?C?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(xs,{options:[...Y.map(j=>({id:j.name,label:j.name,type:"column"})),...G.map(j=>({...j,type:"player"}))],onSelect:j=>{j.type==="column"?A(U=>U.includes(j.id)?U.filter(k=>k!==j.id):[...U,j.id]):$(U=>U.includes(j.id)?U.filter(k=>k!==j.id):[...U,j.id])},selectedIds:L,className:"w-full sm:w-64"}),u.jsx(vr,{options:re,selectedIds:N,onToggle:j=>{A(U=>U.includes(j)?U.filter(k=>k!==j):[...U,j])},onClear:()=>A([]),buttonIcon:u.jsx(ps,{className:"h-3.5 w-3.5"})}),u.jsx(vr,{options:G,selectedIds:E,onToggle:j=>{$(U=>U.includes(j)?U.filter(k=>k!==j):[...U,j])},onClear:()=>$([]),buttonLabel:"Players",buttonIcon:u.jsx(Ar,{className:"h-3.5 w-3.5"})}),u.jsx(_n,{value:s,onChange:o,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),f&&u.jsx(_n,{value:c.key,onChange:j=>d({key:j,dir:"desc"}),options:[{value:"applications",label:"Applications"},{value:"damage",label:"Damage"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:Q.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No conditions match this filter"}):(()=>{const j=c.key,U=[{id:"all",label:"All Conditions",icon:null},...K],k=(t||[]).filter(ee=>E.length===0||E.includes(ee.account)).map(ee=>{const V=ee.conditions||{},ne={},F={};return U.forEach(J=>{if(J.id==="all"||J.name==="All Conditions"){const H=Object.values(V).reduce((I,te)=>{const Pe=O(te);return I.applications+=Number(Pe||0),I.damage+=Number((te==null?void 0:te.damage)||0),I},{applications:0,damage:0}),B=j==="applications"?H.applications:H.damage;F.all=B||0,ne.all=Math.round(B||0).toLocaleString();return}const ue=V[J.name],ie=j==="applications"?O(ue):Number((ue==null?void 0:ue.damage)||0);F[J.name]=Number(ie||0),ne[J.name]=Math.round(ie||0).toLocaleString()}),{player:ee,values:ne,numericValues:F}}).filter(ee=>Object.values(ee.values).some(V=>V!=="0")),_=["all",...K.map(ee=>ee.name)].includes(T.columnId)?T.columnId:"all",ae=[...k].sort((ee,V)=>{const ne=ee.numericValues[_]??0,F=V.numericValues[_]??0;return(T.dir==="desc"?F-ne:ne-F)||String(ee.player.account||"").localeCompare(String(V.player.account||""))});return u.jsx(vs,{title:"Conditions - Dense View",subtitle:j==="applications"?"Applications":"Damage",sortColumnId:_,sortDirection:T.dir,onSortColumn:ee=>{M(V=>({columnId:ee,dir:V.columnId===ee&&V.dir==="desc"?"asc":"desc"}))},columns:[{id:"all",label:"All",align:"right",minWidth:90},...K.map(ee=>({id:ee.name,label:u.jsx(Pr,{name:ee.name,iconUrl:ee.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90}))],rows:ae.map((ee,V)=>({id:`${ee.player.account}-${V}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:V+1}),h(ee.player.profession,ee.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:ee.player.account})]}),values:ee.values}))})})()}),(N.length>0||E.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{A([]),$([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),N.map(j=>u.jsxs("button",{type:"button",onClick:()=>A(U=>U.filter(k=>k!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:j}),u.jsx("span",{className:"text-gray-400",children:""})]},j)),E.map(j=>u.jsxs("button",{type:"button",onClick:()=>$(U=>U.filter(k=>k!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:j}),u.jsx("span",{className:"text-gray-400",children:""})]},j))]})]}):u.jsx(Po,{expanded:m==="conditions-outgoing",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="conditions-outgoing"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="conditions-outgoing"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),u.jsx("input",{value:n,onChange:j=>r(j.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${S} ${m==="conditions-outgoing"?"max-h-none flex-1 min-h-0":""}`,children:Q.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No conditions match this filter"}):u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:()=>a("all"),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i==="all"?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Conditions"}),Q.map(j=>u.jsx("button",{type:"button",onClick:()=>a(j.name),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===j.name?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Pr,{name:j.name,iconUrl:j.icon,iconClassName:"h-5 w-5"})},j.name))]})})]}),content:u.jsx(ys,{expanded:m==="conditions-outgoing",header:u.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:i==="all"?"All Conditions":u.jsx(Pr,{name:i,iconUrl:(P=e.find(j=>j.name===i))==null?void 0:P.icon,iconClassName:"h-5 w-5"})}),u.jsxs("div",{className:"flex flex-col items-end gap-2 text-right ml-auto mt-2",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Squad Totals"}),u.jsx(_n,{value:s,onChange:o,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),columns:u.jsxs("div",{className:`grid ${l} text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2`,children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>{d({key:"applications",dir:c.key==="applications"&&c.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${c.key==="applications"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Applications ",c.key==="applications"?c.dir==="desc"?"":"":""]}),f?u.jsxs("button",{type:"button",onClick:()=>{d({key:"damage",dir:c.key==="damage"&&c.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${c.key==="damage"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage ",c.key==="damage"?c.dir==="desc"?"":"":""]}):null]}),rows:u.jsx(u.Fragment,{children:(()=>{const U=(t||[]).map(k=>{const _=k.conditions||{};if(i==="all"){const ee=Object.values(_).reduce((V,ne)=>{const F=O(ne);return V.applications+=Number(F||0),V.damage+=Number((ne==null?void 0:ne.damage)||0),V},{applications:0,damage:0});return{...k,applications:ee.applications,damage:ee.damage}}const ae=_[i];return{...k,applications:O(ae),damage:Number((ae==null?void 0:ae.damage)||0)}}).filter(k=>k.applications>0||k.damage>0).sort((k,_)=>{const ae=c.key==="applications"?k.applications||0:k.damage||0,ee=c.key==="applications"?_.applications||0:_.damage||0,V=c.dir==="desc"?ee-ae:ae-ee;if(V!==0)return V;const ne=c.key==="applications"?(_.damage||0)-(k.damage||0):(_.applications||0)-(k.applications||0);return ne!==0?ne:String(k.account||"").localeCompare(String(_.account||""))});return U.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No condition data available"}):U.map((k,_)=>{var H;const ae=k.conditions||{};let ee={};i==="all"?Object.values(ae).forEach(B=>{const I=(B==null?void 0:B.skills)||{};Object.values(I).forEach(te=>{const Pe=(te==null?void 0:te.name)||"Unknown",Ue=Number((te==null?void 0:te.hits)||0),se=Number((te==null?void 0:te.damage)||0);if((!Number.isFinite(Ue)||Ue<=0)&&(!Number.isFinite(se)||se<=0))return;const Ye=ee[Pe]||{name:Pe,hits:0,damage:0,icon:te==null?void 0:te.icon};Ye.hits+=Number.isFinite(Ue)?Ue:0,Ye.damage+=Number.isFinite(se)?se:0,!Ye.icon&&(te!=null&&te.icon)&&(Ye.icon=te.icon),ee[Pe]=Ye})}):ee=((H=ae[i])==null?void 0:H.skills)||{};const V=Object.values(ee).filter(B=>Number.isFinite(B.hits)&&B.hits>0).sort((B,I)=>I.hits-B.hits||B.name.localeCompare(I.name)),ne=Object.values(ee).filter(B=>Number.isFinite(B.damage)&&B.damage>0).sort((B,I)=>I.damage-B.damage||B.name.localeCompare(I.name)),F=i==="all"&&V.length>0,J=i==="all"&&ne.length>0,ue=Math.round(k.applications||0).toLocaleString(),ie=Math.round(k.damage||0).toLocaleString();return u.jsxs("div",{className:`grid ${l} px-4 py-2 text-sm text-gray-200 border-t border-white/5`,children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:_+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(k.profession,k.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:k.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:F?u.jsx(GP,{value:ue,label:"Condition Sources",items:V.map(B=>({name:B.name,iconUrl:B.icon,value:Math.round(B.hits).toLocaleString()})),className:"justify-end"}):ue}),f?u.jsx("div",{className:"text-right font-mono text-gray-300",children:J?u.jsx(GP,{value:ie,label:"Condition Damage Sources",items:ne.map(B=>({name:B.name,iconUrl:B.icon,value:Math.round(B.damage).toLocaleString()})),className:"justify-end"}):ie}):null]},`${k.account}-${_}`)})})()})})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No condition data available"})]})},hie=({stats:e,activeBoonCategory:t,setActiveBoonCategory:n,activeBoonMetric:r,setActiveBoonMetric:i,activeBoonTab:a,setActiveBoonTab:s,activeBoonTable:o,filteredBoonTables:l,boonSearch:c,setBoonSearch:d,formatBoonMetricDisplay:f,getBoonMetricValue:h,renderProfessionIcon:m,roundCountStats:p,expandedSection:g,expandedSectionClosing:y,openExpandedSection:v,closeExpandedSection:b,isSectionVisible:w,isFirstVisibleSection:S,sectionClass:C,sidebarListClass:N})=>{const[A,E]=x.useState({key:"value",dir:"desc"}),[$,T]=x.useState({columnId:"",dir:"desc"}),M=g==="boon-output",[O,Y]=x.useState([]),[Q,re]=x.useState([]),ce=e.boonTables||[],G=O.length>0?ce.filter(k=>O.includes(k.id)):ce,L=l.map(k=>({id:k.id,label:k.name,icon:k.icon?u.jsx("img",{src:k.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),P=Array.from(new Map((e.boonTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:m(k.profession,k.professionList,"w-3 h-3")})),j=new Set([...O.map(k=>`column:${k}`),...Q.map(k=>`player:${k}`)]),U=k=>{E(_=>({key:k,dir:_.key===k&&_.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"boon-output","data-section-visible":w("boon-output"),"data-section-first":S("boon-output"),className:C("boon-output",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${g==="boon-output"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${y?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(P1,{className:"w-5 h-5 text-cyan-400"}),"Boon Output"]}),u.jsx("button",{type:"button",onClick:()=>g==="boon-output"?b():v("boon-output"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":g==="boon-output"?"Close Boon Output":"Expand Boon Output",title:g==="boon-output"?"Close":"Expand",children:g==="boon-output"?u.jsx(Hi,{className:"w-4 h-4"}):u.jsx(aa,{className:"w-4 h-4"})})]}),e.boonTables.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No boon data available"}):M?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(xs,{options:[...ce.map(k=>({id:k.id,label:k.name,type:"column"})),...Array.from(new Map((e.boonTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,type:"player",icon:m(k.profession,k.professionList,"w-3 h-3")}))],onSelect:k=>{k.type==="column"?Y(_=>_.includes(k.id)?_.filter(ae=>ae!==k.id):[..._,k.id]):re(_=>_.includes(k.id)?_.filter(ae=>ae!==k.id):[..._,k.id])},selectedIds:j,className:"w-full sm:w-64"}),u.jsx(vr,{options:L,selectedIds:O,onToggle:k=>{Y(_=>_.includes(k)?_.filter(ae=>ae!==k):[..._,k])},onClear:()=>Y([]),buttonIcon:u.jsx(ps,{className:"h-3.5 w-3.5"})}),u.jsx(vr,{options:P,selectedIds:Q,onToggle:k=>{re(_=>_.includes(k)?_.filter(ae=>ae!==k):[..._,k])},onClear:()=>re([]),buttonLabel:"Players",buttonIcon:u.jsx(Ar,{className:"h-3.5 w-3.5"})}),u.jsx(_n,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(_n,{value:r,onChange:i,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(O.length>0||Q.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{Y([]),re([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),O.map(k=>{var ae;const _=((ae=ce.find(ee=>ee.id===k))==null?void 0:ae.name)||k;return u.jsxs("button",{type:"button",onClick:()=>Y(ee=>ee.filter(V=>V!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:_}),u.jsx("span",{className:"text-gray-400",children:""})]},k)}),Q.map(k=>u.jsxs("button",{type:"button",onClick:()=>re(_=>_.filter(ae=>ae!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ce.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No boons match this filter"}):(()=>{var ne,F;const k=G,_=((ne=k.find(J=>J.id===$.columnId))==null?void 0:ne.id)||(a&&k.some(J=>J.id===a)?a:void 0)||((F=k[0])==null?void 0:F.id)||"",ae=new Map,ee=new Map;k.forEach(J=>{const ue=new Map;J.rows.forEach(ie=>{const H=ie.account||ie.name||ie.id;H&&(ue.set(H,ie),ee.has(H)||ee.set(H,ie))}),ae.set(J.id,ue)});const V=Array.from(ee.entries()).filter(([J])=>Q.length===0||Q.includes(String(J))).map(([J,ue])=>{const ie={};return k.forEach(H=>{var I;const B=(I=ae.get(H.id))==null?void 0:I.get(J);ie[H.id]=B?f(B,t,H.stacking,r,{roundCountStats:p}):"-"}),{key:J,row:ue,values:ie}}).sort((J,ue)=>{var Ue,se;if(!_)return String(J.key).localeCompare(String(ue.key));const ie=k.find(Ye=>Ye.id===_),H=ie?(Ue=ae.get(ie.id))==null?void 0:Ue.get(J.key):null,B=ie?(se=ae.get(ie.id))==null?void 0:se.get(ue.key):null,I=H?h(H,t,ie==null?void 0:ie.stacking,r):0,te=B?h(B,t,ie==null?void 0:ie.stacking,r):0;return($.dir==="desc"?te-I:I-te)||String(J.key).localeCompare(String(ue.key))});return u.jsx(vs,{title:"Boon Output - Dense View",subtitle:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`,sortColumnId:_,sortDirection:$.dir,onSortColumn:J=>{T(ue=>({columnId:J,dir:ue.columnId===J&&ue.dir==="desc"?"asc":"desc"}))},columns:k.map(J=>({id:J.id,label:u.jsx(Pr,{name:J.name,iconUrl:J.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:V.map((J,ue)=>({id:`${J.key}-${ue}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:ue+1}),m(J.row.profession,J.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:J.row.account||J.row.name||J.key})]}),values:J.values}))})})()})]}):u.jsx(Po,{expanded:g==="boon-output",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${g==="boon-output"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${g==="boon-output"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),u.jsx("input",{value:c,onChange:k=>d(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${N} ${g==="boon-output"?"max-h-none flex-1 min-h-0":""}`,children:l.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No boons match this filter"}):l.map(k=>u.jsx("button",{onClick:()=>s(k.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===k.id?"bg-blue-500/20 text-blue-200 border-blue-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Pr,{name:k.name,iconUrl:k.icon,iconClassName:"h-3.5 w-3.5"})},k.id))})]}),content:o?u.jsx(ys,{expanded:g==="boon-output",maxHeightClass:"max-h-64",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(Pr,{name:o.name,iconUrl:o.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`})]}),columns:u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-start gap-2 px-4 py-2 bg-white/5",children:[u.jsx(_n,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(_n,{value:r,onChange:i,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],className:"sm:ml-auto",activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>U("value"),className:`text-right transition-colors ${A.key==="value"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:[r==="total"?"Total":r==="average"?"Gen/Sec":"Uptime",A.key==="value"?A.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>U("fightTime"),className:`text-right transition-colors ${A.key==="fightTime"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",A.key==="fightTime"?A.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:[...o.rows].sort((k,_)=>(()=>{const ae=A.key==="fightTime"?Number(k.activeTimeMs||0):h(k,t,o.stacking,r),ee=A.key==="fightTime"?Number(_.activeTimeMs||0):h(_,t,o.stacking,r);return(A.dir==="desc"?ee-ae:ae-ee)||String(k.account||"").localeCompare(String(_.account||""))})()).map((k,_)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:_+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[m(k.profession,k.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:k.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:f(k,t,o.stacking,r,{roundCountStats:p})}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:k.activeTimeMs?`${(k.activeTimeMs/1e3).toFixed(1)}s`:"-"})]},`${o.id}-${k.account}-${_}`))})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a boon to view details"})})]})},pie=({stats:e,DEFENSE_METRICS:t,defenseSearch:n,setDefenseSearch:r,activeDefenseStat:i,setActiveDefenseStat:a,defenseViewMode:s,setDefenseViewMode:o,roundCountStats:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:g,isFirstVisibleSection:y,sectionClass:v,sidebarListClass:b})=>{var P;const[w,S]=x.useState({key:"value",dir:"desc"}),[C,N]=x.useState({columnId:((P=t[0])==null?void 0:P.id)||"value",dir:"desc"}),A=f==="defense-detailed",[E,$]=x.useState([]),[T,M]=x.useState([]),O=t.filter(j=>j.label.toLowerCase().includes(n.trim().toLowerCase())),Y=t.map(j=>({id:j.id,label:j.label})),Q=Y.filter(j=>j.label.toLowerCase().includes(n.trim().toLowerCase())),ce=E.length>0?t.filter(j=>E.includes(j.id)):t,K=Array.from(new Map(e.defensePlayers.map(j=>[j.account,j])).values()).map(j=>({id:j.account,label:j.account,icon:d(j.profession,j.professionList,"w-3 h-3")})),G=new Set([...E.map(j=>`column:${j}`),...T.map(j=>`player:${j}`)]),L=j=>{S(U=>({key:j,dir:U.key===j&&U.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"defense-detailed","data-section-visible":g("defense-detailed"),"data-section-first":y("defense-detailed"),className:v("defense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="defense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Lu,{className:"w-5 h-5 text-sky-300"}),"Defenses - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>f==="defense-detailed"?p():m("defense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="defense-detailed"?"Close Defense Detailed":"Expand Defense Detailed",title:f==="defense-detailed"?"Close":"Expand",children:f==="defense-detailed"?u.jsx(Hi,{className:"w-4 h-4"}):u.jsx(aa,{className:"w-4 h-4"})})]}),e.defensePlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No defensive stats available"}):A?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(xs,{options:[...Y.map(j=>({...j,type:"column"})),...K.map(j=>({...j,type:"player"}))],onSelect:j=>{j.type==="column"?$(U=>U.includes(j.id)?U.filter(k=>k!==j.id):[...U,j.id]):M(U=>U.includes(j.id)?U.filter(k=>k!==j.id):[...U,j.id])},selectedIds:G,className:"w-full sm:w-64"}),u.jsx(vr,{options:Q,selectedIds:E,onToggle:j=>{$(U=>U.includes(j)?U.filter(k=>k!==j):[...U,j])},onClear:()=>$([]),buttonIcon:u.jsx(ps,{className:"h-3.5 w-3.5"})}),u.jsx(vr,{options:K,selectedIds:T,onToggle:j=>{M(U=>U.includes(j)?U.filter(k=>k!==j):[...U,j])},onClear:()=>M([]),buttonLabel:"Players",buttonIcon:u.jsx(Ar,{className:"h-3.5 w-3.5"})}),u.jsx(_n,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(E.length>0||T.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{$([]),M([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),E.map(j=>{var k;const U=((k=Y.find(_=>_.id===j))==null?void 0:k.label)||j;return u.jsxs("button",{type:"button",onClick:()=>$(_=>_.filter(ae=>ae!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:U}),u.jsx("span",{className:"text-gray-400",children:""})]},j)}),T.map(j=>u.jsxs("button",{type:"button",onClick:()=>M(U=>U.filter(k=>k!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:j}),u.jsx("span",{className:"text-gray-400",children:""})]},j))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:O.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No defensive stats match this filter"}):(()=>{var ae,ee;const j=V=>Math.max(1,(V.activeMs||0)/1e3),U=(V,ne)=>{const F=ne.isPercent,ue=c(V,l&&!F&&s==="total"?0:2);return F?`${ue}%`:ue},k=((ae=ce.find(V=>V.id===C.columnId))==null?void 0:ae.id)||((ee=ce[0])==null?void 0:ee.id)||"",_=[...e.defensePlayers].filter(V=>T.length===0||T.includes(V.account)).map(V=>{const ne={},F={};return ce.forEach(J=>{var B;const ue=((B=V.defenseTotals)==null?void 0:B[J.id])||0,ie=J.isPercent,H=s==="total"||ie?ue:s==="per1s"?ue/j(V):ue*60/j(V);F[J.id]=H,ne[J.id]=U(H,J)}),{row:V,values:ne,numericValues:F}}).sort((V,ne)=>{const F=V.numericValues[k]??0,J=ne.numericValues[k]??0;return(C.dir==="desc"?J-F:F-J)||String(V.row.account||"").localeCompare(String(ne.row.account||""))});return u.jsx(vs,{title:"Defense - Dense View",subtitle:"Defensive",sortColumnId:k,sortDirection:C.dir,onSortColumn:V=>{N(ne=>({columnId:V,dir:ne.columnId===V&&ne.dir==="desc"?"asc":"desc"}))},columns:ce.map(V=>({id:V.id,label:V.label,align:"right",minWidth:90})),rows:_.map((V,ne)=>({id:`${V.row.account}-${ne}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:ne+1}),d(V.row.profession,V.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:V.row.account})]}),values:V.values}))})})()})]}):u.jsx(Po,{expanded:f==="defense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="defense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="defense-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),u.jsx("input",{value:n,onChange:j=>r(j.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${b} ${f==="defense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:O.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No defensive stats match this filter"}):O.map(j=>u.jsx("button",{onClick:()=>a(j.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===j.id?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:j.label},j.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const j=t.find(_=>_.id===i)||t[0],U=_=>Math.max(1,(_.activeMs||0)/1e3),k=[...e.defensePlayers].map(_=>{var ae,ee,V;return{..._,total:((ae=_.defenseTotals)==null?void 0:ae[j.id])||0,per1s:(((ee=_.defenseTotals)==null?void 0:ee[j.id])||0)/U(_),per60s:(((V=_.defenseTotals)==null?void 0:V[j.id])||0)*60/U(_)}}).sort((_,ae)=>{const ee=w.key==="fightTime"?Number(_.activeMs||0):Number(s==="total"?_.total:s==="per1s"?_.per1s:_.per60s),V=w.key==="fightTime"?Number(ae.activeMs||0):Number(s==="total"?ae.total:s==="per1s"?ae.per1s:ae.per60s);return(w.dir==="desc"?V-ee:ee-V)||_.account.localeCompare(ae.account)});return u.jsx(ys,{expanded:f==="defense-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:j.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Defensive"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5",children:u.jsx(_n,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>L("value"),className:`text-right transition-colors ${w.key==="value"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",w.key==="value"?w.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>L("fightTime"),className:`text-right transition-colors ${w.key==="fightTime"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",w.key==="fightTime"?w.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:k.map((_,ae)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:ae+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(_.profession,_.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:_.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const ee=s==="total"?_.total:s==="per1s"?_.per1s:_.per60s;return c(ee,l&&s==="total"?0:2)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:_.activeMs?`${(_.activeMs/1e3).toFixed(1)}s`:"-"})]},`${j.id}-${_.account}-${ae}`))})})})()})})]})},gie=({stats:e,DAMAGE_MITIGATION_METRICS:t,damageMitigationSearch:n,setDamageMitigationSearch:r,activeDamageMitigationStat:i,setActiveDamageMitigationStat:a,damageMitigationViewMode:s,setDamageMitigationViewMode:o,damageMitigationScope:l,setDamageMitigationScope:c,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:g,closeExpandedSection:y,isSectionVisible:v,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:S})=>{var ue,ie;const C=((ue=t.find(H=>H.id==="totalMitigation"))==null?void 0:ue.id)||((ie=t[0])==null?void 0:ie.id)||"totalMitigation",[N,A]=x.useState({key:"value",dir:"desc"}),[E,$]=x.useState({columnId:C,dir:"desc"}),T=m==="defense-mitigation",[M,O]=x.useState([]),[Y,Q]=x.useState([]),[re,ce]=x.useState([]),K=e.damageMitigationPlayers||[],G=e.damageMitigationMinions||[],L=l==="minions"?G:K,P=K.length>0||G.length>0,j=t.filter(H=>H.label.toLowerCase().includes(n.trim().toLowerCase())),U=t.map(H=>({id:H.id,label:H.label})),k=U.filter(H=>H.label.toLowerCase().includes(n.trim().toLowerCase())),ae=M.length>0?t.filter(H=>M.includes(H.id)):t,ee=Array.from(new Map(L.map(H=>[H.account,H])).values()).map(H=>({id:H.account,label:H.account,icon:h(H.profession,H.professionList,"w-3 h-3")})),V=Array.from(new Map(G.map(H=>[H.minion,H])).values()).filter(H=>H==null?void 0:H.minion).map(H=>({id:String(H.minion),label:String(H.minion)})),ne=new Set([...M.map(H=>`column:${H}`),...Y.map(H=>`player:${H}`)]),F=H=>{A(B=>({key:H,dir:B.key===H&&B.dir==="desc"?"asc":"desc"}))},J=H=>f(H,d&&s==="total"?0:2);return u.jsxs("div",{id:"defense-mitigation","data-section-visible":v("defense-mitigation"),"data-section-first":b("defense-mitigation"),className:w("defense-mitigation",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="defense-mitigation"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(T1,{className:"w-5 h-5 text-emerald-300"}),"Defenses - Damage Mitigation"]}),u.jsx("button",{type:"button",onClick:()=>m==="defense-mitigation"?y():g("defense-mitigation"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="defense-mitigation"?"Close Damage Mitigation":"Expand Damage Mitigation",title:m==="defense-mitigation"?"Close":"Expand",children:m==="defense-mitigation"?u.jsx(Hi,{className:"w-4 h-4"}):u.jsx(aa,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"text-xs text-amber-200/80 italic mb-3",children:"Damage mitigation is an estimate based on enemy skill damage averages and avoidance events (block/evade/miss/invuln/interrupted). Use it for relative comparison rather than exact prevention totals."}),P?T?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(xs,{options:[...U.map(H=>({...H,type:"column"})),...ee.map(H=>({...H,type:"player"}))],onSelect:H=>{H.type==="column"?O(B=>B.includes(H.id)?B.filter(I=>I!==H.id):[...B,H.id]):Q(B=>B.includes(H.id)?B.filter(I=>I!==H.id):[...B,H.id])},selectedIds:ne,className:"w-full sm:w-64"}),u.jsx(vr,{options:k,selectedIds:M,onToggle:H=>{O(B=>B.includes(H)?B.filter(I=>I!==H):[...B,H])},onClear:()=>O([]),buttonIcon:u.jsx(ps,{className:"h-3.5 w-3.5"})}),u.jsx(vr,{options:ee,selectedIds:Y,onToggle:H=>{Q(B=>B.includes(H)?B.filter(I=>I!==H):[...B,H])},onClear:()=>Q([]),buttonLabel:"Players",buttonIcon:u.jsx(Ar,{className:"h-3.5 w-3.5"})}),l==="minions"&&u.jsx(vr,{options:V,selectedIds:re,onToggle:H=>{ce(B=>B.includes(H)?B.filter(I=>I!==H):[...B,H])},onClear:()=>ce([]),buttonLabel:"Minions"}),u.jsx(_n,{value:l,onChange:c,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(_n,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(M.length>0||Y.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{O([]),Q([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),M.map(H=>{var I;const B=((I=U.find(te=>te.id===H))==null?void 0:I.label)||H;return u.jsxs("button",{type:"button",onClick:()=>O(te=>te.filter(Pe=>Pe!==H)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:B}),u.jsx("span",{className:"text-gray-400",children:""})]},H)}),Y.map(H=>u.jsxs("button",{type:"button",onClick:()=>Q(B=>B.filter(I=>I!==H)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:H}),u.jsx("span",{className:"text-gray-400",children:""})]},H))]}),l==="minions"&&re.length>0&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>ce([]),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear Minions"}),re.map(H=>u.jsxs("button",{type:"button",onClick:()=>ce(B=>B.filter(I=>I!==H)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:H}),u.jsx("span",{className:"text-gray-400",children:""})]},H))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:L.length===0?u.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):j.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No mitigation stats match this filter"}):(()=>{var te,Pe;const H=Ue=>Math.max(1,(Ue.activeMs||0)/1e3),B=((te=ae.find(Ue=>Ue.id===E.columnId))==null?void 0:te.id)||((Pe=ae[0])==null?void 0:Pe.id)||"",I=[...L].filter(Ue=>Y.length===0||Y.includes(Ue.account)).filter(Ue=>l!=="minions"||!re.length?!0:re.includes(String(Ue.minion||""))).map(Ue=>{const se={},Ye={};return ae.forEach(Oe=>{var vn;const wt=((vn=Ue.mitigationTotals)==null?void 0:vn[Oe.id])||0,qt=s==="total"?wt:s==="per1s"?wt/H(Ue):wt*60/H(Ue);Ye[Oe.id]=qt,se[Oe.id]=J(qt)}),{row:Ue,values:se,numericValues:Ye}}).sort((Ue,se)=>{const Ye=Ue.numericValues[B]??0,Oe=se.numericValues[B]??0;return(E.dir==="desc"?Oe-Ye:Ye-Oe)||String(Ue.row.account||"").localeCompare(String(se.row.account||""))});return u.jsx(vs,{title:"Damage Mitigation - Dense View",subtitle:"Defensive",sortColumnId:B,sortDirection:E.dir,onSortColumn:Ue=>{$(se=>({columnId:Ue,dir:se.columnId===Ue&&se.dir==="desc"?"asc":"desc"}))},columns:ae.map(Ue=>({id:Ue.id,label:Ue.label,align:"right",minWidth:90})),rows:I.map((Ue,se)=>({id:`${Ue.row.account}-${Ue.row.minion||"player"}-${se}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:se+1}),h(Ue.row.profession,Ue.row.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"truncate",children:Ue.row.account}),Ue.row.minion&&u.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:Ue.row.minion})]})]}),values:Ue.values}))})})()})]}):u.jsx(Po,{expanded:m==="defense-mitigation",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="defense-mitigation"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="defense-mitigation"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),u.jsx("input",{value:n,onChange:H=>r(H.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2 mt-2"}),u.jsx("div",{className:`${S} ${m==="defense-mitigation"?"max-h-none flex-1 min-h-0":""}`,children:j.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No mitigation stats match this filter"}):j.map(H=>u.jsx("button",{onClick:()=>a(H.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===H.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:H.label},H.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const H=t.find(te=>te.id===i)||t[0],B=te=>Math.max(1,(te.activeMs||0)/1e3),I=[...L].map(te=>{var Pe,Ue,se;return{...te,total:((Pe=te.mitigationTotals)==null?void 0:Pe[H.id])||0,per1s:(((Ue=te.mitigationTotals)==null?void 0:Ue[H.id])||0)/B(te),per60s:(((se=te.mitigationTotals)==null?void 0:se[H.id])||0)*60/B(te)}}).filter(te=>l!=="minions"||!re.length?!0:re.includes(String(te.minion||""))).sort((te,Pe)=>{const Ue=N.key==="fightTime"?Number(te.activeMs||0):Number(s==="total"?te.total:s==="per1s"?te.per1s:te.per60s),se=N.key==="fightTime"?Number(Pe.activeMs||0):Number(s==="total"?Pe.total:s==="per1s"?Pe.per1s:Pe.per60s);return(N.dir==="desc"?se-Ue:Ue-se)||te.account.localeCompare(Pe.account)});return u.jsx(ys,{expanded:m==="defense-mitigation",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:H.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Mitigation"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"px-4 py-2 bg-white/5",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(_n,{value:l,onChange:c,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("div",{className:"ml-auto",children:u.jsx(_n,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>F("value"),className:`text-right transition-colors ${N.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",N.key==="value"?N.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>F("fightTime"),className:`text-right transition-colors ${N.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",N.key==="fightTime"?N.dir==="desc"?" ":" ":""]})]})]}),rows:I.length===0?u.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):u.jsx(u.Fragment,{children:I.map((te,Pe)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:Pe+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(te.profession,te.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"truncate",children:te.account}),te.minion&&u.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:te.minion})]})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const Ue=s==="total"?te.total:s==="per1s"?te.per1s:te.per60s;return J(Ue)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:te.activeMs?`${(te.activeMs/1e3).toFixed(1)}s`:"-"})]},`${H.id}-${te.account}-${te.minion||"player"}-${Pe}`))})})})()})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No damage mitigation stats available"})]})},vie=({stats:e,SUPPORT_METRICS:t,supportSearch:n,setSupportSearch:r,activeSupportStat:i,setActiveSupportStat:a,supportViewMode:s,setSupportViewMode:o,cleanseScope:l,setCleanseScope:c,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:g,closeExpandedSection:y,isSectionVisible:v,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:S})=>{var U;const[C,N]=x.useState({key:"value",dir:"desc"}),[A,E]=x.useState({columnId:((U=t[0])==null?void 0:U.id)||"value",dir:"desc"}),$=m==="support-detailed",[T,M]=x.useState([]),[O,Y]=x.useState([]),Q=t.filter(k=>k.label.toLowerCase().includes(n.trim().toLowerCase())),re=t.map(k=>({id:k.id,label:k.label})),ce=re.filter(k=>k.label.toLowerCase().includes(n.trim().toLowerCase())),G=T.length>0?t.filter(k=>T.includes(k.id)):t,L=Array.from(new Map(e.supportPlayers.map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:h(k.profession,k.professionList,"w-3 h-3")})),P=new Set([...T.map(k=>`column:${k}`),...O.map(k=>`player:${k}`)]),j=k=>{N(_=>({key:k,dir:_.key===k&&_.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"support-detailed","data-section-visible":v("support-detailed"),"data-section-first":b("support-detailed"),className:w("support-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="support-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(j1,{className:"w-5 h-5 text-emerald-300"}),"Support - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>m==="support-detailed"?y():g("support-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="support-detailed"?"Close Support Detailed":"Expand Support Detailed",title:m==="support-detailed"?"Close":"Expand",children:m==="support-detailed"?u.jsx(Hi,{className:"w-4 h-4"}):u.jsx(aa,{className:"w-4 h-4"})})]}),e.supportPlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No support stats available"}):$?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(xs,{options:[...re.map(k=>({...k,type:"column"})),...L.map(k=>({...k,type:"player"}))],onSelect:k=>{k.type==="column"?M(_=>_.includes(k.id)?_.filter(ae=>ae!==k.id):[..._,k.id]):Y(_=>_.includes(k.id)?_.filter(ae=>ae!==k.id):[..._,k.id])},selectedIds:P,className:"w-full sm:w-64"}),u.jsx(vr,{options:ce,selectedIds:T,onToggle:k=>{M(_=>_.includes(k)?_.filter(ae=>ae!==k):[..._,k])},onClear:()=>M([]),buttonIcon:u.jsx(ps,{className:"h-3.5 w-3.5"})}),u.jsx(vr,{options:L,selectedIds:O,onToggle:k=>{Y(_=>_.includes(k)?_.filter(ae=>ae!==k):[..._,k])},onClear:()=>Y([]),buttonLabel:"Players",buttonIcon:u.jsx(Ar,{className:"h-3.5 w-3.5"})}),u.jsx(_n,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),i==="condiCleanse"&&u.jsx(_n,{value:l,onChange:c,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(T.length>0||O.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{M([]),Y([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),T.map(k=>{var ae;const _=((ae=re.find(ee=>ee.id===k))==null?void 0:ae.label)||k;return u.jsxs("button",{type:"button",onClick:()=>M(ee=>ee.filter(V=>V!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:_}),u.jsx("span",{className:"text-gray-400",children:""})]},k)}),O.map(k=>u.jsxs("button",{type:"button",onClick:()=>Y(_=>_.filter(ae=>ae!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:Q.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No support stats match this filter"}):(()=>{var ne,F;const k=(J,ue)=>{var ie,H,B;if(ue==="condiCleanse"){const I=((ie=J.supportTotals)==null?void 0:ie.condiCleanse)||0,te=((H=J.supportTotals)==null?void 0:H.condiCleanseSelf)||0;return l==="all"?I+te:I}return((B=J.supportTotals)==null?void 0:B[ue])||0},_=J=>Math.max(1,(J.activeMs||0)/1e3),ae=(J,ue)=>{const ie=J.isTime?1:d&&s==="total"?0:2;return f(ue,ie)},ee=((ne=G.find(J=>J.id===A.columnId))==null?void 0:ne.id)||((F=G[0])==null?void 0:F.id)||"",V=[...e.supportPlayers].filter(J=>O.length===0||O.includes(J.account)).map(J=>{const ue={},ie={};return G.forEach(H=>{const B=k(J,H.id),I=s==="total"?B:s==="per1s"?B/_(J):B*60/_(J);ie[H.id]=I,ue[H.id]=ae(H,I)}),{row:J,values:ue,numericValues:ie}}).sort((J,ue)=>{const ie=J.numericValues[ee]??0,H=ue.numericValues[ee]??0;return(A.dir==="desc"?H-ie:ie-H)||String(J.row.account||"").localeCompare(String(ue.row.account||""))});return u.jsx(vs,{title:"Support - Dense View",subtitle:"Support",sortColumnId:ee,sortDirection:A.dir,onSortColumn:J=>{E(ue=>({columnId:J,dir:ue.columnId===J&&ue.dir==="desc"?"asc":"desc"}))},columns:G.map(J=>({id:J.id,label:J.label,align:"right",minWidth:90})),rows:V.map((J,ue)=>({id:`${J.row.account}-${ue}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:ue+1}),h(J.row.profession,J.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:J.row.account})]}),values:J.values}))})})()})]}):u.jsx(Po,{expanded:m==="support-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="support-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="support-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),u.jsx("input",{value:n,onChange:k=>r(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${S} ${m==="support-detailed"?"max-h-none flex-1 min-h-0":""}`,children:Q.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No support stats match this filter"}):Q.map(k=>u.jsx("button",{onClick:()=>a(k.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===k.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:k.label},k.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const k=t.find(V=>V.id===i)||t[0],_=V=>{var ne,F,J;if(k.id==="condiCleanse"){const ue=((ne=V.supportTotals)==null?void 0:ne.condiCleanse)||0,ie=((F=V.supportTotals)==null?void 0:F.condiCleanseSelf)||0;return l==="all"?ue+ie:ue}return((J=V.supportTotals)==null?void 0:J[k.id])||0},ae=V=>Math.max(1,(V.activeMs||0)/1e3),ee=[...e.supportPlayers].map(V=>({...V,total:_(V),per1s:_(V)/ae(V),per60s:_(V)*60/ae(V)})).sort((V,ne)=>{const F=C.key==="fightTime"?Number(V.activeMs||0):Number(s==="total"?V.total:s==="per1s"?V.per1s:V.per60s),J=C.key==="fightTime"?Number(ne.activeMs||0):Number(s==="total"?ne.total:s==="per1s"?ne.per1s:ne.per60s);return(C.dir==="desc"?J-F:F-J)||V.account.localeCompare(ne.account)});return u.jsx(ys,{expanded:m==="support-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:k.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Support"})]}),columns:u.jsxs(u.Fragment,{children:[k.id==="condiCleanse"?u.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-4 py-2 bg-white/5",children:[u.jsx(_n,{value:l,onChange:c,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(_n,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],className:"sm:ml-auto",activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}):u.jsx("div",{className:"flex flex-wrap items-center justify-start sm:justify-end px-4 py-2 bg-white/5",children:u.jsx(_n,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>j("value"),className:`text-right transition-colors ${C.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",C.key==="value"?C.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>j("fightTime"),className:`text-right transition-colors ${C.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",C.key==="fightTime"?C.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:ee.map((V,ne)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:ne+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(V.profession,V.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:V.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const F=s==="total"?V.total:s==="per1s"?V.per1s:V.per60s,J=k.isTime?1:d&&s==="total"?0:2;return f(F,J)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:V.activeMs?`${(V.activeMs/1e3).toFixed(1)}s`:"-"})]},`${k.id}-${V.account}-${ne}`))})})})()})})]})},xie=({stats:e,HEALING_METRICS:t,activeHealingMetric:n,setActiveHealingMetric:r,healingCategory:i,setHealingCategory:a,activeResUtilitySkill:s,setActiveResUtilitySkill:o,skillUsageData:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:g,isFirstVisibleSection:y,sectionClass:v})=>{var ce;const[b,w]=x.useState({key:"value",dir:"desc"}),[S,C]=x.useState({columnId:((ce=t[0])==null?void 0:ce.id)||"value",dir:"desc"}),N=f==="healing-stats",[A,E]=x.useState([]),[$,T]=x.useState([]),M=Array.from(new Map(e.healingPlayers.map(K=>[K.account,K])).values()).map(K=>({id:K.account,label:K.account,icon:d(K.profession,K.professionList,"w-3 h-3")})),O=new Set([...$.map(K=>`column:${K}`),...A.map(K=>`player:${K}`)]),Y=t.map(K=>({id:K.id,label:K.label})),Q=$.length>0?t.filter(K=>$.includes(K.id)):t,re=K=>{w(G=>({key:K,dir:G.key===K&&G.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"healing-stats","data-section-visible":g("healing-stats"),"data-section-first":y("healing-stats"),className:v("healing-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="healing-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(gO,{className:"w-5 h-5 text-lime-300"}),"Healing Stats"]}),u.jsx("button",{type:"button",onClick:()=>f==="healing-stats"?p():m("healing-stats"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="healing-stats"?"Close Healing Stats":"Expand Healing Stats",title:f==="healing-stats"?"Close":"Expand",children:f==="healing-stats"?u.jsx(Hi,{className:"w-4 h-4"}):u.jsx(aa,{className:"w-4 h-4"})})]}),e.healingPlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No healing stats available"}):N?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(xs,{options:[...Y.map(K=>({...K,type:"column"})),...M.map(K=>({...K,type:"player"}))],onSelect:K=>{K.type==="column"?T(G=>G.includes(K.id)?G.filter(L=>L!==K.id):[...G,K.id]):E(G=>G.includes(K.id)?G.filter(L=>L!==K.id):[...G,K.id])},selectedIds:O,className:"w-full sm:w-64"}),u.jsx(_n,{value:i,onChange:a,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(vr,{options:Y,selectedIds:$,onToggle:K=>{T(G=>G.includes(K)?G.filter(L=>L!==K):[...G,K])},onClear:()=>T([]),buttonIcon:u.jsx(ps,{className:"h-3.5 w-3.5"})}),u.jsx(_n,{value:s,onChange:o,options:[{value:"all",label:"All Res Utility"},...(l.resUtilitySkills||[]).map(K=>({value:K.id,label:K.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(vr,{options:M,selectedIds:A,onToggle:K=>{E(G=>G.includes(K)?G.filter(L=>L!==K):[...G,K])},onClear:()=>E([]),buttonLabel:"Players",buttonIcon:u.jsx(Ar,{className:"h-3.5 w-3.5"})})]}),($.length>0||A.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{T([]),E([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),$.map(K=>{var L;const G=((L=Y.find(P=>P.id===K))==null?void 0:L.label)||K;return u.jsxs("button",{type:"button",onClick:()=>T(P=>P.filter(j=>j!==K)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:G}),u.jsx("span",{className:"text-gray-400",children:""})]},K)}),A.map(K=>u.jsxs("button",{type:"button",onClick:()=>E(G=>G.filter(L=>L!==K)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:K}),u.jsx("span",{className:"text-gray-400",children:""})]},K))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:(()=>{var j,U;const K=k=>Math.max(1,(k.activeMs||0)/1e3),G=k=>{const _=k.baseField==="resUtility",ae=_||i==="total"?"":i==="offSquad"?"offSquad":i;return _?s==="all"?"resUtility":`resUtility_${s}`:ae?`${ae}${k.baseField[0].toUpperCase()}${k.baseField.slice(1)}`:k.baseField},L=[...e.healingPlayers].filter(k=>A.length===0||A.includes(k.account)).filter(k=>Object.values(k.healingTotals||{}).some(_=>Number(_)>0)).map(k=>{const _={},ae={};return Q.forEach(ee=>{var J;const V=G(ee),ne=Number(((J=k.healingTotals)==null?void 0:J[V])??0),F=ee.perSecond?ne/K(k):ne;ae[ee.id]=F,_[ee.id]=c(F,ee.decimals)}),{row:k,values:_,numericValues:ae}}).sort((k,_)=>{var F,J;const ae=((F=Q.find(ue=>ue.id===S.columnId))==null?void 0:F.id)||((J=Q[0])==null?void 0:J.id)||"",ee=k.numericValues[ae]??0,V=_.numericValues[ae]??0;return(S.dir==="desc"?V-ee:ee-V)||String(k.row.account||"").localeCompare(String(_.row.account||""))}),P=((j=Q.find(k=>k.id===S.columnId))==null?void 0:j.id)||((U=Q[0])==null?void 0:U.id)||"";return u.jsx(vs,{title:"Healing - Dense View",subtitle:"Healing",sortColumnId:P,sortDirection:S.dir,onSortColumn:k=>{C(_=>({columnId:k,dir:_.columnId===k&&_.dir==="desc"?"asc":"desc"}))},columns:Q.map(k=>({id:k.id,label:k.label,align:"right",minWidth:90})),rows:L.map((k,_)=>({id:`${k.row.account}-${_}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:_+1}),d(k.row.profession,k.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:k.row.account})]}),values:k.values}))})})()})]}):u.jsx(Po,{expanded:f==="healing-stats",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="healing-stats"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="healing-stats"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),u.jsx("div",{className:"flex-1 overflow-y-auto space-y-1 pr-1",children:t.map(K=>u.jsx("button",{onClick:()=>r(K.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${n===K.id?"bg-lime-500/20 text-lime-200 border-lime-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:K.label},K.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const K=t.find(k=>k.id===n)||t[0],G=K.baseField==="resUtility",L=k=>Math.max(1,(k.activeMs||0)/1e3),P=G||i==="total"?"":i==="offSquad"?"offSquad":i,j=G?s==="all"?"resUtility":`resUtility_${s}`:P?`${P}${K.baseField[0].toUpperCase()}${K.baseField.slice(1)}`:K.baseField,U=[...e.healingPlayers].filter(k=>Object.values(k.healingTotals||{}).some(_=>Number(_)>0)).map(k=>{var ee;const _=Number(((ee=k.healingTotals)==null?void 0:ee[j])??0),ae=K.perSecond?_/L(k):_;return{...k,value:ae}}).sort((k,_)=>{const ae=b.key==="fightTime"?Number(k.activeMs||0):Number(k.value||0),ee=b.key==="fightTime"?Number(_.activeMs||0):Number(_.value||0);return(b.dir==="desc"?ee-ae:ae-ee)||k.account.localeCompare(_.account)});return u.jsx(ys,{expanded:f==="healing-stats",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:K.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Healing"})]}),columns:u.jsxs(u.Fragment,{children:[G&&u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5 flex-wrap",children:u.jsx(_n,{value:s,onChange:o,options:[{value:"all",label:"All"},...(l.resUtilitySkills||[]).map(k=>({value:k.id,label:k.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),!G&&u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5",children:u.jsx(_n,{value:i,onChange:a,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>re("value"),className:`text-right transition-colors ${b.key==="value"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:[K.label,b.key==="value"?b.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>re("fightTime"),className:`text-right transition-colors ${b.key==="fightTime"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",b.key==="fightTime"?b.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:U.length===0?u.jsx("div",{className:"px-4 py-6 text-sm text-gray-500 italic",children:"No healing data for this view"}):U.map((k,_)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:_+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(k.profession,k.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:k.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:c(k.value,K.decimals)}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:k.activeMs?`${(k.activeMs/1e3).toFixed(1)}s`:"-"})]},`${K.id}-${k.account}-${_}`))})})})()})})]})},yie=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}`:e:"",bie=({stats:e,specialSearch:t,setSpecialSearch:n,filteredSpecialTables:r,activeSpecialTab:i,setActiveSpecialTab:a,activeSpecialTable:s,formatWithCommas:o,renderProfessionIcon:l,expandedSection:c,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:h,isSectionVisible:m,isFirstVisibleSection:p,sectionClass:g,sidebarListClass:y})=>{const[v,b]=x.useState("total"),[w,S]=x.useState("desc"),[C,N]=x.useState({columnId:"",dir:"desc"}),A=c==="special-buffs",[E,$]=x.useState([]),[T,M]=x.useState([]),O=e.specialTables||[],Q=E.length>0?O.filter(j=>E.includes(j.id)):O,re=r.map(j=>({id:j.id,label:j.name,icon:j.icon?u.jsx("img",{src:j.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),ce=Array.from(new Map((e.specialTables||[]).flatMap(j=>j.rows||[]).filter(j=>j.account).map(j=>[j.account,j])).values()).map(j=>({id:j.account,label:j.account,icon:l(j.profession,j.professionList,"w-3 h-3")})),K=new Set([...E.map(j=>`column:${j}`),...T.map(j=>`player:${j}`)]),G=x.useMemo(()=>{if(!(s!=null&&s.rows))return[];const j=[...s.rows];return j.sort((U,k)=>{const _=Number((U==null?void 0:U[v])??0),ae=Number((k==null?void 0:k[v])??0),ee=w==="desc"?ae-_:_-ae;return ee!==0?ee:String((U==null?void 0:U.account)||"").localeCompare(String((k==null?void 0:k.account)||""))}),j},[s,v,w]),L=j=>{if(v===j){S(U=>U==="desc"?"asc":"desc");return}b(j),S("desc")},P=j=>v!==j?"":w==="desc"?" ":" ";return u.jsxs("div",{id:"special-buffs","data-section-visible":m("special-buffs"),"data-section-first":p("special-buffs"),className:g("special-buffs",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${c==="special-buffs"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(f0,{className:"w-5 h-5 text-purple-300"}),"Special Buffs"]}),u.jsx("button",{type:"button",onClick:()=>c==="special-buffs"?h():f("special-buffs"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":c==="special-buffs"?"Close Special Buffs":"Expand Special Buffs",title:c==="special-buffs"?"Close":"Expand",children:c==="special-buffs"?u.jsx(Hi,{className:"w-4 h-4"}):u.jsx(aa,{className:"w-4 h-4"})})]}),e.specialTables.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No special buff data available"}):A?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(xs,{options:[...O.map(j=>({id:j.id,label:j.name,type:"column"})),...Array.from(new Map((e.specialTables||[]).flatMap(j=>j.rows||[]).filter(j=>j.account).map(j=>[j.account,j])).values()).map(j=>({id:j.account,label:j.account,type:"player",icon:l(j.profession,j.professionList,"w-3 h-3")}))],onSelect:j=>{j.type==="column"?$(U=>U.includes(j.id)?U.filter(k=>k!==j.id):[...U,j.id]):M(U=>U.includes(j.id)?U.filter(k=>k!==j.id):[...U,j.id])},selectedIds:K,className:"w-full sm:w-64"}),u.jsx(vr,{options:re,selectedIds:E,onToggle:j=>{$(U=>U.includes(j)?U.filter(k=>k!==j):[...U,j])},onClear:()=>$([]),buttonIcon:u.jsx(ps,{className:"h-3.5 w-3.5"})}),u.jsx(vr,{options:ce,selectedIds:T,onToggle:j=>{M(U=>U.includes(j)?U.filter(k=>k!==j):[...U,j])},onClear:()=>M([]),buttonLabel:"Players",buttonIcon:u.jsx(Ar,{className:"h-3.5 w-3.5"})}),u.jsx(_n,{value:v,onChange:j=>b(j),options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"},{value:"duration",label:"Fight Time"}],activeClassName:"bg-purple-500/20 text-purple-200 border border-purple-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(E.length>0||T.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{$([]),M([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),E.map(j=>{var k;const U=((k=O.find(_=>_.id===j))==null?void 0:k.name)||j;return u.jsxs("button",{type:"button",onClick:()=>$(_=>_.filter(ae=>ae!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:U}),u.jsx("span",{className:"text-gray-400",children:""})]},j)}),T.map(j=>u.jsxs("button",{type:"button",onClick:()=>M(U=>U.filter(k=>k!==j)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:j}),u.jsx("span",{className:"text-gray-400",children:""})]},j))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:O.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No special buffs match this filter"}):(()=>{var V,ne;const j=Q,U=new Map,k=new Map;j.forEach(F=>{const J=new Map;F.rows.forEach(ue=>{const ie=ue.account||ue.name||ue.id;ie&&(J.set(ie,ue),k.has(ie)||k.set(ie,ue))}),U.set(F.id,J)});const _=Array.from(k.entries()).filter(([F])=>T.length===0||T.includes(String(F))).map(([F,J])=>{const ue={},ie={};return j.forEach(H=>{var Pe;const B=(Pe=U.get(H.id))==null?void 0:Pe.get(F);if(!B){ue[H.id]="-",ie[H.id]=0;return}if(v==="duration"){ue[H.id]=B.duration?`${B.duration.toFixed(1)}s`:"-",ie[H.id]=Number(B.duration||0);return}const I=v==="total"?B.total:B.perSecond,te=v==="total"?0:1;ie[H.id]=Number(I||0),ue[H.id]=o(I||0,te)}),{key:F,row:J,values:ue,numericValues:ie}}),ae=((V=j.find(F=>F.id===C.columnId))==null?void 0:V.id)||(i&&j.some(F=>F.id===i)?i:void 0)||((ne=j[0])==null?void 0:ne.id)||"",ee=[..._].sort((F,J)=>{if(!ae)return String(F.key).localeCompare(String(J.key));const ue=F.numericValues[ae]??0,ie=J.numericValues[ae]??0;return(C.dir==="desc"?ie-ue:ue-ie)||String(F.key).localeCompare(String(J.key))});return u.jsx(vs,{title:"Special Buffs - Dense View",subtitle:"Totals",sortColumnId:ae,sortDirection:C.dir,onSortColumn:F=>{N(J=>({columnId:F,dir:J.columnId===F&&J.dir==="desc"?"asc":"desc"}))},columns:j.map(F=>({id:F.id,label:u.jsx(Pr,{name:F.name,iconUrl:F.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:ee.map((F,J)=>({id:`${F.key}-${J}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:J+1}),l(F.row.profession,F.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:F.row.account||F.row.name||F.key})]}),values:F.values}))})})()})]}):u.jsx(Po,{expanded:c==="special-buffs",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${c==="special-buffs"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${c==="special-buffs"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),u.jsx("input",{value:t,onChange:j=>n(j.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${y} ${c==="special-buffs"?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No special buffs match this filter"}):r.map(j=>u.jsx("button",{onClick:()=>a(j.id),title:j.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===j.id?"bg-purple-500/20 text-purple-200 border-purple-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Pr,{name:yie(j.name),iconUrl:j.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},j.id))})]}),content:u.jsx(u.Fragment,{children:s?u.jsx(ys,{expanded:c==="special-buffs",maxHeightClass:"max-h-64",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(Pr,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Totals"})]}),columns:u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>L("total"),className:`text-right transition-colors ${v==="total"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Total",P("total")]}),u.jsxs("button",{type:"button",onClick:()=>L("perSecond"),className:`text-right transition-colors ${v==="perSecond"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Per Sec",P("perSecond")]}),u.jsxs("button",{type:"button",onClick:()=>L("duration"),className:`text-right transition-colors ${v==="duration"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",P("duration")]})]}),rows:u.jsx(u.Fragment,{children:G.map((j,U)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:U+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(j.profession,j.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:j.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Math.round(j.total).toLocaleString()}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:o(j.perSecond,1)}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:j.duration?`${j.duration.toFixed(1)}s`:"-"})]},`${s.id}-${j.account}-${U}`))})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a special buff to view details"})})})]})},wie=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}...`:e:"",kie=({hasSigilRelicTables:e,sigilRelicSearch:t,setSigilRelicSearch:n,filteredSigilRelicTables:r,activeSigilRelicTab:i,setActiveSigilRelicTab:a,activeSigilRelicTable:s,formatWithCommas:o,renderProfessionIcon:l,expandedSection:c,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:h,isSectionVisible:m,isFirstVisibleSection:p,sectionClass:g,sidebarListClass:y})=>{const[v,b]=x.useState("desc"),w=c==="sigil-relic-uptime",S=x.useMemo(()=>{if(!(s!=null&&s.rows))return[];const C=[...s.rows];return C.sort((N,A)=>{const E=Number((N==null?void 0:N.uptimePerSecond)??(N==null?void 0:N.perSecond)??0),$=Number((A==null?void 0:A.uptimePerSecond)??(A==null?void 0:A.perSecond)??0),T=v==="desc"?$-E:E-$;return T!==0?T:String((N==null?void 0:N.account)||"").localeCompare(String((A==null?void 0:A.account)||""))}),C},[s,v]);return u.jsxs("div",{id:"sigil-relic-uptime","data-section-visible":m("sigil-relic-uptime"),"data-section-first":p("sigil-relic-uptime"),className:g("sigil-relic-uptime",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${c==="sigil-relic-uptime"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(E1,{className:"w-5 h-5 text-fuchsia-300"}),"Sigil/Relic Uptime"]}),u.jsx("button",{type:"button",onClick:()=>c==="sigil-relic-uptime"?h():f("sigil-relic-uptime"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":c==="sigil-relic-uptime"?"Close Sigil/Relic Uptime":"Expand Sigil/Relic Uptime",title:c==="sigil-relic-uptime"?"Close":"Expand",children:c==="sigil-relic-uptime"?u.jsx(Hi,{className:"w-4 h-4"}):u.jsx(aa,{className:"w-4 h-4"})})]}),e?u.jsx(Po,{expanded:w,sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${w?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${w?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Sigil/Relic"}),u.jsx("input",{value:t,onChange:C=>n(C.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${y} ${w?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No sigil/relic entries match this filter"}):r.map(C=>u.jsx("button",{onClick:()=>a(C.id),title:C.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===C.id?"bg-fuchsia-500/20 text-fuchsia-200 border-fuchsia-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Pr,{name:wie(C.name),iconUrl:C.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},C.id))})]}),content:u.jsx(u.Fragment,{children:s?u.jsx(ys,{expanded:w,maxHeightClass:"max-h-72",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(Pr,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Uptime"})]}),columns:u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>b(C=>C==="desc"?"asc":"desc"),className:"text-right transition-colors text-gray-400 hover:text-gray-200",children:["Uptime ",v==="desc"?"":""]})]}),rows:u.jsx(u.Fragment,{children:S.map((C,N)=>{const A=Number(C.uptimePerSecond??C.perSecond??0)*100;return u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:N+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(C.profession,C.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:C.account})]}),u.jsxs("div",{className:"text-right font-mono text-gray-300",children:[o(A,1),"%"]})]},`${s.id}-${C.account}-${N}`)})})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a sigil/relic to view uptime"})})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No sigil/relic uptime data available"})]})},Sie=({stats:e,formatWithCommas:t,expandedSection:n,expandedSectionClosing:r,openExpandedSection:i,closeExpandedSection:a,isSectionVisible:s,isFirstVisibleSection:o,sectionClass:l})=>{const c=Array.isArray(e==null?void 0:e.fightDiffMode)?e.fightDiffMode:[],d=!Array.isArray(e==null?void 0:e.fightDiffMode)&&Array.isArray(e==null?void 0:e.fightBreakdown)&&e.fightBreakdown.length>0,[f,h]=x.useState(""),[m,p]=x.useState(""),[g,y]=x.useState(null);x.useEffect(()=>{var Y,Q,re;if(c.length===0){h(""),p("");return}const M=String(((Y=c[0])==null?void 0:Y.id)||""),O=String(((Q=c[1])==null?void 0:Q.id)||((re=c[0])==null?void 0:re.id)||"");h(ce=>ce&&c.some(K=>String(K.id)===ce)?ce:M),p(ce=>ce&&c.some(K=>String(K.id)===ce)?ce:O)},[c]);const v=x.useMemo(()=>c.find(M=>String(M.id)===String(f))||null,[c,f]),b=x.useMemo(()=>c.find(M=>String(M.id)===String(m))||null,[c,m]),w=x.useMemo(()=>{if(!v||!b)return[];const M=new Map,O=(Y,Q,re,ce)=>{const K=String(Y||"Unknown"),G=M.get(K)||{label:K,aDamage:0,aShare:0,bDamage:0,bShare:0};Q==="a"?(G.aDamage=Number(re||0),G.aShare=Number(ce||0)):(G.bDamage=Number(re||0),G.bShare=Number(ce||0)),M.set(K,G)};return(v.targetFocus||[]).forEach(Y=>O(Y.label,"a",Y.damage,Y.share)),(b.targetFocus||[]).forEach(Y=>O(Y.label,"b",Y.damage,Y.share)),Array.from(M.values()).map(Y=>({...Y,shareDelta:Y.bShare-Y.aShare})).sort((Y,Q)=>Math.abs(Q.shareDelta)-Math.abs(Y.shareDelta)||Q.bDamage+Q.aDamage-(Y.bDamage+Y.aDamage))},[v,b]),S=x.useMemo(()=>{if(!g)return w;const M=g.direction==="asc"?1:-1,O=g.key;return[...w].sort((Y,Q)=>{const re=(Number(Y[O])-Number(Q[O]))*M;return re!==0?re:Y.label.localeCompare(Q.label)})},[w,g]),C=x.useMemo(()=>{if(!v||!b)return[];const M=new Map((v.squadMetrics||[]).map(Q=>[Q.metricId,Q])),O=new Map((b.squadMetrics||[]).map(Q=>[Q.metricId,Q]));return Array.from(new Set([...M.keys(),...O.keys()])).map(Q=>{const re=M.get(Q),ce=O.get(Q),K=!!((re==null?void 0:re.higherIsBetter)??(ce==null?void 0:ce.higherIsBetter)??!0),G=Number((re==null?void 0:re.value)||0),L=Number((ce==null?void 0:ce.value)||0);return{metricId:Q,metricLabel:String((re==null?void 0:re.metricLabel)||(ce==null?void 0:ce.metricLabel)||Q),higherIsBetter:K,a:re,b:ce,delta:L-G}})},[v,b]),N=M=>`${t((Number(M)||0)*100,1)}%`,A=M=>M==="squadKdr"?2:0,E=M=>{y(O=>!O||O.key!==M?{key:M,direction:"desc"}:{key:M,direction:O.direction==="desc"?"asc":"desc"})},$=M=>(g==null?void 0:g.key)===M?g.direction==="desc"?" ":" ":"",T=M=>`fight-diff-sort-button transition-colors whitespace-nowrap ${(g==null?void 0:g.key)===M?"text-indigo-200":"text-gray-400 hover:text-gray-200"}`;return u.jsxs("div",{id:"fight-diff-mode","data-section-visible":s("fight-diff-mode"),"data-section-first":o("fight-diff-mode"),className:l("fight-diff-mode",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${n==="fight-diff-mode"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${r?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(k1,{className:"w-5 h-5 text-indigo-300"}),"Fight Comparison"]}),u.jsx("button",{type:"button",onClick:()=>n==="fight-diff-mode"?a():i("fight-diff-mode"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":n==="fight-diff-mode"?"Close Fight Comparison":"Expand Fight Comparison",title:n==="fight-diff-mode"?"Close":"Expand",children:n==="fight-diff-mode"?u.jsx(Hi,{className:"w-4 h-4"}):u.jsx(aa,{className:"w-4 h-4"})})]}),d?u.jsxs("div",{className:"text-center text-gray-400 py-8 space-y-1",children:[u.jsx("div",{className:"font-semibold text-gray-200",children:"Fight Comparison data is missing in this dataset."}),u.jsx("div",{className:"text-sm text-gray-500",children:"Regenerate the stats/report with a build that includes Fight Comparison."})]}):c.length<2?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"Need at least two fights to compare."}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[u.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight A",u.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:f,onChange:M=>h(M.target.value),children:c.map(M=>u.jsxs("option",{value:M.id,children:[M.shortLabel," - ",M.fullLabel]},`fight-a-${M.id}`))})]}),u.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight B",u.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:m,onChange:M=>p(M.target.value),children:c.map(M=>u.jsxs("option",{value:M.id,children:[M.shortLabel," - ",M.fullLabel]},`fight-b-${M.id}`))})]})]}),u.jsxs("div",{className:"bg-indigo-500/10 border border-indigo-300/20 rounded-xl px-4 py-3 text-xs text-indigo-100/90 space-y-1",children:[u.jsx("div",{className:"uppercase tracking-widest text-[10px] text-indigo-200/80",children:"How Target Focus Works"}),u.jsxs("div",{children:["Target focus compares how your squad distributed damage ",u.jsx("span",{className:"font-semibold",children:"to"})," enemy professions between two fights (it is not damage ",u.jsx("span",{className:"font-semibold",children:"from"})," those professions)."]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",children:"Share"})," is the percent of your squad's total enemy-player damage that landed on that profession in that fight.",u.jsx("span",{className:"font-semibold",children:" Share Delta"})," is ",u.jsx("span",{className:"font-semibold",children:"Fight B - Fight A"}),"."]})]}),u.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:u.jsx(ys,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-96",header:u.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Target Focus Comparison"}),columns:w.length>0?u.jsx("div",{className:"bg-white/5 overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[220px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-left py-2 px-3",children:"Target"}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:T("aDamage"),onClick:()=>E("aDamage"),children:[v==null?void 0:v.shortLabel," Damage",$("aDamage")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:T("aShare"),onClick:()=>E("aShare"),children:[v==null?void 0:v.shortLabel," Share",$("aShare")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:T("bDamage"),onClick:()=>E("bDamage"),children:[b==null?void 0:b.shortLabel," Damage",$("bDamage")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:T("bShare"),onClick:()=>E("bShare"),children:[b==null?void 0:b.shortLabel," Share",$("bShare")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:T("shareDelta"),onClick:()=>E("shareDelta"),children:["Share Delta",$("shareDelta")]})})]})})]})}):null,rows:w.length>0?u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[220px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("tbody",{children:S.map(M=>u.jsxs("tr",{className:"border-t border-white/5",children:[u.jsx("td",{className:"py-2 px-3 text-gray-200",children:M.label}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(M.aDamage,0)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:N(M.aShare)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(M.bDamage,0)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:N(M.bShare)}),u.jsxs("td",{className:`py-2 px-3 text-right font-mono ${M.shareDelta>=0?"text-emerald-300":"text-red-300"}`,children:[M.shareDelta>=0?"+":"",N(M.shareDelta)]})]},`focus-${M.label}`))})]})}):u.jsxs("div",{className:"px-4 py-8 text-center text-gray-400 text-sm space-y-1",children:[u.jsx("div",{className:"italic",children:"No target focus data for selected fights."}),u.jsx("div",{className:"text-xs text-gray-500",children:"Usually this means the fights were uploaded without Detailed WvW enemy slices, or the report was generated from an older build."})]})})}),u.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:u.jsx(ys,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-none",header:u.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Squad Metric Comparison"}),columns:C.length>0?u.jsx("div",{className:"bg-white/5 overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[320px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-left py-2 px-3",children:"Metric"}),u.jsxs("th",{className:"text-right py-2 px-3",children:[v==null?void 0:v.shortLabel," Value"]}),u.jsxs("th",{className:"text-right py-2 px-3",children:[b==null?void 0:b.shortLabel," Value"]}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})})]})}):null,rows:C.length>0?u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[320px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("tbody",{children:C.map(M=>{var Q,re;const O=M.higherIsBetter?M.delta>=0:M.delta<=0,Y=A(M.metricId);return u.jsxs("tr",{className:"border-t border-white/5",children:[u.jsx("td",{className:"py-2 px-3 text-gray-200",children:M.metricLabel}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((Q=M.a)==null?void 0:Q.value)||0),Y)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((re=M.b)==null?void 0:re.value)||0),Y)}),u.jsxs("td",{className:`py-2 px-3 text-right font-mono ${O?"text-emerald-300":"text-red-300"}`,children:[M.delta>0?"+":"",t(M.delta,Y)]})]},`performer-${M.metricId}`)})})]})}):u.jsx("div",{className:"px-4 py-8 text-center text-gray-500 italic text-sm",children:"No squad metric data for selected fights."})})})]})]})},Nie=({stats:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>u.jsxs(u.Fragment,{children:[u.jsx("div",{id:"kdr",className:"scroll-mt-24"}),u.jsxs("div",{id:"overview","data-section-visible":t("overview"),"data-section-first":n("overview"),className:r("overview","grid grid-cols-1 md:grid-cols-2 gap-4 scroll-mt-24"),children:[u.jsx("div",{className:"overview-card overview-card--green bg-gradient-to-br from-green-500/20 to-emerald-900/20 border border-green-500/30 rounded-2xl px-5 py-4",children:u.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.avgSquadSize}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Avg Squad"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-black text-green-300 leading-none",children:e.wins}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/50 mt-1",children:"Victories"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.squadKDR}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Squad KDR"})]})]})}),u.jsx("div",{className:"overview-card overview-card--red bg-gradient-to-br from-red-500/20 to-rose-900/20 border border-red-500/30 rounded-2xl px-5 py-4",children:u.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.avgEnemies}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Avg Enemies"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-black text-red-300 leading-none",children:e.losses}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/50 mt-1",children:"Defeats"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.enemyKDR}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Enemy KDR"})]})]})})]})]}),Cie=({stats:e,fightBreakdownTab:t,setFightBreakdownTab:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{var l;const s=x.useMemo(()=>{const c=new Map;return(Array.isArray(e==null?void 0:e.fightBreakdown)?e.fightBreakdown:[]).forEach(f=>{(Array.isArray(f==null?void 0:f.teamBreakdown)?f.teamBreakdown:[]).forEach(m=>{const p=String((m==null?void 0:m.teamId)??"").trim(),g=Number((m==null?void 0:m.count)||0);!p||!Number.isFinite(g)||g<=0||c.set(p,(c.get(p)||0)+g)})}),Array.from(c.entries()).sort((f,h)=>{const m=h[1]-f[1];return m!==0?m:f[0].localeCompare(h[0],void 0,{numeric:!0})}).map(([f])=>f)},[e==null?void 0:e.fightBreakdown]),o=c=>{const d=c==null?void 0:c.timestamp;let f=0;if(typeof d=="number")f=d>1e12?d:d*1e3;else if(typeof d=="string"&&d.trim()){const g=Number(d);if(Number.isFinite(g)&&g>0)f=g>1e12?g:g*1e3;else{const y=Date.parse(d);Number.isFinite(y)&&y>0&&(f=y)}}const h=f>0?new Date(f).toLocaleDateString(void 0,{month:"2-digit",day:"2-digit"})+" "+new Date(f).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}):"--",m=(c==null?void 0:c.mapName)||(c==null?void 0:c.map)||"Unknown Map",p=String(m).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim();return`${h}  ${p}`};return u.jsx("div",{id:"fight-breakdown","data-section-visible":r("fight-breakdown"),"data-section-first":i("fight-breakdown"),className:a("fight-breakdown","mt-6 stats-share-exclude"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-200",children:"Fight Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(_n,{value:t,onChange:n,options:[{value:"sizes",label:"Sizes"},{value:"outcomes",label:"Outcome"},{value:"damage",label:"Damage"},{value:"barrier",label:"Barrier"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsxs("span",{className:"text-[10px] uppercase tracking-widest text-gray-500 sm:ml-1 w-full sm:w-auto",children:[((l=e.fightBreakdown)==null?void 0:l.length)||0," Fights"]})]})]}),(e.fightBreakdown||[]).length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight data available"}):u.jsx("div",{className:"overflow-x-auto",children:u.jsx("div",{className:"max-h-[360px] overflow-y-auto",children:u.jsxs("table",{className:"w-full text-xs table-auto min-w-[720px]",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-right py-2 px-2 w-8",children:"#"}),u.jsx("th",{className:"text-left py-2 px-3 w-[240px]",children:"Report"}),u.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Duration"}),u.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Outcome"}),t==="sizes"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Squad"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemies"}),s.length===0?u.jsx("th",{className:"text-right py-2 px-3",children:"Teams"}):s.map(c=>u.jsx("th",{className:"text-right py-2 px-3",children:`Team ${c}`},c))]}),t==="outcomes"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Down"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Dead"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Revived"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Rallies"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Downs"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Deaths"})]}),t==="damage"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Outgoing Dmg"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Incoming Dmg"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]}),t==="barrier"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",title:"Incoming damage mitigated by your squad's barrier",children:"Barrier Absorption"}),u.jsx("th",{className:"text-right py-2 px-3",title:"Outgoing damage mitigated by enemy barrier",children:"Enemy Barrier Absorption"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})]})}),u.jsx("tbody",{children:(e.fightBreakdown||[]).map((c,d)=>u.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[u.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-500 w-8",children:d+1}),u.jsx("td",{className:"py-2 px-3 w-[240px]",children:c.permalink?u.jsx("button",{onClick:()=>{var f;c.permalink&&((f=window.electronAPI)!=null&&f.openExternal)?window.electronAPI.openExternal(c.permalink):c.permalink&&window.open(c.permalink,"_blank")},className:"text-cyan-300 hover:text-cyan-200 underline underline-offset-2 block truncate",children:o(c)}):u.jsx("span",{className:"text-gray-500",children:"Pending"})}),u.jsx("td",{className:"py-2 px-3 text-gray-200 w-20",children:c.duration||"--:--"}),u.jsx("td",{className:`py-2 px-3 font-semibold ${c.isWin?"text-emerald-300":"text-red-300"}`,children:c.isWin?"Win":"Loss"}),t==="sizes"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Ex,{count:c.squadCount??0,classCounts:c.squadClassCountsFight,label:"Squad Classes",className:"text-gray-200"})}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Ex,{count:c.allyCount??0,classCounts:c.allyClassCountsFight,label:"Ally Classes",className:"text-gray-200"})}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Ex,{count:c.enemyCount??0,classCounts:c.enemyClassCounts,label:"Enemy Classes",className:"text-gray-200"})}),s.length===0?u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:"0"}):s.map(f=>{const m=(Array.isArray(c.teamBreakdown)?c.teamBreakdown:[]).find(p=>String((p==null?void 0:p.teamId)??"")===f);return u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:Number((m==null?void 0:m.count)||0)},f)})]}),t==="outcomes"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesDown??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesDead??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesRevived??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.rallies??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.enemyDowns??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.enemyDeaths??0})]}),t==="damage"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.totalOutgoingDamage||0).toLocaleString()}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.totalIncomingDamage||0).toLocaleString()}),(()=>{const f=Number((c.totalOutgoingDamage||0)-(c.totalIncomingDamage||0));return u.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-red-300":"text-emerald-300"}`,children:f.toLocaleString()})})()]}),t==="barrier"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.incomingBarrierAbsorbed||0).toLocaleString()}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.outgoingBarrierAbsorbed||0).toLocaleString()}),(()=>{const f=Number((c.outgoingBarrierAbsorbed||0)-(c.incomingBarrierAbsorbed||0));return u.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-emerald-300":"text-red-300"}`,children:f.toLocaleString()})})()]})]},c.id||`${c.label}-${d}`))})]})})})]})})},YP={red:{bg:"bg-red-500/20",text:"text-red-400"},yellow:{bg:"bg-yellow-500/20",text:"text-yellow-400"},green:{bg:"bg-green-500/20",text:"text-green-400"},purple:{bg:"bg-purple-500/20",text:"text-purple-400"},blue:{bg:"bg-blue-500/20",text:"text-blue-400"},pink:{bg:"bg-pink-500/20",text:"text-pink-400"},cyan:{bg:"bg-cyan-500/20",text:"text-cyan-400"},indigo:{bg:"bg-indigo-500/20",text:"text-indigo-400"}},jie=({icon:e,title:t,data:n,color:r,unit:i="",onClick:a,active:s,rows:o,formatValue:l,renderProfessionIcon:c})=>{const d=YP[r]||YP.blue,f=(n==null?void 0:n.value)??0,h=l?l(f):Math.round(f).toLocaleString();return u.jsxs("div",{role:"button",tabIndex:0,onClick:a,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),a==null||a())},className:`bg-white/5 border border-white/10 rounded-xl p-4 flex flex-col gap-3 group hover:bg-white/10 transition-colors cursor-pointer ${s?"ring-1 ring-white/20":""}`,children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`p-3 rounded-lg ${d.bg} ${d.text} shrink-0`,children:u.jsx(e,{className:"w-6 h-6"})}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("div",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider truncate",children:t}),u.jsxs("div",{className:"text-2xl font-bold text-white mt-0.5 break-words",children:[h," ",u.jsx("span",{className:"text-sm font-normal text-gray-500",children:i})]})]})]}),u.jsxs("div",{className:"flex flex-col border-t border-white/5 pt-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c((n==null?void 0:n.profession)||"Unknown",n==null?void 0:n.professionList,"w-4 h-4"),u.jsx("div",{className:"text-sm font-medium text-blue-300 truncate",children:(n==null?void 0:n.player)||"-"})]}),u.jsx("div",{className:"text-xs text-gray-500 truncate",children:n!=null&&n.count?`${n.count} logs`:"-"})]}),s&&u.jsxs("div",{className:"mt-3 stats-share-exclude",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-200 mb-2",children:t}),o!=null&&o.length?u.jsx("div",{className:"max-h-56 overflow-y-auto pr-1 space-y-1",children:o.map(m=>u.jsxs("div",{className:"flex items-center gap-2 min-w-0 text-xs text-gray-300",children:[u.jsx("div",{className:"w-6 shrink-0 text-right text-gray-500",children:m.rank}),u.jsx("div",{className:"shrink-0",children:c(m.profession,m.professionList,"w-4 h-4")}),u.jsx("div",{className:"flex-1 min-w-0 truncate",children:m.account}),u.jsx("div",{className:"shrink-0 text-gray-400 font-mono",children:l?l(m.value):m.value})]},`${t}-${m.rank}-${m.account}`))}):u.jsx("div",{className:"text-xs text-gray-500 italic",children:"No data available"})]})]})},Aie=(e,t)=>{const n=(Array.isArray(e)?e:[]).map(a=>({...a,value:Number((a==null?void 0:a.value)??0)})).filter(a=>Number.isFinite(a.value)).sort((a,s)=>{const o=t?s.value-a.value:a.value-s.value;return o!==0?o:String((a==null?void 0:a.account)||"").localeCompare(String((s==null?void 0:s.account)||""))});let r=null,i=0;return n.map((a,s)=>((r===null||a.value!==r)&&(i=s+1,r=a.value),{...a,rank:i}))},XP=(e,t)=>{if(typeof e=="number"&&Number.isFinite(e))return t(e);if(typeof e=="string"){const n=Number(e.replace(/,/g,"").trim());return Number.isFinite(n)?t(n):e}return"--"},Pie=({stats:e,showTopStats:t,showMvp:n,topStatsMode:r,expandedLeader:i,setExpandedLeader:a,formatTopStatValue:s,formatWithCommas:o,isMvpStatEnabled:l,renderProfessionIcon:c,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:h})=>t?u.jsxs("div",{id:"top-players","data-section-visible":d("top-players"),"data-section-first":f("top-players"),className:h("top-players","scroll-mt-24"),children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(nc,{className:"w-5 h-5 text-yellow-400"}),"Top Players (Total Accumulated Stats)"]}),n&&u.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[minmax(0,1.6fr)_minmax(0,0.9fr)] gap-3 mb-6",children:[u.jsxs("div",{className:"mvp-card mvp-card--gold border border-yellow-500/30 rounded-2xl p-3 relative overflow-hidden group flex items-center",children:[u.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-yellow-500/10 blur-[80px] rounded-full pointer-events-none group-hover:bg-yellow-500/20 transition-all"}),u.jsxs("div",{className:"flex items-center gap-5 relative z-10 w-full",children:[u.jsx("div",{className:"hidden sm:flex items-center justify-center w-20 h-20 rounded-full bg-yellow-500/20 border border-yellow-500/30 shadow-[0_0_20px_rgba(234,179,8,0.2)]",children:u.jsx(p6,{className:"w-10 h-10 text-yellow-400"})}),u.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(f0,{className:"w-4 h-4 text-yellow-400 animate-pulse"}),u.jsx("span",{className:"text-yellow-400 font-bold uppercase tracking-widest text-xs",children:"Squad MVP"})]}),u.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-white mb-2 flex flex-wrap items-center gap-2 sm:gap-3",children:[u.jsx("span",{className:"min-w-0 max-w-full truncate",children:e.mvp.account}),c(e.mvp.profession,e.mvp.professionList,"w-6 h-6"),u.jsx("span",{className:"text-sm sm:text-lg font-medium text-yellow-200/70 bg-white/5 px-2 py-0.5 rounded border border-yellow-500/20 max-w-full truncate",children:e.mvp.profession})]}),u.jsxs("p",{className:"text-yellow-200/80 italic flex items-center gap-2 mb-2",children:[u.jsx(Fp,{className:"w-4 h-4 text-yellow-400 fill-yellow-500/40"}),'"',e.mvp.reason,'"']}),u.jsx("div",{className:"mt-auto flex flex-wrap gap-2",children:e.mvp.topStats&&e.mvp.topStats.filter(m=>l(m.name)).map((m,p)=>u.jsxs("div",{className:"inline-flex items-baseline gap-2 px-2.5 py-0.5 bg-yellow-500/10 border border-yellow-500/30 rounded-full text-[11px] leading-none",children:[u.jsx("span",{className:"text-yellow-200 font-bold",children:m.name}),u.jsx("span",{className:"text-yellow-50 font-mono tabular-nums",children:XP(m.val,s)})]},p))})]}),u.jsxs("div",{className:"hidden lg:block text-right",children:[u.jsx("div",{className:"text-yellow-500/40 font-mono text-sm uppercase tracking-wider font-bold",children:"Contribution Score"}),u.jsx("div",{className:"text-4xl font-black text-yellow-500/80",children:e.mvp.score>0?e.mvp.score.toFixed(1):"-"}),u.jsxs("div",{className:"text-xs text-yellow-500/30 font-mono mt-1",children:["Avg: ",e.avgMvpScore.toFixed(1)]})]})]})]}),u.jsx("div",{className:"grid grid-cols-2 xl:grid-cols-1 gap-3",children:[{label:"Silver",data:e.silver},{label:"Bronze",data:e.bronze}].map(m=>{var p,g,y,v,b;return u.jsxs("div",{className:`mvp-card mvp-card--${m.label.toLowerCase()} border border-white/10 rounded-2xl p-3 relative overflow-hidden group flex flex-col`,children:[u.jsx("div",{className:`absolute top-0 right-0 w-48 h-48 rounded-full blur-[70px] pointer-events-none transition-all ${m.label==="Silver"?"bg-slate-300/15 group-hover:bg-slate-300/25":"bg-orange-400/15 group-hover:bg-orange-400/25"}`}),u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsxs("div",{className:`text-xs uppercase tracking-widest font-semibold ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:[m.label," MVP"]}),u.jsx("div",{className:"text-xs text-gray-500 font-mono",children:(p=m.data)!=null&&p.score?m.data.score.toFixed(1):"-"})]}),u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.data&&c(m.data.profession,m.data.professionList,"w-6 h-6"),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("div",{className:`text-base font-semibold ${m.label==="Silver"?"text-slate-100":"text-orange-100"} truncate`,children:((g=m.data)==null?void 0:g.account)||""}),u.jsx("div",{className:`text-xs ${m.label==="Silver"?"text-slate-300/70":"text-orange-200/70"} truncate`,children:((y=m.data)==null?void 0:y.profession)||"Unknown"})]})]}),(b=(v=m.data)==null?void 0:v.topStats)!=null&&b.some(w=>l(w.name))?u.jsx("div",{className:`mt-auto flex flex-wrap items-center gap-2 text-[10px] ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:m.data.topStats.filter(w=>l(w.name)).map((w,S)=>u.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full border leading-none ${m.label==="Silver"?"bg-slate-400/10 border-slate-300/30":"bg-orange-500/10 border-orange-400/30"}`,children:[u.jsx("span",{className:"leading-none",children:w.name}),u.jsx("span",{className:"tabular-nums leading-none",children:XP(w.val,s)})]},S))}):null]},m.label)})})]}),(()=>{const m=r==="perSecond",p=m&&e.topStatsPerSecond?e.topStatsPerSecond:e,g=m&&e.topStatsLeaderboardsPerSecond?e.topStatsLeaderboardsPerSecond:e.leaderboards,y=m?"":"Total ",v=m?" /s":"",b=[{icon:y6,title:`Down Contribution${v}`,data:p.maxDownContrib,color:"red",statKey:"downContrib",higherIsBetter:!0},{icon:Lu,title:`${y}Barrier${v}`,data:p.maxBarrier,color:"yellow",statKey:"barrier",higherIsBetter:!0},{icon:gO,title:`${y}Healing${v}`,data:p.maxHealing,color:"green",statKey:"healing",higherIsBetter:!0},{icon:A6,title:`${y}Dodges${v}`,data:p.maxDodges,color:"cyan",statKey:"dodges",higherIsBetter:!0},{icon:Pf,title:`${y}Strips${v}`,data:p.maxStrips,color:"purple",statKey:"strips",higherIsBetter:!0},{icon:v6,title:`${y}Cleanses${v}`,data:p.maxCleanses,color:"blue",statKey:"cleanses",higherIsBetter:!0},{icon:x6,title:`${y}CC${v}`,data:p.maxCC,color:"pink",statKey:"cc",higherIsBetter:!0},{icon:bO,title:`${y}Stab Gen${v}`,data:p.maxStab,color:"cyan",statKey:"stability",higherIsBetter:!0},{icon:h6,title:"Closest to Tag",data:p.closestToTag,color:"indigo",unit:"dist",statKey:"closestToTag",higherIsBetter:!1}],w=S=>!m||!Number.isFinite(S)?s(S):o(S,2);return u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:b.map(S=>{var $,T,M,O;const C=i==="all",N=Aie((g==null?void 0:g[S.statKey])||[],S.higherIsBetter),A=N[0],E=A?{...S.data,value:Number(A.value||0),player:A.account||(($=S.data)==null?void 0:$.player)||"-",count:A.count||((T=S.data)==null?void 0:T.count)||0,profession:A.profession||((M=S.data)==null?void 0:M.profession)||"Unknown",professionList:A.professionList||((O=S.data)==null?void 0:O.professionList)||[]}:S.data;return u.jsx(jie,{...S,data:E,active:C,onClick:()=>a(Y=>Y==="all"?null:"all"),rows:N,formatValue:w,renderProfessionIcon:c},S.statKey)})})})()]}):null,Tie=({stats:e,topSkillsMetric:t,onTopSkillsMetricChange:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{const s=(t||e.topSkillsMetric)==="downContribution"?"downContribution":"damage",o=s==="downContribution",l=o?"Down Contrib":"Damage",c=s,d=Array.isArray(e.topSkillsByDamage)?e.topSkillsByDamage:null,f=Array.isArray(e.topSkillsByDownContribution)?e.topSkillsByDownContribution:null,h=x.useMemo(()=>o&&f?f:!o&&d?d:[...Array.isArray(e.topSkills)?e.topSkills:[]].sort((g,y)=>{const v=Number((g==null?void 0:g[c])||0);return Number((y==null?void 0:y[c])||0)-v||Number((y==null?void 0:y.hits)||0)-Number((g==null?void 0:g.hits)||0)||String((g==null?void 0:g.name)||"").localeCompare(String((y==null?void 0:y.name)||""))}),[o,d,f,e.topSkills,c]),m=x.useMemo(()=>Math.max(1,...h.map(g=>Number((g==null?void 0:g[c])||0))),[h,c]),p=typeof n=="function";return u.jsxs("div",{"data-section-visible":r("top-skills-outgoing"),"data-section-first":i("top-skills-outgoing"),className:a("top-skills-outgoing","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"),children:[u.jsxs("div",{id:"top-skills-outgoing","data-section-visible":r("top-skills-outgoing"),className:a("top-skills-outgoing","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(w1,{className:"top-skills-outgoing-icon w-5 h-5 text-orange-400"}),"Top Outgoing Skills"]}),u.jsx("div",{className:"text-xs text-gray-500 mt-1",children:l})]}),p&&u.jsx("div",{className:"pill-toggle-group flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"damage",label:"Damage"},{id:"downContribution",label:"Down Contrib"}].map(g=>{const y=(t||e.topSkillsMetric)===g.id;return u.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(g.id),className:`pill-toggle-option px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${y?"pill-toggle-option--active bg-orange-500/30 text-orange-200":"text-gray-400 hover:text-white"}`,children:g.label},g.id)})})]}),u.jsxs("div",{className:"max-h-80 overflow-y-auto overflow-x-hidden space-y-4",children:[h.map((g,y)=>u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",y+1]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm mb-1 py-0.5 leading-normal",children:[u.jsx("span",{className:"text-white font-bold flex-1 min-w-0 py-[1px]",children:u.jsx(Pr,{name:g.name,iconUrl:g.icon,iconClassName:"h-6 w-6",className:"min-w-0",textClassName:"truncate leading-[1.35] py-[1px]"})}),u.jsxs("div",{className:"text-right shrink-0",children:[u.jsx("span",{className:"top-skills-outgoing-value text-orange-400 font-mono font-bold",children:Math.round(g[c]||0).toLocaleString()}),u.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",g.hits.toLocaleString()," hits)"]})]})]}),u.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:u.jsx("div",{className:"top-skills-outgoing-bar h-full bg-orange-500 rounded-full",style:{width:`${Number(g[c]||0)/m*100}%`}})})]})]},`outgoing-${g.name||"unknown"}-${y}`)),h.length===0&&u.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No skill data available"})]})]}),u.jsxs("div",{id:"top-skills-incoming","data-section-visible":r("top-skills-incoming"),className:a("top-skills-incoming","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[u.jsx("div",{className:"flex items-center justify-between mb-6",children:u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(u6,{className:"w-5 h-5 text-red-500"}),"Top Incoming Skills"]}),u.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Damage"})]})}),u.jsxs("div",{className:"max-h-80 overflow-y-auto overflow-x-hidden space-y-4",children:[(e.topIncomingSkills||[]).map((g,y)=>{var v;return u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",y+1]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm mb-1 py-0.5 leading-normal",children:[u.jsx("span",{className:"text-white font-bold flex-1 min-w-0 py-[1px]",children:u.jsx(Pr,{name:g.name,iconUrl:g.icon,iconClassName:"h-6 w-6",className:"min-w-0",textClassName:"truncate leading-[1.35] py-[1px]"})}),u.jsxs("div",{className:"text-right shrink-0",children:[u.jsx("span",{className:"text-red-400 font-mono font-bold",children:Math.round(g.damage).toLocaleString()}),u.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",g.hits.toLocaleString()," hits)"]})]})]}),u.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${g.damage/(((v=e.topIncomingSkills[0])==null?void 0:v.damage)||1)*100}%`}})})]})]},`incoming-${g.name||"unknown"}-${y}`)}),e.topIncomingSkills.length===0&&u.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No incoming damage data available"})]})]})]})},Eie=({sortedSquadClassData:e,sortedEnemyClassData:t,getProfessionIconPath:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{const s=r("squad-composition");return u.jsxs("div",{id:"squad-composition","data-section-visible":s,"data-section-first":i("squad-composition"),className:a("squad-composition","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8 page-break-avoid"),children:[u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(Ar,{className:"w-5 h-5 text-green-400"}),"Classes"]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[u.jsx("div",{className:"h-[240px] sm:h-full",children:u.jsx(gc,{width:"100%",height:"100%",children:u.jsxs(tw,{children:[u.jsx(Eg,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:e.map((o,l)=>u.jsx(qu,{fill:o.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),u.jsx(bc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-squad-pie-${s?"visible":"hidden"}`)}),u.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:u.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:e.map(o=>u.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[u.jsx("span",{className:"inline-block w-3 h-3 rounded-sm",style:{backgroundColor:o.color}}),n(o.name)?u.jsx("img",{src:n(o.name),alt:o.name,className:"w-4 h-4 shrink-0 object-contain"}):u.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),u.jsx("span",{className:"min-w-0 truncate",children:o.name}),u.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",o.value,")"]})]},o.name))})})]})]}),u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(d0,{className:"w-5 h-5 text-red-400"}),"Enemy Composition"]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[u.jsx("div",{className:"h-[240px] sm:h-full",children:u.jsx(gc,{width:"100%",height:"100%",children:u.jsxs(tw,{children:[u.jsx(Eg,{data:t,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:t.map((o,l)=>u.jsx(qu,{fill:o.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),u.jsx(bc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-enemy-pie-${s?"visible":"hidden"}`)}),u.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:u.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:t.map(o=>u.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[u.jsx("span",{className:"inline-block w-3 h-3 rounded-sm",style:{backgroundColor:o.color}}),n(o.name)?u.jsx("img",{src:n(o.name),alt:o.name,className:"w-4 h-4 shrink-0 object-contain"}):u.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),u.jsx("span",{className:"min-w-0 truncate",children:o.name}),u.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",o.value,")"]})]},o.name))})})]})]})]})},Die=({timelineData:e,timelineFriendlyScope:t,setTimelineFriendlyScope:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>u.jsxs("div",{id:"timeline","data-section-visible":r("timeline"),"data-section-first":i("timeline"),className:a("timeline","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Ar,{className:"w-5 h-5 text-green-400"}),"Squad vs Enemy Size"]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-widest text-gray-500",children:[u.jsx("span",{className:"text-gray-400",children:"Friendly Count"}),u.jsx("div",{className:"flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1",children:[{value:"squad",label:"Squad"},{value:"squadAllies",label:"Squad + Allies"}].map(s=>u.jsx("button",{type:"button",onClick:()=>n(s.value),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${t===s.value?"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40":"border border-transparent text-gray-400 hover:text-gray-200"}`,children:s.label},s.value))})]})]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-10",children:"No timeline data available"}):u.jsx("div",{className:"h-[260px] w-full",children:u.jsx(gc,{width:"100%",height:"100%",children:u.jsxs(_g,{data:e,margin:{top:10,right:24,left:0,bottom:0},children:[u.jsx(qf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Gf,{dataKey:"index",tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"}}),u.jsx(Yf,{tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"},width:36}),u.jsx(bc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},labelFormatter:(s,o)=>{var c;const l=(c=o==null?void 0:o[0])==null?void 0:c.payload;return l!=null&&l.label?`Log ${l.index}  ${l.label}`:`Log ${s}`},formatter:(s,o)=>[s,o==="friendly"?t==="squad"?"Squad":"Squad + Allies":"Enemies"]}),u.jsx(Zs,{type:"monotone",dataKey:t==="squad"?"squadCount":"friendlyCount",name:"friendly",stroke:"#22c55e",strokeWidth:2,dot:{r:3,fill:"#22c55e"},activeDot:{r:5}}),u.jsx(Zs,{type:"monotone",dataKey:"enemies",stroke:"#ef4444",strokeWidth:2,dot:{r:3,fill:"#ef4444"},activeDot:{r:5}})]})})})]}),Mie=({mapData:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>u.jsxs("div",{id:"map-distribution","data-section-visible":t("map-distribution"),"data-section-first":n("map-distribution"),className:r("map-distribution","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(C1,{className:"w-5 h-5 text-blue-400"}),"Map Distribution"]}),u.jsx("div",{className:"h-[260px] sm:h-[300px] w-full",children:u.jsx(gc,{width:"100%",height:"100%",children:u.jsxs(tw,{children:[u.jsx(Eg,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:5,dataKey:"value",children:e.map((i,a)=>u.jsx(qu,{fill:i.color,stroke:"rgba(0,0,0,0.5)"},`cell-${a}`))}),u.jsx(bc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}}),u.jsx(z5,{verticalAlign:"bottom",height:36,payload:e.map(i=>({id:i.name,type:"square",value:i.name,color:i.color,payload:i})),formatter:(i,a)=>u.jsxs("span",{className:"text-gray-300 font-medium ml-1",children:[i," ",u.jsxs("span",{className:"text-gray-500",children:["(",a.payload.value,")"]})]})})]})})})]}),QP=({sectionId:e="spike-damage",title:t="Spike Damage",subtitle:n="Select one player to chart their highest damage burst per fight.",listTitle:r="Squad Players",searchPlaceholder:i="Search player or account",titleIconClassName:a="text-rose-300",expandedSection:s,expandedSectionClosing:o,openExpandedSection:l,closeExpandedSection:c,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:h,spikePlayerFilter:m,setSpikePlayerFilter:p,groupedSpikePlayers:g,spikeMode:y,setSpikeMode:v,selectedSpikePlayerKey:b,setSelectedSpikePlayerKey:w,selectedSpikePlayer:S,spikeChartData:C,spikeChartMaxY:N,selectedSpikeFightIndex:A,setSelectedSpikeFightIndex:E,spikeDrilldownTitle:$,spikeDrilldownData:T,spikeDrilldownDownIndices:M,spikeDrilldownDeathIndices:O,spikeFightSkillRows:Y=[],spikeFightSkillTitle:Q="Skill Damage (Selected Fight)",formatWithCommas:re,renderProfessionIcon:ce})=>{const[K,G]=x.useState(null),[L,P]=x.useState(null),j=I=>String(I||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),U=s===e,k=S?rc(S.profession):"#fda4af",_=y==="hit"?"Highest Damage":y==="1s"?"1s Burst":y==="5s"?"5s Burst":"30s Burst",ae=I=>y==="hit"?I.peakHit:y==="1s"?I.peak1s:y==="5s"?I.peak5s:I.peak30s,ee=g.flatMap(I=>I.players.map(te=>({...te,groupProfession:I.profession}))).sort((I,te)=>{const Pe=ae(te)-ae(I);return Pe!==0?Pe:I.displayName.localeCompare(te.displayName)}),V=C.reduce((I,te)=>!I||te.damage>I.damage?te:I,null),ne=I=>{if(!Number.isFinite(I)||I<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(I))}catch{return""}},F=T.reduce((I,te)=>Math.max(I,Number(te.value||0)),0),J=Math.max(1,F),ue=new Set(M),ie=new Set(O),H=T.map((I,te)=>({...I,downMarker:ue.has(te)?Math.max(Number(I.value||0),J*.88):null,deathMarker:ie.has(te)?Math.max(Number(I.value||0),J*.96):null})),B=I=>te=>{const Pe=Number(te==null?void 0:te.cx),Ue=Number(te==null?void 0:te.cy),se=Number(te==null?void 0:te.index);if(!Number.isFinite(Pe)||!Number.isFinite(Ue)||!Number.isFinite(se))return null;const Ye=(te==null?void 0:te.payload)||{},Oe=I==="down"?Ye==null?void 0:Ye.downMarker:Ye==null?void 0:Ye.deathMarker;if(!Number.isFinite(Number(Oe)))return null;const wt=`${I}-${se}`,qt=K===wt,vn=I==="down"?"#facc15":"#ef4444",$n=I==="down"?"#fde047":"#f87171";return u.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onMouseEnter:()=>{G(wt),P({x:Pe,y:Ue,kind:I,label:String((Ye==null?void 0:Ye.label)||"")})},onMouseLeave:()=>{G(ge=>ge===wt?null:ge),P(ge=>(ge==null?void 0:ge.kind)===I&&(ge==null?void 0:ge.label)===String((Ye==null?void 0:Ye.label)||"")?null:ge)},children:[u.jsx("circle",{cx:Pe,cy:Ue,r:qt?10:7,fill:$n,opacity:qt?.35:.18}),u.jsx("circle",{cx:Pe,cy:Ue,r:qt?7:5.5,fill:vn,stroke:"#0f172a",strokeWidth:qt?2.25:1.75})]})};return u.jsxs("div",{id:e,"data-section-visible":d(e),"data-section-first":f(e),className:h(e,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${U?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${o?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[u.jsxs("div",{className:U?"pr-10 md:pr-0":"",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Pf,{className:`w-5 h-5 ${a}`}),t]}),u.jsx("p",{className:"text-xs text-gray-400",children:n})]}),u.jsxs("div",{className:`flex items-center gap-3 ${U?"pr-10 md:pr-0":""}`,children:[u.jsx(_n,{value:y,onChange:I=>v(I),options:[{value:"hit",label:"Highest Damage"},{value:"1s",label:"1s"},{value:"5s",label:"5s"},{value:"30s",label:"30s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("button",{type:"button",onClick:()=>U?c():l(e),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${U?"absolute top-2 right-2 md:static":""}`,"aria-label":U?`Close ${t}`:`Expand ${t}`,title:U?"Close":"Expand",children:U?u.jsx(Hi,{className:"w-4 h-4"}):u.jsx(aa,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:r}),u.jsx("input",{type:"search",value:m,onChange:I=>p(I.target.value),placeholder:i,className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-rose-400 focus:outline-none"}),u.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:ee.length===0?u.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No players match the filter."}):u.jsx("div",{className:"p-1.5 space-y-1",children:ee.map(I=>{const te=b===I.key;return u.jsx("button",{type:"button",onClick:()=>w(I.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${te?"border-rose-300/60 bg-rose-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ce(I.profession,void 0,"w-3.5 h-3.5"),u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:I.displayName}),u.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:I.groupProfession})]}),u.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[I.characterName||I.displayName,"  ",I.logs," ",I.logs===1?"fight":"fights"]})]}),u.jsx("div",{className:"text-xs font-mono text-rose-200 shrink-0",children:re(ae(I)||0,0)})]})},I.key)})})})]}),u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:["Per Fight ",_]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[C.length," ",C.length===1?"fight":"fights"]})]}),u.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!S||C.length===0?u.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view burst damage by fight."}):u.jsx(gc,{width:"100%",height:"100%",children:u.jsxs(_g,{data:C,onClick:I=>{const te=Number(I==null?void 0:I.activeTooltipIndex);Number.isFinite(te)&&E(A===te?null:te)},children:[u.jsx(qf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Gf,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),u.jsx(Yf,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,N)],tickFormatter:I=>re(I,0)}),u.jsx(bc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(I,te)=>[re(Number(I||0),0),String(te||"")],labelFormatter:(I,te)=>{var se;const Pe=(se=te==null?void 0:te[0])==null?void 0:se.payload;if(!Pe)return"";const Ue=j(Pe.fullLabel||"");return y==="hit"&&Pe.skillName?`${Ue}  ${Pe.skillName}`:Ue}}),u.jsx(Zs,{type:"monotone",dataKey:"damage",name:S.displayName,stroke:k,strokeWidth:3,dot:I=>{var Ue;const te=Number((Ue=I==null?void 0:I.payload)==null?void 0:Ue.index);if(!Number.isFinite(te))return null;const Pe=A===te;return u.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:se=>{se.stopPropagation(),E(Pe?null:te)},children:[u.jsx("circle",{cx:I.cx,cy:I.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),u.jsx("circle",{cx:I.cx,cy:I.cy,r:Pe?4:3,fill:k,stroke:Pe?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:Pe?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),u.jsx(Zs,{type:"monotone",dataKey:"maxDamage",name:"Fight Max",stroke:"rgba(148,163,184,0.8)",strokeWidth:2,strokeDasharray:"6 4",dot:!1,activeDot:!1})]})})})]})]}),S&&u.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Player"}),u.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[ce(S.profession,S.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:S.displayName})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:y==="hit"?"Peak Highest Skill Damage":`Peak ${_}`}),u.jsx("div",{className:"mt-1 text-lg font-black text-rose-200 font-mono",children:re(ae(S)||0,0)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:y==="hit"?"Peak Skill / Fight":"Peak Fight"}),u.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const I=j((V==null?void 0:V.fullLabel)||S.peakFightLabel||"N/A"),te=ne(Number((V==null?void 0:V.timestamp)||0)),Pe=te?`${te} - ${I}`:I;return y!=="hit"?Pe:S.peakSkillName?`${S.peakSkillName}  ${Pe}`:Pe})()})]})]}),S&&A!==null&&u.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:$}),u.jsx("button",{type:"button",onClick:()=>E(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),u.jsx("div",{className:"h-[220px] relative",children:T.length===0?u.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):u.jsxs(u.Fragment,{children:[u.jsx(gc,{width:"100%",height:"100%",children:u.jsxs(_g,{data:H,children:[u.jsx(qf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Gf,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),u.jsx(Yf,{tick:{fill:"#e2e8f0",fontSize:10},tickFormatter:I=>re(I,0)}),u.jsx(bc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(I,te)=>{const Pe=String(te||"");return Pe==="Down"?["Downed","Event"]:Pe==="Death"?["Dead","Event"]:[re(Number(I||0),0),"Damage"]},labelFormatter:I=>String(I||"")}),u.jsx(Zs,{type:"monotone",dataKey:"value",name:"Damage",stroke:k,strokeWidth:2.5,dot:y==="hit"?{r:2}:!1,activeDot:{r:4}}),u.jsx(Zs,{type:"linear",dataKey:"downMarker",name:"Down",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:B("down")}),u.jsx(Zs,{type:"linear",dataKey:"deathMarker",name:"Death",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:B("death")})]})}),L&&u.jsxs("div",{className:"pointer-events-none absolute z-20 rounded-md border border-white/15 bg-[#101722] px-2 py-1 text-xs shadow-xl",style:{left:`${Math.max(8,L.x)}px`,top:`${Math.max(8,L.y-38)}px`,transform:"translate(-50%, -100%)"},children:[u.jsx("div",{className:`${L.kind==="down"?"text-yellow-300":"text-red-300"} font-semibold`,children:L.kind==="down"?"Down":"Death"}),u.jsx("div",{className:"text-gray-300",children:L.label})]})]})})]}),S&&A!==null&&u.jsxs("div",{className:`mt-4 transition-all duration-300 ${Y.length>0?"opacity-100 translate-y-0":"opacity-90"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:Q}),u.jsxs("div",{className:"text-[10px] uppercase tracking-[0.2em] text-gray-500",children:[Y.length," ",Y.length===1?"skill":"skills"]})]}),Y.length===0?u.jsx("div",{className:"text-xs text-gray-500 italic py-4",children:"No skill-level breakdown available for this fight."}):u.jsxs("div",{className:"incoming-skill-table-container rounded-lg border border-white/10 bg-black/35 overflow-hidden",children:[u.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2 text-[10px] uppercase tracking-[0.25em] text-gray-400 border-b border-white/10",children:[u.jsx("div",{children:"Skill"}),u.jsx("div",{className:"text-right",children:"Damage"}),u.jsx("div",{className:"text-right",children:"Hits"})]}),u.jsx("div",{className:"max-h-[260px] overflow-y-auto",children:Y.map((I,te)=>u.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2 text-sm text-gray-200 border-b border-white/[0.05] last:border-b-0",children:[u.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[I.icon?u.jsx("img",{src:I.icon,alt:"",loading:"lazy",className:"w-4 h-4 rounded-sm border border-white/[0.16] bg-black/40 flex-shrink-0"}):u.jsx("div",{className:"w-4 h-4 rounded-sm border border-white/[0.14] bg-white/[0.06] flex-shrink-0"}),u.jsx("div",{className:"truncate",title:I.skillName,children:I.skillName})]}),u.jsx("div",{className:"text-right font-mono text-rose-200",children:re(Number(I.damage||0),0)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:re(Number(I.hits||0),0)})]},`${I.skillName}-${te}`))})]})]})]})},Oie=10,Dx=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),i=t%60;return n>0?`${n}h ${String(r).padStart(2,"0")}m`:r>0?`${r}m ${String(i).padStart(2,"0")}s`:`${i}s`},Iie=({attendanceRows:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=x.useState(""),[o,l]=x.useState("squad"),[c,d]=x.useState("desc"),f=a.trim().toLowerCase(),h=x.useMemo(()=>{const g=e.filter(v=>{if(!f)return!0;const b=String(v.account||"").toLowerCase(),w=(v.characterNames||[]).join(" ").toLowerCase(),S=(v.classTimes||[]).map(C=>String(C.profession||"").toLowerCase()).join(" ");return b.includes(f)||w.includes(f)||S.includes(f)}),y=v=>Number(o==="fight"?v.combatTimeMs??v.squadTimeMs??0:v.squadTimeMs??0);return[...g].sort((v,b)=>{const w=y(b)-y(v);return w!==0?c==="desc"?w:-w:String(v.account||"").localeCompare(String(b.account||""))})},[e,f,c,o]),m=g=>{if(o===g){d(y=>y==="desc"?"asc":"desc");return}l(g),d("desc")},p=h.length>Oie;return u.jsx("section",{id:"attendance-ledger","data-section-visible":n("attendance-ledger"),"data-section-first":r("attendance-ledger"),className:i("attendance-ledger","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Af,{className:"w-5 h-5 text-amber-300"}),"Attendance Ledger"]}),u.jsxs("span",{className:"inline-flex items-center rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] uppercase tracking-widest text-gray-300",children:[e.length," Joined"]})]}),u.jsx("input",{value:a,onChange:g=>s(g.target.value),placeholder:"Search account, character, or class...",className:"w-full sm:w-[320px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"})]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No attendance data available."}):u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${p?"max-h-[30rem] overflow-y-auto":""}`,children:u.jsxs("table",{className:"w-full text-xs table-auto min-w-full border-separate border-spacing-0",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Account"}),u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Character(s)"}),u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Classes Played"}),u.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:u.jsxs("button",{type:"button",onClick:()=>m("fight"),className:`transition-colors whitespace-nowrap ${o==="fight"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Fight Time",o==="fight"?c==="desc"?" ":" ":""]})}),u.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:u.jsxs("button",{type:"button",onClick:()=>m("squad"),className:`transition-colors whitespace-nowrap ${o==="squad"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Squad Time",o==="squad"?c==="desc"?" ":" ":""]})})]})}),u.jsxs("tbody",{children:[h.map(g=>u.jsxs("tr",{className:"border-t border-white/5 align-top hover:bg-white/5",children:[u.jsx("td",{className:"py-2 px-4 text-gray-100 font-medium whitespace-nowrap",children:g.account}),u.jsx("td",{className:"py-2 px-4 text-gray-300",children:g.characterNames.length>0?g.characterNames.join(", "):"-"}),u.jsx("td",{className:"py-2 px-4",children:u.jsx("div",{className:"flex flex-wrap gap-1.5",children:g.classTimes.length>0?g.classTimes.map(y=>u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] text-gray-200",children:[t(y.profession)?u.jsx("img",{src:t(y.profession),alt:y.profession,className:"w-3.5 h-3.5 object-contain"}):null,u.jsx("span",{children:y.profession}),u.jsx("span",{className:"text-gray-400",children:Dx(y.timeMs)})]},`${g.account}-${y.profession}`)):u.jsx("span",{className:"text-gray-500",children:"-"})})}),u.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:Dx(Number(g.combatTimeMs??g.squadTimeMs??0))}),u.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:Dx(g.squadTimeMs)})]},g.account)),h.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:5,className:"py-6 text-center text-gray-500 italic",children:"No attendance rows match your search."})})]})]})})]})})},_ie=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},Lie=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=x.useState(null),[o,l]=x.useState(""),c=o.trim().toLowerCase(),d=sm("svg/commander_tag.svg");x.useEffect(()=>{if(e.length===0){a!==null&&s(null);return}(!a||!e.some(m=>m.id===a))&&s(e[0].id)},[e,a]);const f=x.useMemo(()=>e.find(m=>m.id===a)||null,[e,a]),h=m=>{if(!c)return!1;const p=String(m.account||"").toLowerCase(),g=String(m.characterName||"").toLowerCase(),y=String(m.profession||"").toLowerCase();return p.includes(c)||g.includes(c)||y.includes(c)};return u.jsx("section",{id:"squad-comp-fight","data-section-visible":n("squad-comp-fight"),"data-section-first":r("squad-comp-fight"),className:i("squad-comp-fight","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 squad-comp-shell",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(Ar,{className:"w-5 h-5 text-cyan-300"}),"Squad Comp By Fight"]}),u.jsx("div",{className:"mb-4",children:u.jsx("input",{value:o,onChange:m=>l(m.target.value),placeholder:"Search player or class (highlight matches)...",className:"w-full sm:w-[360px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"})}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No squad composition data available."}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[u.jsxs("aside",{className:"squad-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),u.jsx("div",{className:"space-y-1 pr-1 max-h-[560px] xl:max-h-[720px] overflow-y-auto",children:e.map(m=>{const p=m.id===a;return u.jsxs("button",{onClick:()=>s(m.id),className:`squad-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${p?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100 squad-comp-fight-nav-item--active":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:m.label}),u.jsx("div",{className:"text-xs font-semibold truncate",children:m.mapName||"Unknown Map"}),u.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[m.duration||"--:--","  ",_ie(m.timestamp)]})]},m.id)})})]}),u.jsx("div",{className:"rounded-xl border border-white/10 bg-gradient-to-b from-slate-950/55 to-slate-900/45 p-3 squad-comp-board",children:f?u.jsx("div",{className:"space-y-2.5",children:f.parties.map(m=>u.jsxs("div",{className:"squad-comp-party-row grid grid-cols-[40px_minmax(0,1fr)] gap-2 rounded-xl border border-white/10 bg-black/25 p-2",children:[u.jsxs("div",{className:"squad-comp-party-badge rounded-lg border border-white/15 bg-slate-900/80 text-center py-2",children:[u.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-500",children:"P"}),u.jsx("div",{className:"text-base font-bold text-gray-100 leading-none",children:m.party>0?m.party:"-"})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-1 min-w-0",children:m.players.map((p,g)=>(()=>{const y=h(p);return u.jsxs("div",{className:`squad-comp-player-tile rounded-md border border-emerald-300/20 bg-gradient-to-b from-emerald-500/30 to-emerald-700/25 px-2 py-1.5 min-w-0 transition-all ${y?"ring-2 ring-cyan-300/70 border-cyan-300/60 shadow-[0_0_20px_rgba(34,211,238,0.25)]":""} ${p.isCommander?"relative overflow-hidden":""}`,children:[p.isCommander?u.jsx("img",{src:d,alt:"","aria-hidden":"true",className:"absolute -right-2 -bottom-2 w-12 h-12 object-contain opacity-20 brightness-75 pointer-events-none"}):null,u.jsxs("div",{className:"grid grid-cols-[18px_minmax(0,1fr)] grid-rows-2 gap-x-2 items-center min-w-0",children:[u.jsx("div",{className:"row-span-2 flex items-center justify-center",children:t(p.profession)?u.jsx("img",{src:t(p.profession),alt:p.profession,className:"squad-comp-player-icon w-5 h-5 object-contain shrink-0 opacity-95"}):u.jsx("span",{className:"squad-comp-player-icon inline-block w-5 h-5 rounded-sm border border-white/15"})}),u.jsx("div",{className:"squad-comp-player-account text-[11px] font-semibold text-emerald-50 truncate min-w-0 flex items-center gap-1",title:p.account,children:u.jsx("span",{className:"truncate min-w-0",children:p.account})}),u.jsx("div",{className:"squad-comp-player-character text-[10px] text-emerald-100/80 truncate min-w-0",title:p.characterName||"Unknown",children:p.characterName||"Unknown"})]})]},`${f.id}-${m.party}-${p.account}-${g}`)})())})]},`${f.id}-party-${m.party}`))}):u.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},$ie=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},Fie=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=x.useState(null);x.useEffect(()=>{if(e.length===0){a!==null&&s(null);return}(!a||!e.some(c=>c.id===a))&&s(e[0].id)},[e,a]);const o=x.useMemo(()=>e.find(c=>c.id===a)||null,[e,a]),l=x.useMemo(()=>o!=null&&o.enemyClassCounts?Object.entries(o.enemyClassCounts).map(([c,d])=>({profession:c,count:Number(d||0)})).filter(c=>c.count>0).sort((c,d)=>d.count-c.count||c.profession.localeCompare(d.profession)):[],[o]);return u.jsx("section",{id:"fight-comp","data-section-visible":n("fight-comp"),"data-section-first":r("fight-comp"),className:i("fight-comp","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"fight-comp-shell bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(Yo,{className:"w-5 h-5 text-cyan-300"}),"Fight Comp"]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight composition data available."}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[u.jsxs("aside",{className:"fight-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 self-start",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),u.jsx("div",{className:"space-y-1 pr-1 max-h-[320px] overflow-y-auto",children:e.map(c=>{const d=c.id===a;return u.jsxs("button",{onClick:()=>s(c.id),className:`fight-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${d?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:c.label}),u.jsx("div",{className:"text-xs font-semibold truncate",children:c.mapName||"Unknown Map"}),u.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[c.duration||"--:--","  ",$ie(c.timestamp)]})]},c.id)})})]}),u.jsx("div",{className:"fight-comp-board rounded-xl border border-white/10 bg-black/30 p-2.5 overflow-hidden",children:o?u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(0,1fr)_minmax(0,0.78fr)] gap-2.5 min-w-0",children:[u.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[u.jsx("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Squad Parties"}),u.jsx("div",{className:"p-2 rounded-lg border border-white/10 bg-white/[0.03] divide-y divide-white/10",children:o.parties.map(c=>{const d=Array.isArray(c.players)&&c.players.length>0?c.players.map(f=>({profession:String((f==null?void 0:f.profession)||"Unknown"),account:String((f==null?void 0:f.account)||""),characterName:String((f==null?void 0:f.characterName)||"")})).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,h)=>f.profession.localeCompare(h.profession)||f.characterName.localeCompare(h.characterName)||f.account.localeCompare(h.account)):Object.entries(c.classCounts||{}).flatMap(([f,h])=>Array.from({length:Math.max(0,Number(h||0))},()=>({profession:String(f),account:"",characterName:""}))).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,h)=>f.profession.localeCompare(h.profession));return u.jsxs("div",{className:"fight-comp-row grid grid-cols-[36px_minmax(0,1fr)] gap-1.5 items-center px-1.5 py-1 first:pt-0 last:pb-0",children:[u.jsx("div",{className:"fight-comp-party-badge text-[10px] font-semibold uppercase tracking-widest text-gray-300 text-center rounded-md border border-white/10 bg-black/20 py-0.5",children:c.party>0?`P${c.party}`:"Unk"}),u.jsx("div",{className:"flex flex-wrap gap-x-1.5 gap-y-1",children:d.length>0?d.map((f,h)=>u.jsx("span",{title:f.characterName||f.account?`${f.profession}  ${f.characterName||"Unknown"} (${f.account||"Unknown"})`:f.profession,className:"fight-comp-class-icon fight-comp-class-icon--squad inline-flex items-center justify-center",children:t(f.profession)?u.jsx("img",{src:t(f.profession),alt:f.profession,className:"w-3.5 h-3.5 object-contain"}):u.jsx("span",{className:"inline-block w-3.5 h-3.5 rounded-sm border border-white/15"})},`${o.id}-party-${c.party}-${f.profession}-${f.account||f.characterName||h}-${h}`)):u.jsx("span",{className:"text-gray-500 text-[11px]",children:"-"})})]},`${o.id}-party-${c.party}`)})})]}),u.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[u.jsx("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Enemy Classes"}),u.jsx("div",{className:"p-2",children:l.length>0?u.jsx("div",{className:"flex flex-wrap gap-1",children:l.map(c=>u.jsxs("div",{className:"fight-comp-row inline-flex items-center gap-1 rounded-lg border border-white/10 bg-white/[0.03] px-1.5 py-0.5",children:[u.jsx("span",{className:"fight-comp-class-icon inline-flex items-center justify-center rounded-md border border-white/10 bg-black/20 px-1 py-0.5",title:c.profession,children:t(c.profession)?u.jsx("img",{src:t(c.profession),alt:c.profession,className:"w-3 h-3 object-contain"}):u.jsx("span",{className:"inline-block w-3 h-3 rounded-sm border border-white/15"})}),u.jsx("span",{className:"text-[10px] font-mono text-gray-200",children:c.count})]},`${o.id}-enemy-${c.profession}`))}):u.jsx("div",{className:"py-6 text-center text-gray-500 italic text-sm",children:"No enemy class data"})})]})]}):u.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Rie=({embedded:e,dashboardTitle:t,totalLogs:n,onBack:r,devMockAvailable:i,devMockUploadState:a,onDevMockUpload:s,uploadingWeb:o,onWebUpload:l,sharing:c,canShareDiscord:d,onShare:f})=>{const h=c||!d,m=d?"":"Select a Discord webhook to enable sharing.";return u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-3 shrink-0 px-2",children:[u.jsxs("div",{className:"flex items-start gap-3 sm:items-center sm:gap-4",children:[!e&&u.jsx("button",{onClick:r,className:"p-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-gray-400 hover:text-white",children:u.jsx(vO,{className:"w-6 h-6"})}),u.jsxs("div",{className:"space-y-0",children:[u.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-white flex items-center gap-2",children:[u.jsx(nc,{className:"w-6 h-6 text-yellow-500"}),t||"Statistics Dashboard"]}),u.jsxs("p",{className:"text-gray-400 text-[11px] sm:text-xs",children:["Performance across ",n," uploaded logs"]})]})]}),!e&&u.jsxs("div",{className:"flex items-center gap-3",children:[i&&u.jsxs("button",{onClick:s,disabled:a.uploading,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 bg-amber-500/15 text-amber-200 border border-amber-500/30 hover:bg-amber-500/25",children:[u.jsx(f0,{className:"w-4 h-4"}),a.uploading?"Building...":"Dev Mock Upload"]}),u.jsxs("button",{onClick:l,disabled:o,className:"stats-action-upload flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[u.jsx(j6,{className:"w-4 h-4"}),o?"Uploading...":"Upload to Web"]}),u.jsxs("div",{className:"relative group",title:m,children:[u.jsxs("button",{onClick:f,disabled:h,"aria-disabled":h,className:"stats-action-discord flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(S6,{className:"w-4 h-4"}),c?"Sharing...":"Share to Discord"]}),!d&&u.jsx("div",{className:"stats-share-tooltip pointer-events-none absolute right-0 top-full mt-2 w-56 rounded-md border border-white/10 bg-black/90 px-2 py-1 text-[11px] text-gray-200 opacity-0 shadow-lg transition-opacity group-hover:opacity-100 z-50",children:"Select a Discord webhook to enable sharing."})]})]})]})},Bie=({embedded:e,webUploadMessage:t,webUploadUrl:n,webUploadBuildStatus:r,webCopyStatus:i,setWebCopyStatus:a})=>{if(e||!t)return null;const s=n||t.replace(/^Uploaded:\s*/i,"").trim(),[o,l]=x.useState("idle"),c=(()=>{if(!s)return null;try{const d=new URL(s),f=d.searchParams.get("report");if(!f||!d.hostname.endsWith("github.io"))return null;const h=d.pathname.match(/^\/([^/]+\.github\.io)(\/|$)/i),m=(h==null?void 0:h[1])||"";return!m||m.toLowerCase()!==d.hostname.toLowerCase()?null:`${d.origin}/?report=${f}`}catch{return null}})();return u.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[u.jsx("span",{className:"uppercase tracking-widest text-[10px] text-cyan-300/70",children:"Uploaded"}),u.jsx("button",{onClick:()=>{var d;s&&((d=window.electronAPI)!=null&&d.openExternal)&&window.electronAPI.openExternal(s)},className:"text-cyan-200 hover:text-cyan-100 underline underline-offset-2",children:s}),r!=="idle"&&u.jsxs("span",{className:`ml-2 text-[10px] px-2 py-0.5 rounded-full border inline-flex items-center gap-1 ${r==="built"?"bg-emerald-500/20 text-emerald-300 border-emerald-500/40":r==="errored"?"bg-red-500/20 text-red-300 border-red-500/40":r==="unknown"?"bg-white/5 text-gray-400 border-white/10":"bg-cyan-500/20 text-cyan-200 border-cyan-500/40"}`,children:[(r==="checking"||r==="building")&&u.jsx(w6,{className:"w-3 h-3 animate-spin"}),r==="built"&&u.jsx(xO,{className:"w-3 h-3"}),r==="errored"&&u.jsx(wO,{className:"w-3 h-3"}),r==="built"?"Build ready":r==="errored"?"Build failed":r==="unknown"?"Build status unknown":"Building"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>{s&&(navigator.clipboard.writeText(s),a("copied"),setTimeout(()=>a("idle"),1200))},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:i==="copied"?"Copied":"Copy URL"}),c&&u.jsx("button",{onClick:()=>{navigator.clipboard.writeText(c),l("copied"),setTimeout(()=>l("idle"),1200)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:o==="copied"?"Copied":"Copy Short"})]})]})},zie=({embedded:e,devMockAvailable:t,devMockUploadState:n})=>e||!t||!n.message?null:u.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[u.jsx("span",{className:"uppercase tracking-widest text-[10px] text-amber-300/70",children:"Dev Mock"}),n.url?u.jsx("button",{onClick:()=>{var i;const r=n.url;r&&((i=window.electronAPI)!=null&&i.openExternal)&&window.electronAPI.openExternal(r)},className:"text-amber-200 hover:text-amber-100 underline underline-offset-2",children:n.url}):u.jsx("span",{className:"text-gray-300",children:n.message})]}),n.url&&u.jsx("button",{onClick:()=>{var i;const r=n.url;r&&((i=window.electronAPI)!=null&&i.openExternal)&&window.electronAPI.openExternal(r)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:"Open in Browser"})]}),As="space-y-1 pr-1 max-h-72 overflow-y-auto",Uie=new Set(["Vulnerability","Weakness","Blind","Chill","Cripple","Slow","Taunt","Fear","Immobilize"]),Vie=["overview","fight-breakdown","top-players","top-skills-outgoing","squad-composition","attendance-ledger","squad-comp-fight","fight-comp","timeline","map-distribution","boon-output","offense-detailed","spike-damage","conditions-outgoing","defense-detailed","incoming-strike-damage","support-detailed","healing-stats","fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"];function Wie({logs:e,onBack:t,mvpWeights:n,statsViewSettings:r,onStatsViewSettingsChange:i,webUploadState:a,onWebUpload:s,disruptionMethod:o,precomputedStats:l,embedded:c=!1,sectionVisibility:d,dashboardTitle:f,uiTheme:h,canShareDiscord:m=!0,aggregationResult:p}){var TN,EN;const g=n||jO,y=r||tb,v=a||q6,b=y.showTopStats,w=y.showMvp,S=y.roundCountStats,C=y.topStatsMode||"total",[N,A]=x.useState(y.topSkillsMetric||"damage"),E=(i?y.topSkillsMetric:N)||"damage",$=v.uploading,T=v.message,M=v.url,O=v.buildStatus,Y=!c&&!1,Q=!!p,{result:re}=YU({logs:Q?[]:e,precomputedStats:Q?void 0:l,mvpWeights:n,statsViewSettings:r,disruptionMethod:o}),ce=p||re,{stats:K,skillUsageData:G}=ce,L=x.useMemo(()=>{var gt,an,At,sn,dt,Un;const R=K&&typeof K=="object"?K:{},X=Ae=>Array.isArray(Ae)?Ae:[],ve=Ae=>Ae&&typeof Ae=="object"?Ae:{},Ve=(Ae,$t)=>Ae&&typeof Ae=="object"?Ae:$t,Ie={value:0,player:"-",profession:"Unknown",professionList:[],count:0},Me={account:"-",profession:"Unknown",professionList:[],reason:"",topStats:[],score:0},me={...R,total:Number(R.total||0),timelineData:X(R.timelineData),mapData:X(R.mapData),fightBreakdown:X(R.fightBreakdown),topSkills:X(R.topSkills),topIncomingSkills:X(R.topIncomingSkills),leaderboards:ve(R.leaderboards),topStatsPerSecond:ve(R.topStatsPerSecond),topStatsLeaderboardsPerSecond:ve(R.topStatsLeaderboardsPerSecond),maxDownContrib:Ve(R.maxDownContrib,Ie),maxBarrier:Ve(R.maxBarrier,Ie),maxHealing:Ve(R.maxHealing,Ie),maxDodges:Ve(R.maxDodges,Ie),maxStrips:Ve(R.maxStrips,Ie),maxCleanses:Ve(R.maxCleanses,Ie),maxCC:Ve(R.maxCC,Ie),maxStab:Ve(R.maxStab,Ie),closestToTag:Ve(R.closestToTag,Ie),mvp:{...Me,...ve(R.mvp),topStats:X((gt=R==null?void 0:R.mvp)==null?void 0:gt.topStats)},silver:Ve(R.silver,Me),bronze:Ve(R.bronze,Me),avgMvpScore:Number(R.avgMvpScore||0),offensePlayers:X(R.offensePlayers),defensePlayers:X(R.defensePlayers),damageMitigationPlayers:X(R.damageMitigationPlayers),damageMitigationMinions:X(R.damageMitigationMinions),supportPlayers:X(R.supportPlayers),healingPlayers:X(R.healingPlayers),boonTables:X(R.boonTables),specialTables:X(R.specialTables),outgoingConditionSummary:X(R.outgoingConditionSummary),outgoingConditionPlayers:X(R.outgoingConditionPlayers),incomingConditionSummary:X(R.incomingConditionSummary),incomingConditionPlayers:X(R.incomingConditionPlayers),squadClassData:X(R.squadClassData),enemyClassData:X(R.enemyClassData),attendanceData:X(R.attendanceData),squadCompByFight:X(R.squadCompByFight),fightDiffMode:X(R.fightDiffMode),playerSkillBreakdowns:X(R.playerSkillBreakdowns)},gn=X((an=me.leaderboards)==null?void 0:an.downContrib).map(Ae=>({...Ae,value:Number((Ae==null?void 0:Ae.value)??0)})).filter(Ae=>Number.isFinite(Ae.value)).sort((Ae,$t)=>$t.value-Ae.value||String((Ae==null?void 0:Ae.account)||"").localeCompare(String(($t==null?void 0:$t.account)||"")))[0];return gn&&(me.maxDownContrib={...me.maxDownContrib||{},value:Number(gn.value||0),player:String(gn.account||((At=me.maxDownContrib)==null?void 0:At.player)||"-"),count:Number(gn.count||((sn=me.maxDownContrib)==null?void 0:sn.count)||0),profession:String(gn.profession||((dt=me.maxDownContrib)==null?void 0:dt.profession)||"Unknown"),professionList:Array.isArray(gn.professionList)?gn.professionList:((Un=me.maxDownContrib)==null?void 0:Un.professionList)||[]}),me},[K]);x.useEffect(()=>{var ve;if(!((ve=window==null?void 0:window.electronAPI)!=null&&ve.fetchImageAsDataUrl))return;const R=new Set,X=Ve=>{if(Ve){if(typeof Ve=="string"){/^https?:\/\//i.test(Ve)&&R.add(Ve);return}if(Array.isArray(Ve)){Ve.forEach(X);return}typeof Ve=="object"&&Object.entries(Ve).forEach(([Ie,Me])=>{if((Ie==="icon"||Ie==="iconUrl")&&typeof Me=="string"){/^https?:\/\//i.test(Me)&&R.add(Me);return}X(Me)})}};X(L),R.size>0&&nie(Array.from(R))},[L]);const P=x.useMemo(()=>{const R=(l==null?void 0:l.skillUsageData)??G;return{logRecords:Array.isArray(R==null?void 0:R.logRecords)?R.logRecords:[],players:Array.isArray(R==null?void 0:R.players)?R.players:[],skillOptions:Array.isArray(R==null?void 0:R.skillOptions)?R.skillOptions:[],resUtilitySkills:Array.isArray(R==null?void 0:R.resUtilitySkills)?R.resUtilitySkills:[]}},[G,l==null?void 0:l.skillUsageData]),j=P.players.length>0;x.useEffect(()=>{i||A(y.topSkillsMetric||"damage")},[y.topSkillsMetric,i]);const U=R=>{if(i){i({...y,topSkillsMetric:R});return}A(R)},{scrollContainerRef:k}=T6(c),{devMockUploadState:_,webCopyStatus:ae,setWebCopyStatus:ee,handleWebUpload:V,handleDevMockUpload:ne}=eU({logs:e,stats:L,skillUsageData:P,activeStatsViewSettings:r||tb,uiTheme:h||"classic",embedded:c,onWebUpload:s}),{sharing:F,handleShare:J}=GU(c),ue={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},ie=R=>{const X=ue[R];return X?g[X]>0:!0},[H,B]=x.useState(null),[I,te]=x.useState(null),[Pe,Ue]=x.useState("totalBuffs"),[se,Ye]=x.useState("total"),[Oe,wt]=x.useState(""),[qt,vn]=x.useState(null),[$n,ge]=x.useState(""),[Le,kt]=x.useState(null),[Qt,Vt]=x.useState(""),[wn,qi]=x.useState(""),[vi,ca]=x.useState(""),[or,xn]=x.useState(""),[un,ii]=x.useState(""),[yn,ai]=x.useState(""),[Yr,Ta]=x.useState(""),[ua,Qa]=x.useState("outgoing"),[Dc,Sl]=x.useState(""),[Mc,Oc]=x.useState("damage"),[Nl,Ic]=x.useState("damageTaken"),[_c,Z]=x.useState("totalMitigation"),[he,we]=x.useState("all"),[it,Dt]=x.useState({key:"damage",dir:"desc"}),Jt=!(he!=="all"&&Uie.has(he)),bt=Jt?"grid-cols-[0.4fr_1.6fr_1fr_1fr]":"grid-cols-[0.4fr_1.6fr_1fr]",mt=Jt?it:{key:"applications",dir:it.key==="applications"?it.dir:"desc"},[pn,Xr]=x.useState("condiCleanse"),[We,Mt]=x.useState("healing"),[nn,dn]=x.useState("total"),[Mn,si]=x.useState("all"),[jn,xi]=x.useState("total"),[Cl,jv]=x.useState("total"),[Av,D]=x.useState("total"),[W,q]=x.useState("total"),[Ee,de]=x.useState("all"),[Be,Ne]=x.useState("squad"),[lt,ht]=x.useState("player"),[St,Gt]=x.useState(""),[Ut,kn]=x.useState(""),[qe,Qe]=x.useState(null),[rt,Ot]=x.useState([]),[ct,xe]=x.useState(null),[ye,Re]=x.useState(null),[je,tt]=x.useState("hit"),[fe,ze]=x.useState(null),[Je,$e]=x.useState(null),[et,Yt]=x.useState("hit"),[On,Nn]=x.useState([]),[rn,en]=x.useState(null),[on,z]=x.useState(!1),le=x.useRef(null),[De,Ke]=x.useState("sizes"),[Te,oe]=x.useState("total"),_e=Te==="perSecond",[Se,nt]=x.useState(null),[Rt,_t]=x.useState("total"),[ft,Et]=x.useState(null),[Bt,Kt]=x.useState(null),[Nt,Tt]=x.useState(null),[Fe,st]=x.useState(""),[pt,Ct]=x.useState(null),[fn,An]=x.useState(null),[Fn,Mr]=x.useState(null),[Vs,Ws]=x.useState(""),[Lc,jl]=x.useState("player"),[da,$c]=x.useState(null),[Wm,dd]=x.useState(null),[Ea,Al]=x.useState(null),{apmSpecBuckets:Za}=XU(P),Ja=L.playerSkillBreakdowns||[],Fc=x.useMemo(()=>{const R=new Map;return Ja.forEach(X=>R.set(X.key,X)),R},[Ja]),Ce=x.useMemo(()=>{const R=new Map;return Ja.forEach(X=>{const ve=X.profession||"Unknown";R.has(ve)||R.set(ve,{profession:ve,players:[],skills:new Map});const Ve=R.get(ve);Ve.players.push(X),X.skills.forEach(Ie=>{var me;const Me=Ve.skills.get(Ie.id)||{...Ie,damage:0,downContribution:0};Me.damage+=Number(Ie.damage||0),Me.downContribution+=Number(Ie.downContribution||0),!Me.icon&&Ie.icon&&(Me.icon=Ie.icon),(me=Me.name)!=null&&me.startsWith("Skill ")&&!Ie.name.startsWith("Skill ")&&(Me.name=Ie.name),Ve.skills.set(Ie.id,Me)})}),Array.from(R.values()).map(X=>{const ve=Array.from(X.skills.values()).sort((Ie,Me)=>Me.damage-Ie.damage),Ve=ve.reduce((Ie,Me)=>(Ie[Me.id]=Me,Ie),{});return{profession:X.profession,players:X.players,skills:ve,skillMap:Ve}}).sort((X,ve)=>X.profession.localeCompare(ve.profession))},[Ja]),He=pt&&Fc.get(pt)||null,Ze=He&&Fn&&((TN=He.skillMap)==null?void 0:TN[Fn])||null,ut=x.useMemo(()=>{const R=new Map;return Ce.forEach(X=>R.set(X.profession,X)),R},[Ce]),zt=da&&ut.get(da)||null,fr=zt&&Ea&&((EN=zt.skillMap)==null?void 0:EN[Ea])||null,En=x.useMemo(()=>{const R=Ae=>String(Ae||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),X=Ae=>R(Ae).toLowerCase().split(/[^a-z0-9]+/i).map($t=>$t.trim()).filter(Boolean).map($t=>$t.length>3&&$t.endsWith("s")?$t.slice(0,-1):$t),ve=(Ae,$t)=>{const ke=R(Ae),Vn=R($t);if(!Vn)return ke;if(!ke)return Vn;const Br=X(ke),wr=X(Vn),mr=new Set(Br),Pn=new Set(wr),Ii=wr.length>0&&wr.every(Jn=>mr.has(Jn)),It=Br.length>0&&Br.every(Jn=>Pn.has(Jn));return Ii||It?ke:`${ke} - ${Vn}`},Ve=Ae=>{if(Ae==null||Ae==="")return 0;if(typeof Ae=="number")return!Number.isFinite(Ae)||Ae<=0?0:Ae>1e12?Ae:Ae*1e3;if(Ae instanceof Date){const mr=Ae.getTime();return Number.isFinite(mr)&&mr>0?mr:0}const $t=String(Ae).trim();if(!$t)return 0;const ke=Number($t);if(Number.isFinite(ke)&&ke>0)return ke>1e12?ke:ke*1e3;const Vn=Date.parse($t);if(Number.isFinite(Vn)&&Vn>0)return Vn;const Br=$t.replace(/([+-]\d{2})$/,"$1:00"),wr=Date.parse(Br);return Number.isFinite(wr)&&wr>0?wr:0},Ie=(Ae,$t)=>Ve((Ae==null?void 0:Ae.uploadTime)??($t==null?void 0:$t.uploadTime)??(Ae==null?void 0:Ae.timeStartStd)??(Ae==null?void 0:Ae.timeStart)??(Ae==null?void 0:Ae.timeEndStd)??(Ae==null?void 0:Ae.timeEnd)),Me=L==null?void 0:L.spikeDamage,me=Array.isArray(Me==null?void 0:Me.fights)?Me.fights:[],at=Array.isArray(Me==null?void 0:Me.players)?Me.players:[],gn=me.some(Ae=>(Ae!=null&&Ae.values&&typeof Ae.values=="object"?Object.values(Ae.values):[]).some(ke=>ke&&typeof ke=="object"&&(Number(ke.burst1s||0)>0||Number(ke.burst5s||0)>0||Number(ke.burst30s||0)>0)))||at.some(Ae=>Number((Ae==null?void 0:Ae.peak1s)||0)>0||Number((Ae==null?void 0:Ae.peak5s)||0)>0||Number((Ae==null?void 0:Ae.peak30s)||0)>0);if((me.length>0||at.length>0)&&(gn||e.length===0)){const Ae=me.map((ke,Vn)=>{const Br=ke!=null&&ke.values&&typeof ke.values=="object"?ke.values:{},wr={};return Object.entries(Br).forEach(([mr,Pn])=>{if(Pn&&typeof Pn=="object"){const Ii=Number(Pn.damage||0);wr[mr]={hit:Number(Pn.hit??Ii),burst1s:Number(Pn.burst1s||0),burst5s:Number(Pn.burst5s||0),burst30s:Number(Pn.burst30s||0),skillName:String(Pn.skillName||""),buckets5s:Array.isArray(Pn.buckets5s)?Pn.buckets5s.map(It=>Number(It||0)):void 0,downIndices5s:Array.isArray(Pn.downIndices5s)?Pn.downIndices5s.map(It=>Number(It)).filter(It=>Number.isFinite(It)&&It>=0):void 0,deathIndices5s:Array.isArray(Pn.deathIndices5s)?Pn.deathIndices5s.map(It=>Number(It)).filter(It=>Number.isFinite(It)&&It>=0):void 0,skillRows:Array.isArray(Pn.skillRows)?Pn.skillRows.map(It=>({skillName:String((It==null?void 0:It.skillName)||(It==null?void 0:It.name)||"Unknown Skill"),damage:Number((It==null?void 0:It.damage)||0),hits:Number((It==null?void 0:It.hits)||0),icon:typeof(It==null?void 0:It.icon)=="string"?It.icon:void 0})).filter(It=>Number.isFinite(It.damage)&&It.damage>0):void 0};return}wr[mr]={hit:Number(Pn||0),burst1s:0,burst5s:0,burst30s:0,skillName:""}}),{id:String((ke==null?void 0:ke.id)||`fight-${Vn+1}`),shortLabel:String((ke==null?void 0:ke.shortLabel)||`F${Vn+1}`),fullLabel:R((ke==null?void 0:ke.fullLabel)||`Fight ${Vn+1}`),timestamp:Number((ke==null?void 0:ke.timestamp)||0),values:wr,maxHit:Number((ke==null?void 0:ke.maxHit)??(ke==null?void 0:ke.maxDamage)??0),max1s:Number((ke==null?void 0:ke.max1s)||0),max5s:Number((ke==null?void 0:ke.max5s)||0),max30s:Number((ke==null?void 0:ke.max30s)||0)}}),$t=at.map(ke=>({key:String((ke==null?void 0:ke.key)||""),account:String((ke==null?void 0:ke.account)||"Unknown"),displayName:String((ke==null?void 0:ke.displayName)||(ke==null?void 0:ke.account)||"Unknown"),characterName:String((ke==null?void 0:ke.characterName)||(ke==null?void 0:ke.name)||(ke==null?void 0:ke.character_name)||(ke==null?void 0:ke.display_name)||""),profession:String((ke==null?void 0:ke.profession)||"Unknown"),professionList:Array.isArray(ke==null?void 0:ke.professionList)?ke.professionList.map(Vn=>String(Vn)):[],logs:Number((ke==null?void 0:ke.logs)||0),peakHit:Number((ke==null?void 0:ke.peakHit)||0),peak1s:Number((ke==null?void 0:ke.peak1s)||0),peak5s:Number((ke==null?void 0:ke.peak5s)||0),peak30s:Number((ke==null?void 0:ke.peak30s)||0),peakFightLabel:R((ke==null?void 0:ke.peakFightLabel)||""),peakSkillName:String((ke==null?void 0:ke.peakSkillName)||"")}));return{fights:Ae,players:$t}}const an=(Ae,$t)=>{const ke=($t==null?void 0:$t.skillMap)||{},Vn=($t==null?void 0:$t.buffMap)||{};let Br=0,wr="";const mr=It=>{const Jn=Number(It);if(!Number.isFinite(Jn))return String(It||"Unknown Skill");const ln=(ke==null?void 0:ke[`s${Jn}`])||(ke==null?void 0:ke[`${Jn}`]);if(ln!=null&&ln.name)return String(ln.name);const yt=(Vn==null?void 0:Vn[`b${Jn}`])||(Vn==null?void 0:Vn[`${Jn}`]);return yt!=null&&yt.name?String(yt.name):`Skill ${Jn}`},Pn=It=>{if(!It||typeof It!="object")return;const Jn=[Number(It.max),Number(It.maxDamage),Number(It.maxHit)].filter(yt=>Number.isFinite(yt)),ln=Jn.length>0?Math.max(...Jn):0;ln>Br&&(Br=ln,wr=mr(It.id))};let Ii=!1;return Array.isArray(Ae==null?void 0:Ae.targetDamageDist)&&Ae.targetDamageDist.forEach(It=>{Array.isArray(It)&&It.forEach(Jn=>{Array.isArray(Jn)&&Jn.forEach(ln=>{Ii=!0,Pn(ln)})})}),(!Ii||Br<=0)&&Array.isArray(Ae==null?void 0:Ae.totalDamageDist)&&Ae.totalDamageDist.forEach(It=>{Array.isArray(It)&&It.forEach(Jn=>Pn(Jn))}),{peak:Br,skillName:wr||"Unknown Skill"}},At=(Ae,$t)=>{const ke=ln=>{if(!Array.isArray(ln)||ln.length===0)return[];const yt=[];for(let Xt=0;Xt<ln.length;Xt+=1){const kr=Number(ln[Xt]||0),er=Xt>0?Number(ln[Xt-1]||0):0;yt.push(Math.max(0,kr-er))}return yt},Vn=(ln,yt)=>{if(!Array.isArray(ln)||ln.length===0||yt<=0)return 0;let Xt=0,kr=0;for(let er=0;er<ln.length;er+=1)Xt+=Number(ln[er]||0),er>=yt&&(Xt-=Number(ln[er-yt]||0)),er>=yt-1&&Xt>kr&&(kr=Xt);return Math.max(0,kr)},Br=ln=>{if(!Array.isArray(ln))return[];const yt=ln.reduce((kr,er)=>Math.max(kr,Array.isArray(er)?er.length:0),0);if(yt<=0)return[];const Xt=new Array(yt).fill(0);return ln.forEach(kr=>{if(Array.isArray(kr))for(let er=0;er<yt;er+=1)Xt[er]+=Number(kr[er]||0)}),Xt},wr=ln=>Array.isArray(ln)?ln.map(yt=>Number(yt||0)):null,Pn=(ln=>{if(!Array.isArray(ln)||ln.length===0)return null;const yt=ln[0];if(!Array.isArray(yt))return null;if(Array.isArray(yt[0])&&Array.isArray(yt[0][0]))return Br(yt);if(Array.isArray(yt[0])&&!Array.isArray(yt[0][0])){const Xt=ln.map(kr=>wr(Array.isArray(kr)?kr[0]:null)).filter(kr=>Array.isArray(kr)&&kr.length>0);if(Xt.length>0)return Br(Xt)}return null})(Ae==null?void 0:Ae.targetDamage1S),Ii=Array.isArray(Ae==null?void 0:Ae.damage1S)&&Array.isArray(Ae.damage1S[0])?Ae.damage1S[0]:null,It=Pn||(Array.isArray(Ii)?Ii.map(ln=>Number(ln||0)):[]),Jn=ke(It);return Vn(Jn,$t)},sn=[],dt=new Map;e.forEach(Ae=>{const $t=Ae==null?void 0:Ae.details;if(!$t)return;const ke=sn.length+1,Vn=R($t.fightName||Ae.fightName||`Fight ${ke}`),Br=$t.zone||$t.mapName||$t.map||$t.location||"",wr=ve(Vn,String(Br||"")),mr={};(Array.isArray($t.players)?$t.players:[]).forEach(yt=>{if(yt!=null&&yt.notInSquad)return;const Xt=String((yt==null?void 0:yt.account)||(yt==null?void 0:yt.name)||"Unknown"),kr=String((yt==null?void 0:yt.character_name)||(yt==null?void 0:yt.display_name)||(yt==null?void 0:yt.name)||""),er=String((yt==null?void 0:yt.profession)||"Unknown"),zc=`${Xt}|${er}`,Zm=an(yt,$t),Uc=Number(Zm.peak||0),Vc=Number(At(yt,1)||0),hd=Number(At(yt,5)||0),Ml=Number(At(yt,30)||0);mr[zc]={hit:Uc,burst1s:Vc,burst5s:hd,burst30s:Ml,skillName:Zm.skillName};const Sr=dt.get(zc)||{key:zc,account:Xt,displayName:Xt,characterName:kr,profession:er,professionList:[er],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Sr.logs+=1,Sr.professionList.includes(er)||Sr.professionList.push(er),!Sr.characterName&&kr&&(Sr.characterName=kr),Uc>Sr.peakHit&&(Sr.peakHit=Uc,Sr.peakFightLabel=wr,Sr.peakSkillName=Zm.skillName),Vc>Sr.peak1s&&(Sr.peak1s=Vc),hd>Sr.peak5s&&(Sr.peak5s=hd),Ml>Sr.peak30s&&(Sr.peak30s=Ml),dt.set(zc,Sr)});const Ii=Object.values(mr).reduce((yt,Xt)=>Math.max(yt,Number((Xt==null?void 0:Xt.hit)||0)),0),It=Object.values(mr).reduce((yt,Xt)=>Math.max(yt,Number((Xt==null?void 0:Xt.burst1s)||0)),0),Jn=Object.values(mr).reduce((yt,Xt)=>Math.max(yt,Number((Xt==null?void 0:Xt.burst5s)||0)),0),ln=Object.values(mr).reduce((yt,Xt)=>Math.max(yt,Number((Xt==null?void 0:Xt.burst30s)||0)),0);sn.push({id:Ae.filePath||Ae.id||`fight-${ke}`,shortLabel:`F${ke}`,fullLabel:wr,timestamp:Ie($t,Ae),values:mr,maxHit:Ii,max1s:It,max5s:Jn,max30s:ln})});const Un=Array.from(dt.values()).sort((Ae,$t)=>$t.peakHit!==Ae.peakHit?$t.peakHit-Ae.peakHit:Ae.displayName.localeCompare($t.displayName));return{fights:sn,players:Un}},[e,L]),Rn=x.useMemo(()=>{const R=me=>String(me||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),X=L==null?void 0:L.incomingStrikeDamage,ve=Array.isArray(X==null?void 0:X.fights)?X.fights:[],Ve=Array.isArray(X==null?void 0:X.players)?X.players:[];if(ve.length===0&&Ve.length===0)return{fights:[],players:[]};const Ie=ve.map((me,at)=>{const gn=me!=null&&me.values&&typeof me.values=="object"?me.values:{},gt={};return Object.entries(gn).forEach(([an,At])=>{if(At&&typeof At=="object"){const sn=Number(At.damage||0);gt[an]={hit:Number(At.hit??sn),burst1s:Number(At.burst1s||0),burst5s:Number(At.burst5s||0),burst30s:Number(At.burst30s||0),skillName:String(At.skillName||""),buckets5s:Array.isArray(At.buckets5s)?At.buckets5s.map(dt=>Number(dt||0)):void 0,downIndices5s:Array.isArray(At.downIndices5s)?At.downIndices5s.map(dt=>Number(dt)).filter(dt=>Number.isFinite(dt)&&dt>=0):void 0,deathIndices5s:Array.isArray(At.deathIndices5s)?At.deathIndices5s.map(dt=>Number(dt)).filter(dt=>Number.isFinite(dt)&&dt>=0):void 0,skillRows:Array.isArray(At.skillRows)?At.skillRows.map(dt=>({skillName:String((dt==null?void 0:dt.skillName)||(dt==null?void 0:dt.name)||"Unknown Skill"),damage:Number((dt==null?void 0:dt.damage)||0),hits:Number((dt==null?void 0:dt.hits)||0),icon:typeof(dt==null?void 0:dt.icon)=="string"?dt.icon:void 0})).filter(dt=>Number.isFinite(dt.damage)&&dt.damage>0):void 0};return}gt[an]={hit:Number(At||0),burst1s:0,burst5s:0,burst30s:0,skillName:""}}),{id:String((me==null?void 0:me.id)||`fight-${at+1}`),shortLabel:String((me==null?void 0:me.shortLabel)||`F${at+1}`),fullLabel:R((me==null?void 0:me.fullLabel)||`Fight ${at+1}`),timestamp:Number((me==null?void 0:me.timestamp)||0),values:gt,maxHit:Number((me==null?void 0:me.maxHit)??(me==null?void 0:me.maxDamage)??0),max1s:Number((me==null?void 0:me.max1s)||0),max5s:Number((me==null?void 0:me.max5s)||0),max30s:Number((me==null?void 0:me.max30s)||0)}}),Me=Ve.map(me=>({key:String((me==null?void 0:me.key)||""),account:String((me==null?void 0:me.account)||"Unknown"),displayName:String((me==null?void 0:me.displayName)||(me==null?void 0:me.account)||"Unknown"),characterName:String((me==null?void 0:me.characterName)||(me==null?void 0:me.name)||(me==null?void 0:me.character_name)||(me==null?void 0:me.display_name)||""),profession:String((me==null?void 0:me.profession)||"Unknown"),professionList:Array.isArray(me==null?void 0:me.professionList)?me.professionList.map(at=>String(at)):[],logs:Number((me==null?void 0:me.logs)||0),peakHit:Number((me==null?void 0:me.peakHit)||0),peak1s:Number((me==null?void 0:me.peak1s)||0),peak5s:Number((me==null?void 0:me.peak5s)||0),peak30s:Number((me==null?void 0:me.peak30s)||0),peakFightLabel:R((me==null?void 0:me.peakFightLabel)||""),peakSkillName:String((me==null?void 0:me.peakSkillName)||"")}));return{fights:Ie,players:Me}},[L]),yi=x.useMemo(()=>{const R=new Map;return En.players.forEach(X=>R.set(X.key,X)),R},[En.players]),Eo=x.useMemo(()=>{const R=Ie=>je==="hit"?Ie.peakHit:je==="1s"?Ie.peak1s:je==="5s"?Ie.peak5s:Ie.peak30s,X=yn.trim().toLowerCase(),ve=X?En.players.filter(Ie=>Ie.displayName.toLowerCase().includes(X)||Ie.account.toLowerCase().includes(X)||Ie.profession.toLowerCase().includes(X)):En.players,Ve=new Map;return ve.forEach(Ie=>{const Me=Ie.profession||"Unknown",me=Ve.get(Me)||[];me.push(Ie),Ve.set(Me,me)}),Array.from(Ve.entries()).map(([Ie,Me])=>({profession:Ie,players:[...Me].sort((me,at)=>R(at)-R(me)||me.displayName.localeCompare(at.displayName))})).sort((Ie,Me)=>Ie.profession.localeCompare(Me.profession))},[En.players,yn,je]),Do=ct&&yi.get(ct)||null,bi=x.useMemo(()=>{if(!ct)return[];const R=ve=>ve?Number(je==="hit"?ve.hit||0:je==="1s"?ve.burst1s||0:je==="5s"?ve.burst5s||0:ve.burst30s||0):0,X=ve=>Number(je==="hit"?ve.maxHit||0:je==="1s"?ve.max1s||0:je==="5s"?ve.max5s||0:ve.max30s||0);return En.fights.map((ve,Ve)=>{var Ie;return{index:Ve,fightId:ve.id,shortLabel:ve.shortLabel,fullLabel:ve.fullLabel,timestamp:Number(ve.timestamp||0),damage:R(ve.values[ct]),maxDamage:X(ve),skillName:String(((Ie=ve.values[ct])==null?void 0:Ie.skillName)||"")}})},[En.fights,ct,je]),Pl=x.useMemo(()=>{const R=bi.reduce((ve,Ve)=>Math.max(ve,Number(Ve.damage||0)),0),X=bi.reduce((ve,Ve)=>Math.max(ve,Number(Ve.maxDamage||0)),0);return Math.max(1,R,X)},[bi]),oi=x.useMemo(()=>{var MN,ON,IN,_N,LN,$N,FN,RN,BN;const R=ye===null?null:bi.find(be=>be.index===ye)||null;if(!R||!ct)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const X=En.fights.find((be,ot)=>String(be.id||"")===String(R.fightId||"")||ot===R.index)||null,[ve,Ve]=ct.split("|"),Ie=e.find(be=>String((be==null?void 0:be.filePath)||(be==null?void 0:be.id)||"")===String(R.fightId||"")),Me=Ie==null?void 0:Ie.details,me=be=>Array.isArray(be)?be.map(ot=>Array.isArray(ot)?[Number(ot[0]),Number(ot[1])]:ot&&typeof ot=="object"?[Number(ot.time),Number(ot.value)]:null).filter(ot=>!!ot&&Number.isFinite(ot[0])&&ot[0]>=0):[],at=be=>String(be||"").trim().toLowerCase(),gn=at(ve),gt=at(Ve),an=yi.get(ct),At=new Set([at(an==null?void 0:an.displayName),at(an==null?void 0:an.characterName),at(an==null?void 0:an.account)].filter(Boolean)),sn=Array.isArray(Me==null?void 0:Me.players)&&((MN=Me.players.map(be=>{const ot=at(be==null?void 0:be.account),Zt=at(be==null?void 0:be.name),tr=at(be==null?void 0:be.profession),Dn=!!ot&&ot===gn,Bn=!!Zt&&(Zt===gn||At.has(Zt)),Gi=!!ot&&At.has(ot),Io=!gt||tr===gt;let ns=0;return Dn&&(ns+=100),Bn&&(ns+=90),Gi&&(ns+=80),Io&&(ns+=20),{player:be,score:ns}}).filter(be=>be.score>0).sort((be,ot)=>ot.score-be.score)[0])==null?void 0:MN.player)||null,dt=(()=>{const be=sn==null?void 0:sn.combatReplayData;return Array.isArray(be)?be.filter(ot=>ot&&typeof ot=="object"):be&&typeof be=="object"?[be]:[]})(),Un=dt.flatMap(be=>me(be==null?void 0:be.down).map(([ot])=>ot)),Ae=dt.flatMap(be=>me(be==null?void 0:be.dead).map(([ot])=>ot)),$t=dt.map(be=>Number(be==null?void 0:be.start)).filter(be=>Number.isFinite(be)&&be>=0),ke=Array.isArray(Me==null?void 0:Me.players)?Me.players.flatMap(be=>{const ot=be==null?void 0:be.combatReplayData;return Array.isArray(ot)?ot.map(Zt=>Number(Zt==null?void 0:Zt.start)):[Number(ot==null?void 0:ot.start)]}).filter(be=>Number.isFinite(be)&&be>=0).reduce((be,ot)=>Math.min(be,ot),Number.POSITIVE_INFINITY):Number.POSITIVE_INFINITY,Vn=[0,Number((Me==null?void 0:Me.logStartOffset)||0),...$t,Number.isFinite(ke)?ke:0].filter(be=>Number.isFinite(be)&&be>=0),Br=be=>{const ot=Math.max(0,Math.floor(Number(be||0)/1e3)),Zt=Math.floor(ot/5)*5;return`${Zt}s-${Zt+5}s`},wr=(be,ot)=>{if(be.length===0||ot.length===0)return[];const Zt=ot.length*5e3,tr=hr=>hr.reduce((Ns,Wc)=>Wc>=0&&Wc<=Zt+2e3?Ns+1:Ns,0),Dn=[],Bn=be.map(hr=>Number(hr||0)).filter(hr=>Number.isFinite(hr)&&hr>=0);if(Bn.length===0)return[];Dn.push(Bn);const Gi=Bn.reduce((hr,Ns)=>Math.max(hr,Ns),0),Io=Bn.reduce((hr,Ns)=>Math.min(hr,Ns),Number.POSITIVE_INFINITY);Gi>Zt*20&&Dn.push(Bn.map(hr=>hr/1e3)),Gi<=Zt*2&&Io>=0&&Gi>0&&Gi<Math.max(120,ot.length*5+10)&&Dn.push(Bn.map(hr=>hr*1e3));let ns=Bn,zN=0,UN=-1;return Dn.forEach(hr=>{const Ns=new Set(Vn),Wc=hr.reduce((Ol,Tv)=>Math.min(Ol,Tv),Number.POSITIVE_INFINITY);if(Number.isFinite(Wc)&&Zt>0&&Wc>Zt){const Ol=Math.floor(Wc/Zt)*Zt;Ns.add(Ol),Ns.add(Math.max(0,Ol-Zt))}Ns.forEach(Ol=>{const Tv=hr.map(CR=>CR-Ol),VN=tr(Tv);VN>UN&&(UN=VN,zN=Ol,ns=hr)})}),ns.map(hr=>hr-zN).filter(hr=>Number.isFinite(hr)&&hr>=0)},mr=(be,ot)=>{if(be.length===0||ot.length===0)return[];const Zt=wr(ot,be),tr=new Map;be.forEach(Bn=>{const Gi=/^(\d+)s-/.exec(String(Bn));if(!Gi)return;const Io=Number(Gi[1]);Number.isFinite(Io)&&tr.set(Io,Bn)});const Dn=[];return Zt.forEach(Bn=>{const Gi=Math.max(0,Math.floor(Number(Bn||0)/1e3)),Io=Math.floor(Gi/5)*5,ns=tr.get(Io)||Br(Bn);be.includes(ns)&&Dn.push(ns)}),Array.from(new Set(Dn))},Pn=(be,ot)=>{if(be<=0||ot.length===0)return[];const Zt=Array.from({length:be},(Bn,Gi)=>`${Gi*5}s-${(Gi+1)*5}s`),Dn=wr(ot,Zt).map(Bn=>Math.floor(Math.max(0,Number(Bn||0))/5e3)).filter(Bn=>Number.isFinite(Bn)&&Bn>=0&&Bn<be);return Array.from(new Set(Dn))},Ii=Array.isArray((IN=(ON=X==null?void 0:X.values)==null?void 0:ON[ct])==null?void 0:IN.buckets5s)?((LN=(_N=X==null?void 0:X.values)==null?void 0:_N[ct])==null?void 0:LN.buckets5s)||[]:[],It=Array.isArray((FN=($N=X==null?void 0:X.values)==null?void 0:$N[ct])==null?void 0:FN.downIndices5s)?X.values[ct].downIndices5s.map(be=>Number(be)).filter(be=>Number.isFinite(be)&&be>=0):[],Jn=Array.isArray((BN=(RN=X==null?void 0:X.values)==null?void 0:RN[ct])==null?void 0:BN.deathIndices5s)?X.values[ct].deathIndices5s.map(be=>Number(be)).filter(be=>Number.isFinite(be)&&be>=0):[];if(Ii.length>0){const be=Math.max(0,Math.ceil(Number((Me==null?void 0:Me.durationMS)||0)/5e3)),ot=Math.max(Ii.length,be),Zt=Array.from({length:ot},(Dn,Bn)=>({label:`${Bn*5}s-${(Bn+1)*5}s`,value:Number(Ii[Bn]||0)})),tr=Zt.map(Dn=>Dn.label);return{title:`Fight Breakdown - ${R.shortLabel||"Fight"} (5s Damage Buckets)`,data:Zt,downLabels:mr(tr,Un),deathLabels:mr(tr,Ae),downIndices:It.length>0?It.filter(Dn=>Dn<Zt.length):Pn(Zt.length,Un),deathIndices:Jn.length>0?Jn.filter(Dn=>Dn<Zt.length):Pn(Zt.length,Ae)}}const ln=R.shortLabel||"Fight";if(!Me||!Array.isArray(Me.players))return{title:`Fight Breakdown - ${ln}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const yt=Me.players.find(be=>String((be==null?void 0:be.account)||(be==null?void 0:be.name)||"Unknown")===ve&&String((be==null?void 0:be.profession)||"Unknown")===Ve);if(!yt)return{title:`Fight Breakdown - ${ln}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const Xt=yt,kr=be=>{if(!Array.isArray(be)||be.length===0)return[];const ot=[];for(let Zt=0;Zt<be.length;Zt+=1){const tr=Number(be[Zt]||0),Dn=Zt>0?Number(be[Zt-1]||0):0;ot.push(Math.max(0,tr-Dn))}return ot},er=be=>{if(!Array.isArray(be))return[];const ot=be.reduce((tr,Dn)=>Math.max(tr,Array.isArray(Dn)?Dn.length:0),0);if(ot<=0)return[];const Zt=new Array(ot).fill(0);return be.forEach(tr=>{if(Array.isArray(tr))for(let Dn=0;Dn<ot;Dn+=1)Zt[Dn]+=Number(tr[Dn]||0)}),Zt},zc=be=>Array.isArray(be)?be.map(ot=>Number(ot||0)):null,Uc=(be=>{if(!Array.isArray(be)||be.length===0)return null;const ot=be[0];if(!Array.isArray(ot))return null;if(Array.isArray(ot[0])&&Array.isArray(ot[0][0]))return er(ot);if(Array.isArray(ot[0])&&!Array.isArray(ot[0][0])){const Zt=be.map(tr=>zc(Array.isArray(tr)?tr[0]:null)).filter(tr=>Array.isArray(tr)&&tr.length>0);if(Zt.length>0)return er(Zt)}return null})(Xt==null?void 0:Xt.targetDamage1S),Vc=Array.isArray(Xt==null?void 0:Xt.damage1S)&&Array.isArray(Xt.damage1S[0])?Xt.damage1S[0]:null,hd=Uc||(Array.isArray(Vc)?Vc.map(be=>Number(be||0)):[]),Ml=kr(hd),Sr=5,kR=Math.max(0,Math.ceil(Number((Me==null?void 0:Me.durationMS)||0)/(Sr*1e3))),SR=Math.max(0,Math.ceil(Ml.length/Sr)),NR=Math.max(kR,SR),pd=[];for(let be=0;be<NR;be+=1){const ot=be*Sr,Zt=Math.min(ot+Sr,Ml.length),tr=Ml.slice(ot,Zt).reduce((Dn,Bn)=>Dn+Number(Bn||0),0);pd.push({label:`${ot}s-${ot+Sr}s`,value:tr})}const DN=pd.map(be=>be.label);return{title:`Fight Breakdown - ${ln} (5s Damage Buckets)`,data:pd,downLabels:mr(DN,Un),deathLabels:mr(DN,Ae),downIndices:Pn(pd.length,Un),deathIndices:Pn(pd.length,Ae)}},[ye,bi,ct,e,En.fights,yi]),Rc=x.useMemo(()=>{const R=new Map;return Rn.players.forEach(X=>R.set(X.key,X)),R},[Rn.players]),fd=x.useMemo(()=>{const R=Ie=>et==="hit"?Ie.peakHit:et==="1s"?Ie.peak1s:et==="5s"?Ie.peak5s:Ie.peak30s,X=Yr.trim().toLowerCase(),ve=X?Rn.players.filter(Ie=>Ie.displayName.toLowerCase().includes(X)||Ie.account.toLowerCase().includes(X)||Ie.profession.toLowerCase().includes(X)):Rn.players,Ve=new Map;return ve.forEach(Ie=>{const Me=Ie.profession||"Unknown",me=Ve.get(Me)||[];me.push(Ie),Ve.set(Me,me)}),Array.from(Ve.entries()).map(([Ie,Me])=>({profession:Ie,players:[...Me].sort((me,at)=>R(at)-R(me)||me.displayName.localeCompare(at.displayName))})).sort((Ie,Me)=>Ie.profession.localeCompare(Me.profession))},[Rn.players,Yr,et]),Da=fe&&Rc.get(fe)||null,li=x.useMemo(()=>{if(!fe)return[];const R=ve=>ve?Number(et==="hit"?ve.hit||0:et==="1s"?ve.burst1s||0:et==="5s"?ve.burst5s||0:ve.burst30s||0):0,X=ve=>Number(et==="hit"?ve.maxHit||0:et==="1s"?ve.max1s||0:et==="5s"?ve.max5s||0:ve.max30s||0);return Rn.fights.map((ve,Ve)=>{var Ie;return{index:Ve,fightId:ve.id,shortLabel:ve.shortLabel,fullLabel:ve.fullLabel,timestamp:Number(ve.timestamp||0),damage:R(ve.values[fe]),maxDamage:X(ve),skillName:String(((Ie=ve.values[fe])==null?void 0:Ie.skillName)||"")}})},[Rn.fights,fe,et]),Hm=x.useMemo(()=>{const R=li.reduce((ve,Ve)=>Math.max(ve,Number(Ve.damage||0)),0),X=li.reduce((ve,Ve)=>Math.max(ve,Number(Ve.maxDamage||0)),0);return Math.max(1,R,X)},[li]),Tl=x.useMemo(()=>{var Me,me,at,gn,gt,an,At,sn;const R=Je===null?null:li.find(dt=>dt.index===Je)||null;if(!R||!fe)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const X=Rn.fights.find((dt,Un)=>String(dt.id||"")===String(R.fightId||"")||Un===R.index)||null,ve=Array.isArray((me=(Me=X==null?void 0:X.values)==null?void 0:Me[fe])==null?void 0:me.buckets5s)?((gn=(at=X==null?void 0:X.values)==null?void 0:at[fe])==null?void 0:gn.buckets5s)||[]:[],Ve=Array.isArray((an=(gt=X==null?void 0:X.values)==null?void 0:gt[fe])==null?void 0:an.downIndices5s)?X.values[fe].downIndices5s.map(dt=>Number(dt)).filter(dt=>Number.isFinite(dt)&&dt>=0):[],Ie=Array.isArray((sn=(At=X==null?void 0:X.values)==null?void 0:At[fe])==null?void 0:sn.deathIndices5s)?X.values[fe].deathIndices5s.map(dt=>Number(dt)).filter(dt=>Number.isFinite(dt)&&dt>=0):[];if(ve.length>0){const dt=ve.map((Un,Ae)=>({label:`${Ae*5}s-${(Ae+1)*5}s`,value:Number(Un||0)}));return{title:`Fight Breakdown - ${R.shortLabel||"Fight"} (5s Damage Buckets)`,data:dt,downLabels:[],deathLabels:[],downIndices:Ve.filter(Un=>Un<dt.length),deathIndices:Ie.filter(Un=>Un<dt.length)}}return{title:`Fight Breakdown - ${R.shortLabel||"Fight"}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}},[Je,li,fe,Rn.fights]),qm=x.useMemo(()=>{var Ve,Ie;if(Je===null||!fe)return[];const R=li.find(Me=>Me.index===Je);if(!R)return[];const X=Rn.fights.find((Me,me)=>String(Me.id||"")===String(R.fightId||"")||me===R.index);return[...((Ie=(Ve=X==null?void 0:X.values)==null?void 0:Ve[fe])==null?void 0:Ie.skillRows)||[]].filter(Me=>Number((Me==null?void 0:Me.damage)||0)>0).sort((Me,me)=>Number(me.damage||0)-Number(Me.damage||0)).slice(0,30)},[Je,fe,li,Rn.fights]),Km=x.useMemo(()=>{var Ve,Ie;if(ye===null||!ct)return[];const R=bi.find(Me=>Me.index===ye);if(!R)return[];const X=En.fights.find((Me,me)=>String(Me.id||"")===String(R.fightId||"")||me===R.index);return[...((Ie=(Ve=X==null?void 0:X.values)==null?void 0:Ve[ct])==null?void 0:Ie.skillRows)||[]].filter(Me=>Number((Me==null?void 0:Me.damage)||0)>0).sort((Me,me)=>Number(me.damage||0)-Number(Me.damage||0)).slice(0,30)},[ye,ct,bi,En.fights]);x.useEffect(()=>{if(Ja.length===0){pt!==null&&Ct(null),Fn!==null&&Mr(null);return}if(!pt||!Fc.has(pt)){const R=Ja[0].key;Ct(R),An(null)}},[Ja,Fc,pt,Fn]),x.useEffect(()=>{if(!He||He.skills.length===0){Fn!==null&&Mr(null);return}const R=He.skills.some(X=>X.id===Fn);(!Fn||!R)&&Mr(He.skills[0].id)},[He,Fn]),x.useEffect(()=>{if(Ce.length===0){da!==null&&$c(null),Ea!==null&&Al(null);return}if(!da||!ut.has(da)){const R=Ce[0].profession;$c(R),dd(null)}},[Ce,ut,da,Ea]),x.useEffect(()=>{if(!zt||zt.skills.length===0){Ea!==null&&Al(null);return}const R=zt.skills.some(X=>X.id===Ea);(!Ea||!R)&&Al(zt.skills[0].id)},[zt,Ea]),x.useEffect(()=>{if(En.players.length===0){ct!==null&&xe(null);return}(!ct||!yi.has(ct))&&ct!==null&&xe(null)},[En.players,yi,ct]),x.useEffect(()=>{Re(null)},[ct,je]),x.useEffect(()=>{if(ye===null)return;bi.some(X=>X.index===ye)||Re(null)},[bi,ye]),x.useEffect(()=>{if(Rn.players.length===0){fe!==null&&ze(null);return}(!fe||!Rc.has(fe))&&fe!==null&&ze(null)},[Rn.players,Rc,fe]),x.useEffect(()=>{$e(null)},[fe,et]),x.useEffect(()=>{if(Je===null)return;li.some(X=>X.index===Je)||$e(null)},[li,Je]);const Gm=x.useMemo(()=>new Set(rt),[rt]),{playerMapByKey:Ma,playerTotalsForSkill:es,skillChartData:Ki,skillChartMaxY:El,groupedSkillUsagePlayers:Dl}=QU({skillUsageData:P,selectedSkillId:qe,selectedPlayers:Gm,skillUsageView:Te==="perSecond"?"perSecond":"total"}),Mo=x.useMemo(()=>{const R=new Map,X=Me=>{Me.forEach(me=>{const at=Zc(me==null?void 0:me.name)||(me==null?void 0:me.name);at&&me!=null&&me.icon&&!R.has(at)&&R.set(at,me.icon)})},ve=Me=>{Me.forEach(me=>{Object.entries((me==null?void 0:me.conditions)||{}).forEach(([at,gn])=>{const gt=Zc(at)||at;gn!=null&&gn.icon&&!R.has(gt)&&R.set(gt,gn.icon)})})},Ve=Me=>{const me=new Map;return Me.forEach(at=>{const gn=Zc(at==null?void 0:at.name)||(at==null?void 0:at.name);if(!gn)return;const gt=me.get(gn)||{name:gn,icon:(at==null?void 0:at.icon)||R.get(gn)||vh(gn),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0};gt.applications+=Number((at==null?void 0:at.applications)||0),gt.damage+=Number((at==null?void 0:at.damage)||0),at!=null&&at.applicationsFromUptime&&(gt.applicationsFromUptime+=Number(at.applicationsFromUptime||0)),at!=null&&at.applicationsFromBuffs&&(gt.applicationsFromBuffs+=Number(at.applicationsFromBuffs||0)),at!=null&&at.applicationsFromBuffsActive&&(gt.applicationsFromBuffsActive+=Number(at.applicationsFromBuffsActive||0)),!gt.icon&&(at!=null&&at.icon)&&(gt.icon=at.icon),gt.icon||(gt.icon=vh(gn)),me.set(gn,gt)}),Array.from(me.values())},Ie=Me=>Me.map(me=>{const at={};return Object.entries((me==null?void 0:me.conditions)||{}).forEach(([gn,gt])=>{const an=Zc(gn)||gn;if(!an)return;const At=at[an]||{icon:(gt==null?void 0:gt.icon)||R.get(an)||vh(an),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0,skills:{}};At.applications+=Number((gt==null?void 0:gt.applications)||0),At.damage+=Number((gt==null?void 0:gt.damage)||0),gt!=null&&gt.applicationsFromUptime&&(At.applicationsFromUptime+=Number(gt.applicationsFromUptime||0)),gt!=null&&gt.applicationsFromBuffs&&(At.applicationsFromBuffs+=Number(gt.applicationsFromBuffs||0)),gt!=null&&gt.applicationsFromBuffsActive&&(At.applicationsFromBuffsActive+=Number(gt.applicationsFromBuffsActive||0)),!At.icon&&(gt!=null&&gt.icon)&&(At.icon=gt.icon),At.icon||(At.icon=vh(an)),Object.values((gt==null?void 0:gt.skills)||{}).forEach(sn=>{const dt=(sn==null?void 0:sn.name)||"Unknown",Un=At.skills[dt]||{name:dt,hits:0,damage:0,icon:sn==null?void 0:sn.icon};Un.hits+=Number((sn==null?void 0:sn.hits)||0),Un.damage+=Number((sn==null?void 0:sn.damage)||0),!Un.icon&&(sn!=null&&sn.icon)&&(Un.icon=sn.icon),At.skills[dt]=Un}),at[an]=At}),{...me,conditions:at}});return(Me,me)=>(X(Me),ve(me),{summary:Ve(Me),players:Ie(me)})},[]),Oo=ua==="outgoing"?L.outgoingConditionSummary:L.incomingConditionSummary,wN=ua==="outgoing"?L.outgoingConditionPlayers:L.incomingConditionPlayers,{summary:Ym,players:HF}=x.useMemo(()=>Mo(Oo||[],wN||[]),[Mo,Oo,wN]);x.useEffect(()=>{if(he==="all"||Ym.some(X=>X.name===he))return;const R=Zc(he);R&&Ym.some(X=>X.name===R)?we(R):we("all")},[he,Ym,we]);const qF=x.useMemo(()=>{const R={};return es.forEach((X,ve)=>{const Ve=Ma.get(ve);if(!Ve)return;const Ie=Ve.profession;(!R[Ie]||X>R[Ie])&&(R[Ie]=X)}),R},[es,Ma]),Lt=x.useCallback(R=>d?d(R):!0,[d]),Qn=x.useCallback((R,X)=>{const ve=Lt(R);return d?`${X} ${ve?"":"hidden"}`:`${X} transition-[opacity,transform] duration-700 ease-in-out ${ve?"opacity-100 translate-y-0 max-h-[99999px]":"opacity-0 -translate-y-2 max-h-0 h-0 min-h-0 overflow-hidden pointer-events-none p-0 !p-0 m-0 !mb-0 !mt-0 border-0 !border-0 border-transparent"}`},[Lt,d]),kN=x.useMemo(()=>Vie.find(R=>Lt(R))||null,[Lt]),Zn=x.useCallback(R=>R===kN,[kN]),KF=x.useMemo(()=>{const R=new Map,X=new Map;return rt.forEach(ve=>{const Ve=Ma.get(ve);if(!Ve)return;const Ie=es.get(ve)??0,Me=X.get(Ve.profession)||[];Me.push({key:ve,total:Ie}),X.set(Ve.profession,Me)}),X.forEach(ve=>{ve.sort((Ve,Ie)=>Ie.total-Ve.total),ve.forEach((Ve,Ie)=>{R.set(Ve.key,Ie)})}),R},[rt,Ma,es]),SN=["0","12 3","8 3","6 3","4 3","2 3"],GF=R=>{const X=Ma.get(R),ve=rc((X==null?void 0:X.profession)||""),Ve=es.get(R)??0,Ie=X!=null&&X.profession&&qF[X.profession]||1,me=.35+(Ie>0?Ve/Ie:1)*.65;return Xm(ve,me)},YF=R=>{const X=KF.get(R)??0;return SN[X%SN.length]},XF=(R,X,ve)=>{if(!ve)return GF(R);const Ve=Ma.get(R),Ie=rc((Ve==null?void 0:Ve.profession)||"");return X?Xm(Ie,1.2):Xm(Ie,.5)},Xm=(R,X)=>{const ve=R.replace("#","");if(ve.length!==6)return R;const Ve=gt=>Math.max(0,Math.min(255,gt)),Ie=gt=>Number.parseInt(ve.slice(gt,gt+2),16),Me=gt=>Ve(Math.round(gt)).toString(16).padStart(2,"0"),me=Ie(0),at=Ie(2),gn=Ie(4);return`#${Me(me*X)}${Me(at*X)}${Me(gn*X)}`},NN=x.useMemo(()=>{const R=new Map;return P.skillOptions.forEach(X=>{R.set(X.id,{name:X.name,icon:X.icon})}),R},[P.skillOptions]),md=x.useMemo(()=>{var gt;if(rt.length===0)return[];const R=new Map,X=new Map;let ve=0;rt.forEach(an=>{const At=Ma.get(an);if(!At)return;ve+=At.totalActiveSeconds||0,Object.entries(At.skillTotals||{}).forEach(([dt,Un])=>{R.set(dt,(R.get(dt)||0)+Number(Un||0))});const sn=At.profession||"Unknown";X.set(sn,(X.get(sn)||0)+(At.totalActiveSeconds||0))});const Ve=Ut.trim().toLowerCase(),Ie=Te==="perSecond",Me=((gt=Array.from(X.entries()).sort((an,At)=>At[1]-an[1])[0])==null?void 0:gt[0])||"Unknown",me=rc(Me),at="#64748b";return Array.from(R.entries()).map(([an,At])=>{const sn=NN.get(an),dt=(sn==null?void 0:sn.name)||an,Un=Ie&&ve>0?At/ve:At;return{skillId:an,name:dt,icon:sn==null?void 0:sn.icon,total:Un}}).filter(an=>an.total>0&&(!Ve||an.name.toLowerCase().includes(Ve))).sort((an,At)=>At.total-an.total).map((an,At)=>({...an,color:At===0?me:Xm(me,.85-Math.min(At*.06,.4))||at}))},[rt,Ma,Ut,Te,NN]);x.useEffect(()=>{if(md.length===0){qe!==null&&Qe(null);return}(!qe||!md.some(R=>R.skillId===qe))&&Qe(md[0].skillId)},[md,qe,Qe]);const Bc=P.skillOptions.find(R=>R.id===qe),QF=(Bc==null?void 0:Bc.name)||"",ZF=(Bc==null?void 0:Bc.icon)||null,JF=j&&!!qe&&rt.length>0,Qm="__all__",eR=j&&Za.length>0,Hs=x.useMemo(()=>Za.find(R=>R.profession===ft)??null,[Za,ft]),tR=Nt===Qm,nR=x.useMemo(()=>{var R;return((R=Hs==null?void 0:Hs.skills)==null?void 0:R.find(X=>X.id===Nt))??null},[Hs,Nt]);x.useEffect(()=>{if(Za.length===0){ft!==null&&Et(null),Bt!==null&&Kt(null);return}if(!ft||!Za.some(R=>R.profession===ft)){const R=Za[0].profession;Et(R),Kt(null)}},[Za,ft,Bt]),x.useEffect(()=>{if(!Hs||Hs.skills.length===0){Nt!==null&&Tt(null);return}const R=Hs.skills.some(X=>X.id===Nt);(!Nt||!R&&Nt!==Qm)&&Tt(Qm)},[Hs,Nt]);const rR=R=>{Ot(X=>X.includes(R)?X.filter(ve=>ve!==R):[...X,R])},iR=R=>{Ot(X=>X.filter(ve=>ve!==R))},aR=x.useMemo(()=>{const R=Oe.trim().toLowerCase(),X=L.boonTables||[];return R?X.filter(ve=>ve.name.toLowerCase().includes(R)):X},[L.boonTables,Oe]),sR=x.useMemo(()=>I?(L.boonTables||[]).find(R=>R.id===I)??null:null,[L.boonTables,I]),oR=x.useMemo(()=>{const R=$n.trim().toLowerCase(),X=[...L.specialTables||[]].sort((ve,Ve)=>ve.name.localeCompare(Ve.name));return R?X.filter(ve=>ve.name.toLowerCase().includes(R)):X},[L.specialTables,$n]),ts=x.useMemo(()=>[...L.specialTables||[]].filter(X=>/\b(sigil|relic)\b/i.test(String((X==null?void 0:X.name)||""))).sort((X,ve)=>X.name.localeCompare(ve.name)),[L.specialTables]),lR=x.useMemo(()=>{const R=Qt.trim().toLowerCase();return R?ts.filter(X=>X.name.toLowerCase().includes(R)):ts},[ts,Qt]),cR=x.useMemo(()=>qt?(L.specialTables||[]).find(R=>R.id===qt)??null:null,[L.specialTables,qt]),uR=x.useMemo(()=>Le?ts.find(R=>R.id===Le)??null:null,[ts,Le]);x.useEffect(()=>{!L.boonTables||L.boonTables.length===0||(!I||!L.boonTables.some(R=>R.id===I))&&te(L.boonTables[0].id)},[L.boonTables,I]),x.useEffect(()=>{!L.specialTables||L.specialTables.length===0||(!qt||!L.specialTables.some(R=>R.id===qt))&&vn(L.specialTables[0].id)},[L.specialTables,qt]),x.useEffect(()=>{if(!ts||ts.length===0){Le!==null&&kt(null);return}(!Le||!ts.some(R=>R.id===Le))&&kt(ts[0].id)},[ts,Le]),x.useEffect(()=>{const R=()=>{const ve=window.getSelection();ve&&ve.rangeCount>0&&ve.removeAllRanges()},X=ve=>{var Ie;const Ve=ve.target;(Ie=Ve==null?void 0:Ve.closest)!=null&&Ie.call(Ve,".recharts-wrapper")&&(ve.preventDefault(),R())};return document.addEventListener("selectstart",X),document.addEventListener("mousedown",X),document.addEventListener("mousemove",X),document.addEventListener("dragstart",X),()=>{document.removeEventListener("selectstart",X),document.removeEventListener("mousedown",X),document.removeEventListener("mousemove",X),document.removeEventListener("dragstart",X)}},[]);const Mi=R=>{le.current&&(window.clearTimeout(le.current),le.current=null),z(!1),en(R)},ci=()=>{rn&&(le.current&&window.clearTimeout(le.current),z(!0),le.current=window.setTimeout(()=>{en(null),z(!1),le.current=null},160))};x.useEffect(()=>{if(!rn)return;const R=Ve=>{Ve.key==="Escape"&&ci()},X=document.body.style.overflow,ve=document.documentElement.style.overflow;return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",window.addEventListener("keydown",R),()=>{window.removeEventListener("keydown",R),document.body.style.overflow=X,document.documentElement.style.overflow=ve}},[rn]);const CN=(R,X)=>{const ve=((X==null?void 0:X.value)||0)-((R==null?void 0:R.value)||0);return ve!==0?ve:String((R==null?void 0:R.name)||"").localeCompare(String((X==null?void 0:X.name)||""))},jN=Array.isArray(L==null?void 0:L.squadClassData)?L.squadClassData:[],AN=Array.isArray(L==null?void 0:L.enemyClassData)?L.enemyClassData:[],dR=Array.isArray(L==null?void 0:L.attendanceData)?L.attendanceData:[],Pv=Array.isArray(L==null?void 0:L.squadCompByFight)?L.squadCompByFight:[],PN=Array.isArray(L==null?void 0:L.fightBreakdown)?L.fightBreakdown:[],fR=x.useMemo(()=>{const R=new Map;return PN.forEach(X=>{const ve=String((X==null?void 0:X.id)||"");ve&&R.set(ve,X)}),Pv.map(X=>{const ve=R.get(String((X==null?void 0:X.id)||""))||null;return{...X,enemyClassCounts:(ve==null?void 0:ve.enemyClassCounts)||{}}})},[Pv,PN]),mR=x.useMemo(()=>[...jN].sort(CN),[jN]),hR=x.useMemo(()=>[...AN].sort(CN),[AN]),pR=c?"stats-view min-h-screen flex flex-col p-0 w-full max-w-none":"stats-view h-full flex flex-col p-1 w-full max-w-none overflow-hidden",gR=c?`stats-sections space-y-0 min-h-0 px-3 pb-3 pt-3 sm:px-4 sm:pb-4 sm:pt-4 rounded-xl border border-white/5 ${rn?"":"backdrop-blur-xl"}`:`flex-1 overflow-y-auto pr-2 space-y-6 min-h-0 border border-white/5 p-4 rounded-xl ${rn?"":"backdrop-blur-2xl"}`,vR=c&&h!=="matte"&&h!=="kinetic"?{backgroundColor:"rgba(3, 7, 18, 0.75)",backgroundImage:"linear-gradient(160deg, rgba(var(--accent-rgb), 0.12), rgba(var(--accent-rgb), 0.04) 70%)"}:c&&h==="kinetic"?{backgroundColor:"var(--bg-elevated)",backgroundImage:"none"}:void 0,xR=R=>Te==="perSecond"?R.toFixed(1):Math.round(R).toLocaleString(),yR=R=>R.toFixed(1),bR=R=>Math.round(R).toLocaleString(),wR=R=>typeof R=="number"&&Number.isFinite(R)?R.toFixed(1):"0.0",Oi=oie;return u.jsxs("div",{className:pR,children:[rn&&u.jsx("div",{className:`fixed inset-0 z-40 bg-black/70 backdrop-blur-md modal-backdrop ${on?"modal-backdrop-exit":"modal-backdrop-enter"}`,onClick:ci}),u.jsx(Rie,{embedded:c,dashboardTitle:f,totalLogs:L.total,onBack:t,devMockAvailable:Y,devMockUploadState:_,onDevMockUpload:ne,uploadingWeb:$,onWebUpload:V,sharing:F,canShareDiscord:m,onShare:J}),u.jsx(Bie,{embedded:c,webUploadMessage:T,webUploadUrl:M,webUploadBuildStatus:O,webCopyStatus:ae,setWebCopyStatus:ee}),u.jsx(zie,{embedded:c,devMockAvailable:Y,devMockUploadState:_}),u.jsx("div",{className:c?"":"flex-1 min-h-0 flex",children:u.jsxs("div",{id:"stats-dashboard-container",ref:k,className:`${gR} ${c?"":"flex-1"}`,style:vR,children:[u.jsxs(u.Fragment,{children:[Lt("overview")&&u.jsx(Nie,{stats:L,isSectionVisible:Lt,isFirstVisibleSection:Zn,sectionClass:Qn}),Lt("fight-breakdown")&&u.jsx(Cie,{stats:L,fightBreakdownTab:De,setFightBreakdownTab:Ke,isSectionVisible:Lt,isFirstVisibleSection:Zn,sectionClass:Qn}),Lt("top-players")&&u.jsx(Pie,{stats:L,showTopStats:b,showMvp:w,topStatsMode:C,expandedLeader:H,setExpandedLeader:B,formatTopStatValue:$o,formatWithCommas:ha,isMvpStatEnabled:ie,renderProfessionIcon:Oi,isSectionVisible:Lt,isFirstVisibleSection:Zn,sectionClass:Qn}),Lt("top-skills-outgoing")&&u.jsx(Tie,{stats:L,topSkillsMetric:E,onTopSkillsMetricChange:U,isSectionVisible:Lt,isFirstVisibleSection:Zn,sectionClass:Qn}),Lt("squad-composition")&&u.jsx(Eie,{sortedSquadClassData:mR,sortedEnemyClassData:hR,getProfessionIconPath:Gl,isSectionVisible:Lt,isFirstVisibleSection:Zn,sectionClass:Qn}),Lt("attendance-ledger")&&u.jsx(Iie,{attendanceRows:dR,getProfessionIconPath:Gl,isSectionVisible:Lt,isFirstVisibleSection:Zn,sectionClass:Qn}),Lt("squad-comp-fight")&&u.jsx(Lie,{fights:Pv,getProfessionIconPath:Gl,isSectionVisible:Lt,isFirstVisibleSection:Zn,sectionClass:Qn}),Lt("fight-comp")&&u.jsx(Fie,{fights:fR,getProfessionIconPath:Gl,isSectionVisible:Lt,isFirstVisibleSection:Zn,sectionClass:Qn}),Lt("timeline")&&u.jsx(Die,{timelineData:L.timelineData,timelineFriendlyScope:Be,setTimelineFriendlyScope:Ne,isSectionVisible:Lt,isFirstVisibleSection:Zn,sectionClass:Qn}),Lt("map-distribution")&&u.jsx(Mie,{mapData:L.mapData,isSectionVisible:Lt,isFirstVisibleSection:Zn,sectionClass:Qn}),Lt("offense-detailed")&&u.jsx(fie,{stats:L,OFFENSE_METRICS:dO,roundCountStats:S,offenseSearch:wn,setOffenseSearch:qi,activeOffenseStat:Mc,setActiveOffenseStat:Oc,offenseViewMode:jn,setOffenseViewMode:xi,formatWithCommas:ha,renderProfessionIcon:Oi,expandedSection:rn,expandedSectionClosing:on,openExpandedSection:Mi,closeExpandedSection:ci,isSectionVisible:Lt,isFirstVisibleSection:Zn,sectionClass:Qn,sidebarListClass:As}),Lt("player-breakdown")&&u.jsx(die,{expandedSection:rn,expandedSectionClosing:on,openExpandedSection:Mi,closeExpandedSection:ci,isSectionVisible:Lt,isFirstVisibleSection:Zn,sectionClass:Qn,sidebarListClass:As,viewMode:Lc,setViewMode:jl,playerSkillBreakdowns:Ja,classSkillBreakdowns:Ce,activePlayerKey:pt,setActivePlayerKey:Ct,expandedPlayerKey:fn,setExpandedPlayerKey:An,activePlayerSkillId:Fn,setActivePlayerSkillId:Mr,activeClassKey:da,setActiveClassKey:$c,expandedClassKey:Wm,setExpandedClassKey:dd,activeClassSkillId:Ea,setActiveClassSkillId:Al,skillSearch:Vs,setSkillSearch:Ws,activePlayerBreakdown:He,activePlayerSkill:Ze,activeClassBreakdown:zt,activeClassSkill:fr,renderProfessionIcon:Oi}),Lt("spike-damage")&&u.jsx(QP,{expandedSection:rn,expandedSectionClosing:on,openExpandedSection:Mi,closeExpandedSection:ci,isSectionVisible:Lt,isFirstVisibleSection:Zn,sectionClass:Qn,spikePlayerFilter:yn,setSpikePlayerFilter:ai,groupedSpikePlayers:Eo,spikeMode:je,setSpikeMode:tt,selectedSpikePlayerKey:ct,setSelectedSpikePlayerKey:xe,selectedSpikePlayer:Do,spikeChartData:bi,spikeChartMaxY:Pl,selectedSpikeFightIndex:ye,setSelectedSpikeFightIndex:Re,spikeDrilldownTitle:oi.title,spikeDrilldownData:oi.data,spikeDrilldownDownIndices:oi.downIndices,spikeDrilldownDeathIndices:oi.deathIndices,spikeFightSkillRows:Km,spikeFightSkillTitle:"Outgoing Skill Damage (Selected Fight)",formatWithCommas:ha,renderProfessionIcon:Oi}),Lt("conditions-outgoing")&&u.jsx(mie,{conditionSummary:Ym,conditionPlayers:HF,conditionSearch:un,setConditionSearch:ii,activeConditionName:he,setActiveConditionName:we,conditionDirection:ua,setConditionDirection:Qa,conditionGridClass:bt,effectiveConditionSort:mt,setConditionSort:Dt,showConditionDamage:Jt,renderProfessionIcon:Oi,expandedSection:rn,expandedSectionClosing:on,openExpandedSection:Mi,closeExpandedSection:ci,isSectionVisible:Lt,isFirstVisibleSection:Zn,sectionClass:Qn,sidebarListClass:As}),Lt("defense-detailed")&&u.jsx(pie,{stats:L,DEFENSE_METRICS:fO,defenseSearch:vi,setDefenseSearch:ca,activeDefenseStat:Nl,setActiveDefenseStat:Ic,defenseViewMode:Cl,setDefenseViewMode:jv,roundCountStats:S,formatWithCommas:ha,renderProfessionIcon:Oi,expandedSection:rn,expandedSectionClosing:on,openExpandedSection:Mi,closeExpandedSection:ci,isSectionVisible:Lt,isFirstVisibleSection:Zn,sectionClass:Qn,sidebarListClass:As}),Lt("incoming-strike-damage")&&u.jsx(QP,{sectionId:"incoming-strike-damage",title:"Incoming Strike Damage",subtitle:"Select one enemy class to chart incoming strike pressure per fight.",listTitle:"Enemy Classes",searchPlaceholder:"Search enemy class",titleIconClassName:"text-cyan-300",expandedSection:rn,expandedSectionClosing:on,openExpandedSection:Mi,closeExpandedSection:ci,isSectionVisible:Lt,isFirstVisibleSection:Zn,sectionClass:Qn,spikePlayerFilter:Yr,setSpikePlayerFilter:Ta,groupedSpikePlayers:fd,spikeMode:et,setSpikeMode:Yt,selectedSpikePlayerKey:fe,setSelectedSpikePlayerKey:ze,selectedSpikePlayer:Da,spikeChartData:li,spikeChartMaxY:Hm,selectedSpikeFightIndex:Je,setSelectedSpikeFightIndex:$e,spikeDrilldownTitle:Tl.title,spikeDrilldownData:Tl.data,spikeDrilldownDownIndices:Tl.downIndices,spikeDrilldownDeathIndices:Tl.deathIndices,spikeFightSkillRows:qm,spikeFightSkillTitle:"Incoming Skill Damage (Selected Fight)",formatWithCommas:ha,renderProfessionIcon:Oi}),Lt("defense-mitigation")&&u.jsx(gie,{stats:L,DAMAGE_MITIGATION_METRICS:n6,damageMitigationSearch:or,setDamageMitigationSearch:xn,activeDamageMitigationStat:_c,setActiveDamageMitigationStat:Z,damageMitigationViewMode:Av,setDamageMitigationViewMode:D,damageMitigationScope:lt,setDamageMitigationScope:ht,roundCountStats:S,formatWithCommas:ha,renderProfessionIcon:Oi,expandedSection:rn,expandedSectionClosing:on,openExpandedSection:Mi,closeExpandedSection:ci,isSectionVisible:Lt,isFirstVisibleSection:Zn,sectionClass:Qn,sidebarListClass:As}),Lt("boon-output")&&u.jsx(hie,{stats:L,activeBoonCategory:Pe,setActiveBoonCategory:R=>Ue(R),activeBoonMetric:se,setActiveBoonMetric:Ye,activeBoonTab:I,setActiveBoonTab:te,activeBoonTable:sR,filteredBoonTables:aR,boonSearch:Oe,setBoonSearch:wt,formatBoonMetricDisplay:M6,getBoonMetricValue:NO,renderProfessionIcon:Oi,roundCountStats:S,expandedSection:rn,expandedSectionClosing:on,openExpandedSection:Mi,closeExpandedSection:ci,isSectionVisible:Lt,isFirstVisibleSection:Zn,sectionClass:Qn,sidebarListClass:As}),Lt("support-detailed")&&u.jsx(vie,{stats:L,SUPPORT_METRICS:mO,supportSearch:Dc,setSupportSearch:Sl,activeSupportStat:pn,setActiveSupportStat:Xr,supportViewMode:W,setSupportViewMode:q,cleanseScope:Ee,setCleanseScope:de,roundCountStats:S,formatWithCommas:ha,renderProfessionIcon:Oi,expandedSection:rn,expandedSectionClosing:on,openExpandedSection:Mi,closeExpandedSection:ci,isSectionVisible:Lt,isFirstVisibleSection:Zn,sectionClass:Qn,sidebarListClass:As}),Lt("healing-stats")&&u.jsx(xie,{stats:L,HEALING_METRICS:r6,activeHealingMetric:We,setActiveHealingMetric:Mt,healingCategory:nn,setHealingCategory:dn,activeResUtilitySkill:Mn,setActiveResUtilitySkill:si,skillUsageData:P,formatWithCommas:ha,renderProfessionIcon:Oi,expandedSection:rn,expandedSectionClosing:on,openExpandedSection:Mi,closeExpandedSection:ci,isSectionVisible:Lt,isFirstVisibleSection:Zn,sectionClass:Qn}),Lt("fight-diff-mode")&&u.jsx(Sie,{stats:L,formatWithCommas:ha,expandedSection:rn,expandedSectionClosing:on,openExpandedSection:Mi,closeExpandedSection:ci,isSectionVisible:Lt,isFirstVisibleSection:Zn,sectionClass:Qn}),Lt("special-buffs")&&u.jsx(bie,{stats:L,specialSearch:$n,setSpecialSearch:ge,filteredSpecialTables:oR,activeSpecialTab:qt,setActiveSpecialTab:vn,activeSpecialTable:cR,formatWithCommas:ha,renderProfessionIcon:Oi,expandedSection:rn,expandedSectionClosing:on,openExpandedSection:Mi,closeExpandedSection:ci,isSectionVisible:Lt,isFirstVisibleSection:Zn,sectionClass:Qn,sidebarListClass:As}),Lt("sigil-relic-uptime")&&u.jsx(kie,{hasSigilRelicTables:ts.length>0,sigilRelicSearch:Qt,setSigilRelicSearch:Vt,filteredSigilRelicTables:lR,activeSigilRelicTab:Le,setActiveSigilRelicTab:kt,activeSigilRelicTable:uR,formatWithCommas:ha,renderProfessionIcon:Oi,expandedSection:rn,expandedSectionClosing:on,openExpandedSection:Mi,closeExpandedSection:ci,isSectionVisible:Lt,isFirstVisibleSection:Zn,sectionClass:Qn,sidebarListClass:As}),Lt("skill-usage")&&u.jsx(lie,{expandedSection:rn,expandedSectionClosing:on,openExpandedSection:Mi,closeExpandedSection:ci,isSectionVisible:Lt,isFirstVisibleSection:Zn,sectionClass:Qn,selectedPlayers:rt,setSelectedPlayers:Ot,removeSelectedPlayer:iR,playerMapByKey:Ma,groupedSkillUsagePlayers:Dl,expandedSkillUsageClass:Se,setExpandedSkillUsageClass:nt,togglePlayerSelection:rR,skillUsagePlayerFilter:St,setSkillUsagePlayerFilter:Gt,skillUsageView:Te,setSkillUsageView:oe,skillUsageData:P,skillUsageSkillFilter:Ut,setSkillUsageSkillFilter:kn,selectedSkillId:qe,setSelectedSkillId:Qe,skillBarData:md,selectedSkillName:QF,selectedSkillIcon:ZF,skillUsageReady:JF,skillUsageAvailable:j,isSkillUsagePerSecond:_e,skillChartData:Ki,skillChartMaxY:El,playerTotalsForSkill:es,hoveredSkillPlayer:On,setHoveredSkillPlayer:Nn,getLineStrokeColor:XF,getLineDashForPlayer:YF,formatSkillUsageValue:xR,renderProfessionIcon:Oi}),Lt("apm-stats")&&u.jsx(uie,{expandedSection:rn,expandedSectionClosing:on,openExpandedSection:Mi,closeExpandedSection:ci,isSectionVisible:Lt,isFirstVisibleSection:Zn,sectionClass:Qn,sidebarListClass:As,apmSpecAvailable:eR,skillUsageAvailable:j,apmSpecTables:Za,activeApmSpec:ft,setActiveApmSpec:Et,expandedApmSpec:Bt,setExpandedApmSpec:Kt,activeApmSkillId:Nt,setActiveApmSkillId:Tt,ALL_SKILLS_KEY:Qm,apmSkillSearch:Fe,setApmSkillSearch:st,activeApmSpecTable:Hs,activeApmSkill:nR,isAllApmSkills:tR,apmView:Rt,setApmView:_t,formatApmValue:wR,formatCastRateValue:yR,formatCastCountValue:bR,renderProfessionIcon:Oi})]}),!c&&u.jsx("div",{className:"h-24","aria-hidden":"true"})]})})]})}const Hie="Arcane",qie="CRT",sp="MatteSlate",op="KineticPaper",lp={id:Hie,label:"Arcane",rgb:"136, 116, 255",pattern:"radial-gradient(at 0% 0%, hsla(250, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(220, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 65%, 20%, 1) 0, transparent 70%)"},Kie={id:sp,label:"Matte Slate",rgb:"93, 163, 194",pattern:"linear-gradient(to bottom, #222629, #222629)"},Gie={id:op,label:"Kinetic Paper",rgb:"154, 133, 99",pattern:"linear-gradient(to bottom, #e9e3d8, #e9e3d8)"},Yie=[lp,{id:"Amethyst",label:"Amethyst",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(270, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(260, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 60%, 30%, 1) 0, transparent 70%)"},{id:"Aurora",label:"Aurora",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(160, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 75%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 85%, 15%, 1) 0, transparent 70%)"},{id:"Autumn",label:"Autumn",rgb:"180, 130, 70",pattern:"radial-gradient(at 0% 0%, hsla(30, 65%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 60%, 15%, 1) 0, transparent 70%)"},{id:"Berry",label:"Berry",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(300, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 60%, 25%, 1) 0, transparent 70%)"},{id:"Bubblegum",label:"Bubblegum",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 85%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 75%, 20%, 1) 0, transparent 70%)"},{id:"Cherry",label:"Cherry",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(340, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(0, 60%, 25%, 1) 0, transparent 70%)"},{id:"Cobalt",label:"Cobalt",rgb:"59, 130, 246",pattern:"radial-gradient(at 0% 0%, hsla(220, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 15%, 1) 0, transparent 70%)"},{id:"Coffee",label:"Coffee",rgb:"253, 186, 116",pattern:"radial-gradient(at 0% 0%, hsla(25, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(35, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(30, 50%, 22%, 1) 0, transparent 70%)"},{id:"Cyberpunk",label:"Cyberpunk",rgb:"232, 121, 249",pattern:"radial-gradient(at 0% 0%, hsla(290, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 25%, 1) 0, transparent 70%)"},{id:"Dark Pearl",label:"Dark Pearl",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 30%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 40%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 30%, 25%, 1) 0, transparent 70%)"},{id:"Deep Space",label:"Deep Space",rgb:"99, 102, 241",pattern:"radial-gradient(at 0% 0%, hsla(245, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(300, 70%, 18%, 1) 0, transparent 70%)"},{id:"Electric Storm",label:"Electric Storm",rgb:"56, 189, 248",pattern:"radial-gradient(at 0% 0%, hsla(200, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(180, 80%, 20%, 1) 0, transparent 70%)"},{id:"Emerald",label:"Emerald",rgb:"52, 211, 153",pattern:"radial-gradient(at 0% 0%, hsla(150, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 70%, 25%, 1) 0, transparent 70%)"},{id:"Forest",label:"Forest",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(150, 70%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(120, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 80%, 18%, 1) 0, transparent 70%)"},{id:"Glacier",label:"Glacier",rgb:"125, 211, 252",pattern:"radial-gradient(at 0% 0%, hsla(190, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(210, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 30%, 1) 0, transparent 70%)"},{id:"Gold",label:"Gold",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(40, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 70%, 25%, 1) 0, transparent 70%)"},{id:"Jungle",label:"Jungle",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(145, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(175, 70%, 18%, 1) 0, transparent 70%)"},{id:"Lavender",label:"Lavender",rgb:"167, 139, 250",pattern:"radial-gradient(at 0% 0%, hsla(250, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(290, 50%, 30%, 1) 0, transparent 70%)"},{id:"Mermaid",label:"Mermaid",rgb:"45, 212, 191",pattern:"radial-gradient(at 0% 0%, hsla(175, 75%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 20%, 1) 0, transparent 70%)"},{id:"Midnight",label:"Midnight",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(260, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(320, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 60%, 20%, 1) 0, transparent 70%)"},{id:"Mint",label:"Mint",rgb:"110, 231, 183",pattern:"radial-gradient(at 0% 0%, hsla(160, 60%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(170, 50%, 25%, 1) 0, transparent 70%)"},{id:"Nebula",label:"Nebula",rgb:"196, 181, 253",pattern:"radial-gradient(at 0% 0%, hsla(260, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(310, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 60%, 25%, 1) 0, transparent 70%)"},{id:"Neon Nights",label:"Neon Nights",rgb:"236, 72, 153",pattern:"radial-gradient(at 0% 0%, hsla(330, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 95%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 80%, 18%, 1) 0, transparent 70%)"},{id:"Obsidian",label:"Obsidian",rgb:"226, 232, 240",pattern:"radial-gradient(at 0% 0%, hsla(0, 0%, 5%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 10%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 20%, 15%, 1) 0, transparent 70%)"},{id:"Ocean",label:"Ocean",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(210, 70%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 22%, 1) 0, transparent 70%)"},{id:"Royal",label:"Royal",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 60%, 30%, 1) 0, transparent 70%)"},{id:"Ruby",label:"Ruby",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 70%, 25%, 1) 0, transparent 70%)"},{id:"Sapphire",label:"Sapphire",rgb:"96, 165, 250",pattern:"radial-gradient(at 0% 0%, hsla(220, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(230, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 70%, 25%, 1) 0, transparent 70%)"},{id:"Shadow",label:"Shadow",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 20%, 10%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 10%, 20%, 1) 0, transparent 70%)"},{id:"Slate",label:"Slate",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(210, 30%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 40%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 30%, 30%, 1) 0, transparent 70%)"},{id:"Sunrise",label:"Sunrise",rgb:"251, 113, 133",pattern:"radial-gradient(at 0% 0%, hsla(350, 75%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 18%, 1) 0, transparent 70%)"},{id:"Sunset",label:"Sunset",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(10, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(330, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 50%, 25%, 1) 0, transparent 70%)"},{id:"Toxic",label:"Toxic",rgb:"163, 230, 53",pattern:"radial-gradient(at 0% 0%, hsla(100, 90%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(90, 90%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(120, 80%, 18%, 1) 0, transparent 70%)"},{id:"Tropics",label:"Tropics",rgb:"20, 184, 166",pattern:"radial-gradient(at 0% 0%, hsla(170, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(15, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 75%, 20%, 1) 0, transparent 70%)"},{id:"Ultraviolet",label:"Ultraviolet",rgb:"139, 92, 246",pattern:"radial-gradient(at 0% 0%, hsla(265, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 80%, 20%, 1) 0, transparent 70%)"},{id:"Vaporwave",label:"Vaporwave",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(280, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(170, 90%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 30%, 1) 0, transparent 70%)"},{id:"Volcano",label:"Volcano",rgb:"239, 68, 68",pattern:"radial-gradient(at 0% 0%, hsla(0, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(25, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(350, 75%, 15%, 1) 0, transparent 70%)"},{id:"Wildfire",label:"Wildfire",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(25, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 80%, 15%, 1) 0, transparent 70%)"}],Xie={id:qie,label:"CRT Hacker",rgb:"87, 255, 154",pattern:"radial-gradient(circle at 12% 10%, rgba(44, 120, 78, 0.42), transparent 60%), radial-gradient(circle at 88% 22%, rgba(22, 86, 52, 0.38), transparent 62%), linear-gradient(180deg, rgba(5, 12, 8, 0.92), rgba(3, 7, 6, 0.98))"},Md=[...Yie,Xie,Kie,Gie];function Qie(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Zie=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Jie=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,eae={};function ZP(e,t){return(eae.jsx?Jie:Zie).test(e)}const tae=/[ \t\n\f\r]/g;function nae(e){return typeof e=="object"?e.type==="text"?JP(e.value):!1:JP(e)}function JP(e){return e.replace(tae,"")===""}class $m{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}$m.prototype.normal={};$m.prototype.property={};$m.prototype.space=void 0;function y4(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new $m(n,r,t)}function nw(e){return e.toLowerCase()}class la{constructor(t,n){this.attribute=n,this.property=t}}la.prototype.attribute="";la.prototype.booleanish=!1;la.prototype.boolean=!1;la.prototype.commaOrSpaceSeparated=!1;la.prototype.commaSeparated=!1;la.prototype.defined=!1;la.prototype.mustUseProperty=!1;la.prototype.number=!1;la.prototype.overloadedBoolean=!1;la.prototype.property="";la.prototype.spaceSeparated=!1;la.prototype.space=void 0;let rae=0;const cn=Pc(),Ir=Pc(),rw=Pc(),Xe=Pc(),Kn=Pc(),Pu=Pc(),ma=Pc();function Pc(){return 2**++rae}const iw=Object.freeze(Object.defineProperty({__proto__:null,boolean:cn,booleanish:Ir,commaOrSpaceSeparated:ma,commaSeparated:Pu,number:Xe,overloadedBoolean:rw,spaceSeparated:Kn},Symbol.toStringTag,{value:"Module"})),Mx=Object.keys(iw);class _S extends la{constructor(t,n,r,i){let a=-1;if(super(t,n),eT(this,"space",i),typeof r=="number")for(;++a<Mx.length;){const s=Mx[a];eT(this,Mx[a],(r&iw[s])===iw[s])}}}_S.prototype.defined=!0;function eT(e,t,n){n&&(e[t]=n)}function cd(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const a=new _S(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[nw(r)]=r,n[nw(a.attribute)]=r}return new $m(t,n,e.space)}const b4=cd({properties:{ariaActiveDescendant:null,ariaAtomic:Ir,ariaAutoComplete:null,ariaBusy:Ir,ariaChecked:Ir,ariaColCount:Xe,ariaColIndex:Xe,ariaColSpan:Xe,ariaControls:Kn,ariaCurrent:null,ariaDescribedBy:Kn,ariaDetails:null,ariaDisabled:Ir,ariaDropEffect:Kn,ariaErrorMessage:null,ariaExpanded:Ir,ariaFlowTo:Kn,ariaGrabbed:Ir,ariaHasPopup:null,ariaHidden:Ir,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Kn,ariaLevel:Xe,ariaLive:null,ariaModal:Ir,ariaMultiLine:Ir,ariaMultiSelectable:Ir,ariaOrientation:null,ariaOwns:Kn,ariaPlaceholder:null,ariaPosInSet:Xe,ariaPressed:Ir,ariaReadOnly:Ir,ariaRelevant:null,ariaRequired:Ir,ariaRoleDescription:Kn,ariaRowCount:Xe,ariaRowIndex:Xe,ariaRowSpan:Xe,ariaSelected:Ir,ariaSetSize:Xe,ariaSort:null,ariaValueMax:Xe,ariaValueMin:Xe,ariaValueNow:Xe,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function w4(e,t){return t in e?e[t]:t}function k4(e,t){return w4(e,t.toLowerCase())}const iae=cd({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Pu,acceptCharset:Kn,accessKey:Kn,action:null,allow:null,allowFullScreen:cn,allowPaymentRequest:cn,allowUserMedia:cn,alt:null,as:null,async:cn,autoCapitalize:null,autoComplete:Kn,autoFocus:cn,autoPlay:cn,blocking:Kn,capture:null,charSet:null,checked:cn,cite:null,className:Kn,cols:Xe,colSpan:null,content:null,contentEditable:Ir,controls:cn,controlsList:Kn,coords:Xe|Pu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:cn,defer:cn,dir:null,dirName:null,disabled:cn,download:rw,draggable:Ir,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:cn,formTarget:null,headers:Kn,height:Xe,hidden:rw,high:Xe,href:null,hrefLang:null,htmlFor:Kn,httpEquiv:Kn,id:null,imageSizes:null,imageSrcSet:null,inert:cn,inputMode:null,integrity:null,is:null,isMap:cn,itemId:null,itemProp:Kn,itemRef:Kn,itemScope:cn,itemType:Kn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:cn,low:Xe,manifest:null,max:null,maxLength:Xe,media:null,method:null,min:null,minLength:Xe,multiple:cn,muted:cn,name:null,nonce:null,noModule:cn,noValidate:cn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:cn,optimum:Xe,pattern:null,ping:Kn,placeholder:null,playsInline:cn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:cn,referrerPolicy:null,rel:Kn,required:cn,reversed:cn,rows:Xe,rowSpan:Xe,sandbox:Kn,scope:null,scoped:cn,seamless:cn,selected:cn,shadowRootClonable:cn,shadowRootDelegatesFocus:cn,shadowRootMode:null,shape:null,size:Xe,sizes:null,slot:null,span:Xe,spellCheck:Ir,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Xe,step:null,style:null,tabIndex:Xe,target:null,title:null,translate:null,type:null,typeMustMatch:cn,useMap:null,value:Ir,width:Xe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Kn,axis:null,background:null,bgColor:null,border:Xe,borderColor:null,bottomMargin:Xe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:cn,declare:cn,event:null,face:null,frame:null,frameBorder:null,hSpace:Xe,leftMargin:Xe,link:null,longDesc:null,lowSrc:null,marginHeight:Xe,marginWidth:Xe,noResize:cn,noHref:cn,noShade:cn,noWrap:cn,object:null,profile:null,prompt:null,rev:null,rightMargin:Xe,rules:null,scheme:null,scrolling:Ir,standby:null,summary:null,text:null,topMargin:Xe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Xe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:cn,disableRemotePlayback:cn,prefix:null,property:null,results:Xe,security:null,unselectable:null},space:"html",transform:k4}),aae=cd({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ma,accentHeight:Xe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Xe,amplitude:Xe,arabicForm:null,ascent:Xe,attributeName:null,attributeType:null,azimuth:Xe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Xe,by:null,calcMode:null,capHeight:Xe,className:Kn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Xe,diffuseConstant:Xe,direction:null,display:null,dur:null,divisor:Xe,dominantBaseline:null,download:cn,dx:null,dy:null,edgeMode:null,editable:null,elevation:Xe,enableBackground:null,end:null,event:null,exponent:Xe,externalResourcesRequired:null,fill:null,fillOpacity:Xe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Pu,g2:Pu,glyphName:Pu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Xe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Xe,horizOriginX:Xe,horizOriginY:Xe,id:null,ideographic:Xe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Xe,k:Xe,k1:Xe,k2:Xe,k3:Xe,k4:Xe,kernelMatrix:ma,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Xe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Xe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Xe,overlineThickness:Xe,paintOrder:null,panose1:null,path:null,pathLength:Xe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Kn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Xe,pointsAtY:Xe,pointsAtZ:Xe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ma,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ma,rev:ma,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ma,requiredFeatures:ma,requiredFonts:ma,requiredFormats:ma,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Xe,specularExponent:Xe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Xe,strikethroughThickness:Xe,string:null,stroke:null,strokeDashArray:ma,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Xe,strokeOpacity:Xe,strokeWidth:null,style:null,surfaceScale:Xe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ma,tabIndex:Xe,tableValues:null,target:null,targetX:Xe,targetY:Xe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ma,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Xe,underlineThickness:Xe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Xe,values:null,vAlphabetic:Xe,vMathematical:Xe,vectorEffect:null,vHanging:Xe,vIdeographic:Xe,version:null,vertAdvY:Xe,vertOriginX:Xe,vertOriginY:Xe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Xe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:w4}),S4=cd({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),N4=cd({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:k4}),C4=cd({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),sae={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},oae=/[A-Z]/g,tT=/-[a-z]/g,lae=/^data[-\w.:]+$/i;function cae(e,t){const n=nw(t);let r=t,i=la;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&lae.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(tT,dae);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!tT.test(a)){let s=a.replace(oae,uae);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=_S}return new i(r,t)}function uae(e){return"-"+e.toLowerCase()}function dae(e){return e.charAt(1).toUpperCase()}const fae=y4([b4,iae,S4,N4,C4],"html"),LS=y4([b4,aae,S4,N4,C4],"svg");function mae(e){return e.join(" ").trim()}var $S={},nT=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,hae=/\n/g,pae=/^\s*/,gae=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,vae=/^:\s*/,xae=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,yae=/^[;\s]*/,bae=/^\s+|\s+$/g,wae=`
`,rT="/",iT="*",Wl="",kae="comment",Sae="declaration";function Nae(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var g=p.match(hae);g&&(n+=g.length);var y=p.lastIndexOf(wae);r=~y?p.length-y:r+p.length}function a(){var p={line:n,column:r};return function(g){return g.position=new s(p),c(),g}}function s(p){this.start=p,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;function o(p){var g=new Error(t.source+":"+n+":"+r+": "+p);if(g.reason=p,g.filename=t.source,g.line=n,g.column=r,g.source=e,!t.silent)throw g}function l(p){var g=p.exec(e);if(g){var y=g[0];return i(y),e=e.slice(y.length),g}}function c(){l(pae)}function d(p){var g;for(p=p||[];g=f();)g!==!1&&p.push(g);return p}function f(){var p=a();if(!(rT!=e.charAt(0)||iT!=e.charAt(1))){for(var g=2;Wl!=e.charAt(g)&&(iT!=e.charAt(g)||rT!=e.charAt(g+1));)++g;if(g+=2,Wl===e.charAt(g-1))return o("End of comment missing");var y=e.slice(2,g-2);return r+=2,i(y),e=e.slice(g),r+=2,p({type:kae,comment:y})}}function h(){var p=a(),g=l(gae);if(g){if(f(),!l(vae))return o("property missing ':'");var y=l(xae),v=p({type:Sae,property:aT(g[0].replace(nT,Wl)),value:y?aT(y[0].replace(nT,Wl)):Wl});return l(yae),v}}function m(){var p=[];d(p);for(var g;g=h();)g!==!1&&(p.push(g),d(p));return p}return c(),m()}function aT(e){return e?e.replace(bae,Wl):Wl}var Cae=Nae,jae=mp&&mp.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($S,"__esModule",{value:!0});$S.default=Pae;const Aae=jae(Cae);function Pae(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,Aae.default)(e),i=typeof t=="function";return r.forEach(a=>{if(a.type!=="declaration")return;const{property:s,value:o}=a;i?t(s,o,a):o&&(n=n||{},n[s]=o)}),n}var mv={};Object.defineProperty(mv,"__esModule",{value:!0});mv.camelCase=void 0;var Tae=/^--[a-zA-Z0-9_-]+$/,Eae=/-([a-z])/g,Dae=/^[^-]+$/,Mae=/^-(webkit|moz|ms|o|khtml)-/,Oae=/^-(ms)-/,Iae=function(e){return!e||Dae.test(e)||Tae.test(e)},_ae=function(e,t){return t.toUpperCase()},sT=function(e,t){return"".concat(t,"-")},Lae=function(e,t){return t===void 0&&(t={}),Iae(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Oae,sT):e=e.replace(Mae,sT),e.replace(Eae,_ae))};mv.camelCase=Lae;var $ae=mp&&mp.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Fae=$ae($S),Rae=mv;function aw(e,t){var n={};return!e||typeof e!="string"||(0,Fae.default)(e,function(r,i){r&&i&&(n[(0,Rae.camelCase)(r,t)]=i)}),n}aw.default=aw;var Bae=aw;const zae=bs(Bae),j4=A4("end"),FS=A4("start");function A4(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Uae(e){const t=FS(e),n=j4(e);if(t&&n)return{start:t,end:n}}function nf(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?oT(e.position):"start"in e||"end"in e?oT(e):"line"in e||"column"in e?sw(e):""}function sw(e){return lT(e&&e.line)+":"+lT(e&&e.column)}function oT(e){return sw(e&&e.start)+"-"+sw(e&&e.end)}function lT(e){return e&&typeof e=="number"?e:1}class Di extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?i=t:!a.cause&&t&&(s=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=nf(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Di.prototype.file="";Di.prototype.name="";Di.prototype.reason="";Di.prototype.message="";Di.prototype.stack="";Di.prototype.column=void 0;Di.prototype.line=void 0;Di.prototype.ancestors=void 0;Di.prototype.cause=void 0;Di.prototype.fatal=void 0;Di.prototype.place=void 0;Di.prototype.ruleId=void 0;Di.prototype.source=void 0;const RS={}.hasOwnProperty,Vae=new Map,Wae=/[A-Z]/g,Hae=new Set(["table","tbody","thead","tfoot","tr"]),qae=new Set(["td","th"]),P4="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Kae(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=tse(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=ese(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?LS:fae,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=T4(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function T4(e,t,n){if(t.type==="element")return Gae(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Yae(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Qae(e,t,n);if(t.type==="mdxjsEsm")return Xae(e,t);if(t.type==="root")return Zae(e,t,n);if(t.type==="text")return Jae(e,t)}function Gae(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=LS,e.schema=i),e.ancestors.push(t);const a=D4(e,t.tagName,!1),s=nse(e,t);let o=zS(e,t);return Hae.has(t.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!nae(l):!0})),E4(e,s,a,t),BS(s,o),e.ancestors.pop(),e.schema=r,e.create(t,a,s,n)}function Yae(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Xf(e,t.position)}function Xae(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Xf(e,t.position)}function Qae(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=LS,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:D4(e,t.name,!0),s=rse(e,t),o=zS(e,t);return E4(e,s,a,t),BS(s,o),e.ancestors.pop(),e.schema=r,e.create(t,a,s,n)}function Zae(e,t,n){const r={};return BS(r,zS(e,t)),e.create(t,e.Fragment,r,n)}function Jae(e,t){return t.value}function E4(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function BS(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function ese(e,t,n){return r;function r(i,a,s,o){const c=Array.isArray(s.children)?n:t;return o?c(a,s,o):c(a,s)}}function tse(e,t){return n;function n(r,i,a,s){const o=Array.isArray(a.children),l=FS(r);return t(i,a,s,o,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function nse(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&RS.call(t.properties,i)){const a=ise(e,i,t.properties[i]);if(a){const[s,o]=a;e.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&qae.has(t.tagName)?r=o:n[s]=o}}if(r){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function rse(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const s=a.expression;s.type;const o=s.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else Xf(e,t.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,a=e.evaluater.evaluateExpression(o.expression)}else Xf(e,t.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function zS(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Vae;for(;++r<t.children.length;){const a=t.children[r];let s;if(e.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const c=i.get(l)||0;s=l+"-"+c,i.set(l,c+1)}}const o=T4(e,a,s);o!==void 0&&n.push(o)}return n}function ise(e,t,n){const r=cae(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Qie(n):mae(n)),r.property==="style"){let i=typeof n=="object"?n:ase(e,String(n));return e.stylePropertyNameCase==="css"&&(i=sse(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?sae[r.property]||r.property:r.attribute,n]}}function ase(e,t){try{return zae(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Di("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=P4+"#cannot-parse-style-attribute",i}}function D4(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,s;for(;++a<i.length;){const o=ZP(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(a&&o.type==="Literal"),optional:!1}:o}r=s}else r=ZP(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return RS.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Xf(e)}function Xf(e,t){const n=new Di("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=P4+"#cannot-handle-mdx-estrees-without-createevaluater",n}function sse(e){const t={};let n;for(n in e)RS.call(e,n)&&(t[ose(n)]=e[n]);return t}function ose(e){let t=e.replace(Wae,lse);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function lse(e){return"-"+e.toLowerCase()}const Ox={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},cse={};function US(e,t){const n=cse,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return M4(e,r,i)}function M4(e,t,n){if(use(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return cT(e.children,t,n)}return Array.isArray(e)?cT(e,t,n):""}function cT(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=M4(e[i],t,n);return r.join("")}function use(e){return!!(e&&typeof e=="object")}const uT=document.createElement("i");function VS(e){const t="&"+e+";";uT.innerHTML=t;const n=uT.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Sa(e,t,n,r){const i=e.length;let a=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(t,0),e.splice(...s),a+=1e4,t+=1e4}function za(e,t){return e.length>0?(Sa(e,e.length,0,t),e):t}const dT={}.hasOwnProperty;function O4(e){const t={};let n=-1;for(;++n<e.length;)dse(t,e[n]);return t}function dse(e,t){let n;for(n in t){const i=(dT.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let s;if(a)for(s in a){dT.call(i,s)||(i[s]=[]);const o=a[s];fse(i[s],Array.isArray(o)?o:o?[o]:[])}}}function fse(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Sa(e,0,0,r)}function I4(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function ms(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Fi=wl(/[A-Za-z]/),Ti=wl(/[\dA-Za-z]/),mse=wl(/[#-'*+\--9=?A-Z^-~]/);function Lg(e){return e!==null&&(e<32||e===127)}const ow=wl(/\d/),hse=wl(/[\dA-Fa-f]/),pse=wl(/[!-/:-@[-`{-~]/);function Ft(e){return e!==null&&e<-2}function Hn(e){return e!==null&&(e<0||e===32)}function mn(e){return e===-2||e===-1||e===32}const hv=wl(new RegExp("\\p{P}|\\p{S}","u")),Sc=wl(/\s/);function wl(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function ud(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let s="";if(a===37&&Ti(e.charCodeAt(n+1))&&Ti(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=e.charCodeAt(n+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s=""}else s=String.fromCharCode(a);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function bn(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return mn(l)?(e.enter(n),o(l)):t(l)}function o(l){return mn(l)&&a++<i?(e.consume(l),o):(e.exit(n),t(l))}}const gse={tokenize:vse};function vse(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),bn(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),a(o)}function a(o){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(o)}function s(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return Ft(o)?(e.consume(o),e.exit("chunkText"),a):(e.consume(o),s)}}const xse={tokenize:yse},fT={tokenize:bse};function yse(e){const t=this,n=[];let r=0,i,a,s;return o;function o(w){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,l,c)(w)}return c(w)}function l(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&b();const S=t.events.length;let C=S,N;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){N=t.events[C][1].end;break}v(r);let A=S;for(;A<t.events.length;)t.events[A][1].end={...N},A++;return Sa(t.events,C+1,0,t.events.slice(S)),t.events.length=A,c(w)}return o(w)}function c(w){if(r===n.length){if(!i)return h(w);if(i.currentConstruct&&i.currentConstruct.concrete)return p(w);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(fT,d,f)(w)}function d(w){return i&&b(),v(r),h(w)}function f(w){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,p(w)}function h(w){return t.containerState={},e.attempt(fT,m,p)(w)}function m(w){return r++,n.push([t.currentConstruct,t.containerState]),h(w)}function p(w){if(w===null){i&&b(),v(0),e.consume(w);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),g(w)}function g(w){if(w===null){y(e.exit("chunkFlow"),!0),v(0),e.consume(w);return}return Ft(w)?(e.consume(w),y(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(w),g)}function y(w,S){const C=t.sliceStream(w);if(S&&C.push(null),w.previous=a,a&&(a.next=w),a=w,i.defineSkip(w.start),i.write(C),t.parser.lazy[w.start.line]){let N=i.events.length;for(;N--;)if(i.events[N][1].start.offset<s&&(!i.events[N][1].end||i.events[N][1].end.offset>s))return;const A=t.events.length;let E=A,$,T;for(;E--;)if(t.events[E][0]==="exit"&&t.events[E][1].type==="chunkFlow"){if($){T=t.events[E][1].end;break}$=!0}for(v(r),N=A;N<t.events.length;)t.events[N][1].end={...T},N++;Sa(t.events,E+1,0,t.events.slice(A)),t.events.length=N}}function v(w){let S=n.length;for(;S-- >w;){const C=n[S];t.containerState=C[1],C[0].exit.call(t,e)}n.length=w}function b(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function bse(e,t,n){return bn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Ku(e){if(e===null||Hn(e)||Sc(e))return 1;if(hv(e))return 2}function pv(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const lw={name:"attention",resolveAll:wse,tokenize:kse};function wse(e,t){let n=-1,r,i,a,s,o,l,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},h={...e[n][1].start};mT(f,-l),mT(h,l),s={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},a={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},e[r][1].end={...s.start},e[n][1].start={...o.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=za(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=za(c,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",a,t]]),c=za(c,pv(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=za(c,[["exit",a,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=za(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Sa(e,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function kse(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Ku(r);let a;return s;function s(l){return a=l,e.enter("attentionSequence"),o(l)}function o(l){if(l===a)return e.consume(l),o;const c=e.exit("attentionSequence"),d=Ku(l),f=!d||d===2&&i||n.includes(l),h=!i||i===2&&d||n.includes(r);return c._open=!!(a===42?f:f&&(i||!h)),c._close=!!(a===42?h:h&&(d||!f)),t(l)}}function mT(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Sse={name:"autolink",tokenize:Nse};function Nse(e,t,n){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(m){return Fi(m)?(e.consume(m),s):m===64?n(m):c(m)}function s(m){return m===43||m===45||m===46||Ti(m)?(r=1,o(m)):c(m)}function o(m){return m===58?(e.consume(m),r=0,l):(m===43||m===45||m===46||Ti(m))&&r++<32?(e.consume(m),o):(r=0,c(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||Lg(m)?n(m):(e.consume(m),l)}function c(m){return m===64?(e.consume(m),d):mse(m)?(e.consume(m),c):n(m)}function d(m){return Ti(m)?f(m):n(m)}function f(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):h(m)}function h(m){if((m===45||Ti(m))&&r++<63){const p=m===45?h:f;return e.consume(m),p}return n(m)}}const Fm={partial:!0,tokenize:Cse};function Cse(e,t,n){return r;function r(a){return mn(a)?bn(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||Ft(a)?t(a):n(a)}}const _4={continuation:{tokenize:Ase},exit:Pse,name:"blockQuote",tokenize:jse};function jse(e,t,n){const r=this;return i;function i(s){if(s===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),a}return n(s)}function a(s){return mn(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function Ase(e,t,n){const r=this;return i;function i(s){return mn(s)?bn(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return e.attempt(_4,t,n)(s)}}function Pse(e){e.exit("blockQuote")}const L4={name:"characterEscape",tokenize:Tse};function Tse(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return pse(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const $4={name:"characterReference",tokenize:Ese};function Ese(e,t,n){const r=this;let i=0,a,s;return o;function o(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),a=31,s=Ti,d(f))}function c(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=hse,d):(e.enter("characterReferenceValue"),a=7,s=ow,d(f))}function d(f){if(f===59&&i){const h=e.exit("characterReferenceValue");return s===Ti&&!VS(r.sliceSerialize(h))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(f)&&i++<a?(e.consume(f),d):n(f)}}const hT={partial:!0,tokenize:Mse},pT={concrete:!0,name:"codeFenced",tokenize:Dse};function Dse(e,t,n){const r=this,i={partial:!0,tokenize:C};let a=0,s=0,o;return l;function l(N){return c(N)}function c(N){const A=r.events[r.events.length-1];return a=A&&A[1].type==="linePrefix"?A[2].sliceSerialize(A[1],!0).length:0,o=N,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(N)}function d(N){return N===o?(s++,e.consume(N),d):s<3?n(N):(e.exit("codeFencedFenceSequence"),mn(N)?bn(e,f,"whitespace")(N):f(N))}function f(N){return N===null||Ft(N)?(e.exit("codeFencedFence"),r.interrupt?t(N):e.check(hT,g,S)(N)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(N))}function h(N){return N===null||Ft(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(N)):mn(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),bn(e,m,"whitespace")(N)):N===96&&N===o?n(N):(e.consume(N),h)}function m(N){return N===null||Ft(N)?f(N):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(N))}function p(N){return N===null||Ft(N)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(N)):N===96&&N===o?n(N):(e.consume(N),p)}function g(N){return e.attempt(i,S,y)(N)}function y(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),v}function v(N){return a>0&&mn(N)?bn(e,b,"linePrefix",a+1)(N):b(N)}function b(N){return N===null||Ft(N)?e.check(hT,g,S)(N):(e.enter("codeFlowValue"),w(N))}function w(N){return N===null||Ft(N)?(e.exit("codeFlowValue"),b(N)):(e.consume(N),w)}function S(N){return e.exit("codeFenced"),t(N)}function C(N,A,E){let $=0;return T;function T(re){return N.enter("lineEnding"),N.consume(re),N.exit("lineEnding"),M}function M(re){return N.enter("codeFencedFence"),mn(re)?bn(N,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(re):O(re)}function O(re){return re===o?(N.enter("codeFencedFenceSequence"),Y(re)):E(re)}function Y(re){return re===o?($++,N.consume(re),Y):$>=s?(N.exit("codeFencedFenceSequence"),mn(re)?bn(N,Q,"whitespace")(re):Q(re)):E(re)}function Q(re){return re===null||Ft(re)?(N.exit("codeFencedFence"),A(re)):E(re)}}}function Mse(e,t,n){const r=this;return i;function i(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const Ix={name:"codeIndented",tokenize:Ise},Ose={partial:!0,tokenize:_se};function Ise(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),bn(e,a,"linePrefix",5)(c)}function a(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?s(c):n(c)}function s(c){return c===null?l(c):Ft(c)?e.attempt(Ose,s,l)(c):(e.enter("codeFlowValue"),o(c))}function o(c){return c===null||Ft(c)?(e.exit("codeFlowValue"),s(c)):(e.consume(c),o)}function l(c){return e.exit("codeIndented"),t(c)}}function _se(e,t,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):Ft(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):bn(e,a,"linePrefix",5)(s)}function a(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):Ft(s)?i(s):n(s)}}const Lse={name:"codeText",previous:Fse,resolve:$se,tokenize:Rse};function $se(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Fse(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Rse(e,t,n){let r=0,i,a;return s;function s(f){return e.enter("codeText"),e.enter("codeTextSequence"),o(f)}function o(f){return f===96?(e.consume(f),r++,o):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(a=e.enter("codeTextSequence"),i=0,d(f)):Ft(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||Ft(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),c)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(a.type="codeTextData",c(f))}}class Bse{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Od(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Od(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Od(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Od(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Od(this.left,n.reverse())}}}function Od(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function F4(e){const t={};let n=-1,r,i,a,s,o,l,c;const d=new Bse(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,zse(d,n)),n=t[n],c=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(s=d.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},o=d.slice(i,n),o.unshift(r),d.splice(i,n-i+1,o))}}return Sa(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function zse(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const a=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,l=[],c={};let d,f,h=-1,m=n,p=0,g=0;const y=[g];for(;m;){for(;e.get(++i)[1]!==m;);a.push(i),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),f&&s.defineSkip(m.start),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(d),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(g=h+1,y.push(g),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(s.events=[],m?(m._tokenizer=void 0,m.previous=void 0):y.pop(),h=y.length;h--;){const v=o.slice(y[h],y[h+1]),b=a.pop();l.push([b,b+v.length-1]),e.splice(b,2,v)}for(l.reverse(),h=-1;++h<l.length;)c[p+l[h][0]]=p+l[h][1],p+=l[h][1]-l[h][0]-1;return c}const Use={resolve:Wse,tokenize:Hse},Vse={partial:!0,tokenize:qse};function Wse(e){return F4(e),e}function Hse(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):Ft(o)?e.check(Vse,s,a)(o):(e.consume(o),i)}function a(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function s(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function qse(e,t,n){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),bn(e,a,"linePrefix")}function a(s){if(s===null||Ft(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function R4(e,t,n,r,i,a,s,o,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(v){return v===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(v),e.exit(a),h):v===null||v===32||v===41||Lg(v)?n(v):(e.enter(r),e.enter(s),e.enter(o),e.enter("chunkString",{contentType:"string"}),g(v))}function h(v){return v===62?(e.enter(a),e.consume(v),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),m(v))}function m(v){return v===62?(e.exit("chunkString"),e.exit(o),h(v)):v===null||v===60||Ft(v)?n(v):(e.consume(v),v===92?p:m)}function p(v){return v===60||v===62||v===92?(e.consume(v),m):m(v)}function g(v){return!d&&(v===null||v===41||Hn(v))?(e.exit("chunkString"),e.exit(o),e.exit(s),e.exit(r),t(v)):d<c&&v===40?(e.consume(v),d++,g):v===41?(e.consume(v),d--,g):v===null||v===32||v===40||Lg(v)?n(v):(e.consume(v),v===92?y:g)}function y(v){return v===40||v===41||v===92?(e.consume(v),g):g(v)}}function B4(e,t,n,r,i,a){const s=this;let o=0,l;return c;function c(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(a),d}function d(m){return o>999||m===null||m===91||m===93&&!l||m===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?n(m):m===93?(e.exit(a),e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):Ft(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||Ft(m)||o++>999?(e.exit("chunkString"),d(m)):(e.consume(m),l||(l=!mn(m)),m===92?h:f)}function h(m){return m===91||m===92||m===93?(e.consume(m),o++,f):f(m)}}function z4(e,t,n,r,i,a){let s;return o;function o(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),s=h===40?41:h,l):n(h)}function l(h){return h===s?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(a),c(h))}function c(h){return h===s?(e.exit(a),l(s)):h===null?n(h):Ft(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),bn(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===s||h===null||Ft(h)?(e.exit("chunkString"),c(h)):(e.consume(h),h===92?f:d)}function f(h){return h===s||h===92?(e.consume(h),d):d(h)}}function rf(e,t){let n;return r;function r(i){return Ft(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):mn(i)?bn(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const Kse={name:"definition",tokenize:Yse},Gse={partial:!0,tokenize:Xse};function Yse(e,t,n){const r=this;let i;return a;function a(m){return e.enter("definition"),s(m)}function s(m){return B4.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function o(m){return i=ms(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):n(m)}function l(m){return Hn(m)?rf(e,c)(m):c(m)}function c(m){return R4(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(Gse,f,f)(m)}function f(m){return mn(m)?bn(e,h,"whitespace")(m):h(m)}function h(m){return m===null||Ft(m)?(e.exit("definition"),r.parser.defined.push(i),t(m)):n(m)}}function Xse(e,t,n){return r;function r(o){return Hn(o)?rf(e,i)(o):n(o)}function i(o){return z4(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return mn(o)?bn(e,s,"whitespace")(o):s(o)}function s(o){return o===null||Ft(o)?t(o):n(o)}}const Qse={name:"hardBreakEscape",tokenize:Zse};function Zse(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return Ft(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const Jse={name:"headingAtx",resolve:eoe,tokenize:toe};function eoe(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Sa(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function toe(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),a(d)}function a(d){return e.enter("atxHeadingSequence"),s(d)}function s(d){return d===35&&r++<6?(e.consume(d),s):d===null||Hn(d)?(e.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||Ft(d)?(e.exit("atxHeading"),t(d)):mn(d)?bn(e,o,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),o(d))}function c(d){return d===null||d===35||Hn(d)?(e.exit("atxHeadingText"),o(d)):(e.consume(d),c)}}const noe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],gT=["pre","script","style","textarea"],roe={concrete:!0,name:"htmlFlow",resolveTo:soe,tokenize:ooe},ioe={partial:!0,tokenize:coe},aoe={partial:!0,tokenize:loe};function soe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function ooe(e,t,n){const r=this;let i,a,s,o,l;return c;function c(k){return d(k)}function d(k){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(k),f}function f(k){return k===33?(e.consume(k),h):k===47?(e.consume(k),a=!0,g):k===63?(e.consume(k),i=3,r.interrupt?t:P):Fi(k)?(e.consume(k),s=String.fromCharCode(k),y):n(k)}function h(k){return k===45?(e.consume(k),i=2,m):k===91?(e.consume(k),i=5,o=0,p):Fi(k)?(e.consume(k),i=4,r.interrupt?t:P):n(k)}function m(k){return k===45?(e.consume(k),r.interrupt?t:P):n(k)}function p(k){const _="CDATA[";return k===_.charCodeAt(o++)?(e.consume(k),o===_.length?r.interrupt?t:O:p):n(k)}function g(k){return Fi(k)?(e.consume(k),s=String.fromCharCode(k),y):n(k)}function y(k){if(k===null||k===47||k===62||Hn(k)){const _=k===47,ae=s.toLowerCase();return!_&&!a&&gT.includes(ae)?(i=1,r.interrupt?t(k):O(k)):noe.includes(s.toLowerCase())?(i=6,_?(e.consume(k),v):r.interrupt?t(k):O(k)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(k):a?b(k):w(k))}return k===45||Ti(k)?(e.consume(k),s+=String.fromCharCode(k),y):n(k)}function v(k){return k===62?(e.consume(k),r.interrupt?t:O):n(k)}function b(k){return mn(k)?(e.consume(k),b):T(k)}function w(k){return k===47?(e.consume(k),T):k===58||k===95||Fi(k)?(e.consume(k),S):mn(k)?(e.consume(k),w):T(k)}function S(k){return k===45||k===46||k===58||k===95||Ti(k)?(e.consume(k),S):C(k)}function C(k){return k===61?(e.consume(k),N):mn(k)?(e.consume(k),C):w(k)}function N(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),l=k,A):mn(k)?(e.consume(k),N):E(k)}function A(k){return k===l?(e.consume(k),l=null,$):k===null||Ft(k)?n(k):(e.consume(k),A)}function E(k){return k===null||k===34||k===39||k===47||k===60||k===61||k===62||k===96||Hn(k)?C(k):(e.consume(k),E)}function $(k){return k===47||k===62||mn(k)?w(k):n(k)}function T(k){return k===62?(e.consume(k),M):n(k)}function M(k){return k===null||Ft(k)?O(k):mn(k)?(e.consume(k),M):n(k)}function O(k){return k===45&&i===2?(e.consume(k),ce):k===60&&i===1?(e.consume(k),K):k===62&&i===4?(e.consume(k),j):k===63&&i===3?(e.consume(k),P):k===93&&i===5?(e.consume(k),L):Ft(k)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(ioe,U,Y)(k)):k===null||Ft(k)?(e.exit("htmlFlowData"),Y(k)):(e.consume(k),O)}function Y(k){return e.check(aoe,Q,U)(k)}function Q(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),re}function re(k){return k===null||Ft(k)?Y(k):(e.enter("htmlFlowData"),O(k))}function ce(k){return k===45?(e.consume(k),P):O(k)}function K(k){return k===47?(e.consume(k),s="",G):O(k)}function G(k){if(k===62){const _=s.toLowerCase();return gT.includes(_)?(e.consume(k),j):O(k)}return Fi(k)&&s.length<8?(e.consume(k),s+=String.fromCharCode(k),G):O(k)}function L(k){return k===93?(e.consume(k),P):O(k)}function P(k){return k===62?(e.consume(k),j):k===45&&i===2?(e.consume(k),P):O(k)}function j(k){return k===null||Ft(k)?(e.exit("htmlFlowData"),U(k)):(e.consume(k),j)}function U(k){return e.exit("htmlFlow"),t(k)}}function loe(e,t,n){const r=this;return i;function i(s){return Ft(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function coe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Fm,t,n)}}const uoe={name:"htmlText",tokenize:doe};function doe(e,t,n){const r=this;let i,a,s;return o;function o(P){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(P),l}function l(P){return P===33?(e.consume(P),c):P===47?(e.consume(P),C):P===63?(e.consume(P),w):Fi(P)?(e.consume(P),E):n(P)}function c(P){return P===45?(e.consume(P),d):P===91?(e.consume(P),a=0,p):Fi(P)?(e.consume(P),b):n(P)}function d(P){return P===45?(e.consume(P),m):n(P)}function f(P){return P===null?n(P):P===45?(e.consume(P),h):Ft(P)?(s=f,K(P)):(e.consume(P),f)}function h(P){return P===45?(e.consume(P),m):f(P)}function m(P){return P===62?ce(P):P===45?h(P):f(P)}function p(P){const j="CDATA[";return P===j.charCodeAt(a++)?(e.consume(P),a===j.length?g:p):n(P)}function g(P){return P===null?n(P):P===93?(e.consume(P),y):Ft(P)?(s=g,K(P)):(e.consume(P),g)}function y(P){return P===93?(e.consume(P),v):g(P)}function v(P){return P===62?ce(P):P===93?(e.consume(P),v):g(P)}function b(P){return P===null||P===62?ce(P):Ft(P)?(s=b,K(P)):(e.consume(P),b)}function w(P){return P===null?n(P):P===63?(e.consume(P),S):Ft(P)?(s=w,K(P)):(e.consume(P),w)}function S(P){return P===62?ce(P):w(P)}function C(P){return Fi(P)?(e.consume(P),N):n(P)}function N(P){return P===45||Ti(P)?(e.consume(P),N):A(P)}function A(P){return Ft(P)?(s=A,K(P)):mn(P)?(e.consume(P),A):ce(P)}function E(P){return P===45||Ti(P)?(e.consume(P),E):P===47||P===62||Hn(P)?$(P):n(P)}function $(P){return P===47?(e.consume(P),ce):P===58||P===95||Fi(P)?(e.consume(P),T):Ft(P)?(s=$,K(P)):mn(P)?(e.consume(P),$):ce(P)}function T(P){return P===45||P===46||P===58||P===95||Ti(P)?(e.consume(P),T):M(P)}function M(P){return P===61?(e.consume(P),O):Ft(P)?(s=M,K(P)):mn(P)?(e.consume(P),M):$(P)}function O(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(e.consume(P),i=P,Y):Ft(P)?(s=O,K(P)):mn(P)?(e.consume(P),O):(e.consume(P),Q)}function Y(P){return P===i?(e.consume(P),i=void 0,re):P===null?n(P):Ft(P)?(s=Y,K(P)):(e.consume(P),Y)}function Q(P){return P===null||P===34||P===39||P===60||P===61||P===96?n(P):P===47||P===62||Hn(P)?$(P):(e.consume(P),Q)}function re(P){return P===47||P===62||Hn(P)?$(P):n(P)}function ce(P){return P===62?(e.consume(P),e.exit("htmlTextData"),e.exit("htmlText"),t):n(P)}function K(P){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),G}function G(P){return mn(P)?bn(e,L,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):L(P)}function L(P){return e.enter("htmlTextData"),s(P)}}const WS={name:"labelEnd",resolveAll:poe,resolveTo:goe,tokenize:voe},foe={tokenize:xoe},moe={tokenize:yoe},hoe={tokenize:boe};function poe(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Sa(e,0,e.length,n),e}function goe(e,t){let n=e.length,r=0,i,a,s,o;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[a][1].start},end:{...e[s][1].end}},d={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[s-2][1].start}};return o=[["enter",l,t],["enter",c,t]],o=za(o,e.slice(a+1,a+r+3)),o=za(o,[["enter",d,t]]),o=za(o,pv(t.parser.constructs.insideSpan.null,e.slice(a+r+4,s-3),t)),o=za(o,[["exit",d,t],e[s-2],e[s-1],["exit",c,t]]),o=za(o,e.slice(s+1)),o=za(o,[["exit",l,t]]),Sa(e,a,e.length,o),e}function voe(e,t,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return o;function o(h){return a?a._inactive?f(h):(s=r.parser.defined.includes(ms(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),l):n(h)}function l(h){return h===40?e.attempt(foe,d,s?d:f)(h):h===91?e.attempt(moe,d,s?c:f)(h):s?d(h):f(h)}function c(h){return e.attempt(hoe,d,f)(h)}function d(h){return t(h)}function f(h){return a._balanced=!0,n(h)}}function xoe(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Hn(f)?rf(e,a)(f):a(f)}function a(f){return f===41?d(f):R4(e,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return Hn(f)?rf(e,l)(f):d(f)}function o(f){return n(f)}function l(f){return f===34||f===39||f===40?z4(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function c(f){return Hn(f)?rf(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function yoe(e,t,n){const r=this;return i;function i(o){return B4.call(r,e,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return r.parser.defined.includes(ms(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function s(o){return n(o)}}function boe(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const woe={name:"labelStartImage",resolveAll:WS.resolveAll,tokenize:koe};function koe(e,t,n){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),a}function a(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Soe={name:"labelStartLink",resolveAll:WS.resolveAll,tokenize:Noe};function Noe(e,t,n){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const _x={name:"lineEnding",tokenize:Coe};function Coe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),bn(e,t,"linePrefix")}}const cp={name:"thematicBreak",tokenize:joe};function joe(e,t,n){let r=0,i;return a;function a(c){return e.enter("thematicBreak"),s(c)}function s(c){return i=c,o(c)}function o(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||Ft(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===i?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),mn(c)?bn(e,o,"whitespace")(c):o(c))}}const Yi={continuation:{tokenize:Eoe},exit:Moe,name:"list",tokenize:Toe},Aoe={partial:!0,tokenize:Ooe},Poe={partial:!0,tokenize:Doe};function Toe(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(m){const p=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:ow(m)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(cp,n,c)(m):c(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return ow(m)&&++s<10?(e.consume(m),l):(!r.interrupt||s<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),c(m)):n(m)}function c(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(Fm,r.interrupt?n:d,e.attempt(Aoe,h,f))}function d(m){return r.containerState.initialBlankLine=!0,a++,h(m)}function f(m){return mn(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),h):n(m)}function h(m){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function Eoe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Fm,i,a);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,bn(e,t,"listItemIndent",r.containerState.size+1)(o)}function a(o){return r.containerState.furtherBlankLines||!mn(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Poe,t,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,bn(e,e.attempt(Yi,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function Doe(e,t,n){const r=this;return bn(e,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(a):n(a)}}function Moe(e){e.exit(this.containerState.type)}function Ooe(e,t,n){const r=this;return bn(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!mn(a)&&s&&s[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const vT={name:"setextUnderline",resolveTo:Ioe,tokenize:_oe};function Ioe(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",s,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=s,e.push(["exit",s,t]),e}function _oe(e,t,n){const r=this;let i;return a;function a(c){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=c,s(c)):n(c)}function s(c){return e.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===i?(e.consume(c),o):(e.exit("setextHeadingLineSequence"),mn(c)?bn(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||Ft(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const Loe={tokenize:$oe};function $oe(e){const t=this,n=e.attempt(Fm,r,e.attempt(this.parser.constructs.flowInitial,i,bn(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Use,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Foe={resolveAll:V4()},Roe=U4("string"),Boe=U4("text");function U4(e){return{resolveAll:V4(e==="text"?zoe:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,s,o);return s;function s(d){return c(d)?a(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),a(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const f=i[d];let h=-1;if(f)for(;++h<f.length;){const m=f[h];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function V4(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function zoe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,s=-1,o=0,l;for(;a--;){const c=i[a];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(c===-2)l=!0,o++;else if(c!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const c={type:n===e.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const Uoe={42:Yi,43:Yi,45:Yi,48:Yi,49:Yi,50:Yi,51:Yi,52:Yi,53:Yi,54:Yi,55:Yi,56:Yi,57:Yi,62:_4},Voe={91:Kse},Woe={[-2]:Ix,[-1]:Ix,32:Ix},Hoe={35:Jse,42:cp,45:[vT,cp],60:roe,61:vT,95:cp,96:pT,126:pT},qoe={38:$4,92:L4},Koe={[-5]:_x,[-4]:_x,[-3]:_x,33:woe,38:$4,42:lw,60:[Sse,uoe],91:Soe,92:[Qse,L4],93:WS,95:lw,96:Lse},Goe={null:[lw,Foe]},Yoe={null:[42,95]},Xoe={null:[]},Qoe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Yoe,contentInitial:Voe,disable:Xoe,document:Uoe,flow:Hoe,flowInitial:Woe,insideSpan:Goe,string:qoe,text:Koe},Symbol.toStringTag,{value:"Module"}));function Zoe(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let s=[],o=[];const l={attempt:A(C),check:A(N),consume:b,enter:w,exit:S,interrupt:A(N,{interrupt:!0})},c={code:null,containerState:{},defineSkip:g,events:[],now:p,parser:e,previous:null,sliceSerialize:h,sliceStream:m,write:f};let d=t.tokenize.call(c,l);return t.resolveAll&&a.push(t),c;function f(M){return s=za(s,M),y(),s[s.length-1]!==null?[]:(E(t,0),c.events=pv(a,c.events,c),c.events)}function h(M,O){return ele(m(M),O)}function m(M){return Joe(s,M)}function p(){const{_bufferIndex:M,_index:O,line:Y,column:Q,offset:re}=r;return{_bufferIndex:M,_index:O,line:Y,column:Q,offset:re}}function g(M){i[M.line]=M.column,T()}function y(){let M;for(;r._index<s.length;){const O=s[r._index];if(typeof O=="string")for(M=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===M&&r._bufferIndex<O.length;)v(O.charCodeAt(r._bufferIndex));else v(O)}}function v(M){d=d(M)}function b(M){Ft(M)?(r.line++,r.column=1,r.offset+=M===-3?2:1,T()):M!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=M}function w(M,O){const Y=O||{};return Y.type=M,Y.start=p(),c.events.push(["enter",Y,c]),o.push(Y),Y}function S(M){const O=o.pop();return O.end=p(),c.events.push(["exit",O,c]),O}function C(M,O){E(M,O.from)}function N(M,O){O.restore()}function A(M,O){return Y;function Y(Q,re,ce){let K,G,L,P;return Array.isArray(Q)?U(Q):"tokenize"in Q?U([Q]):j(Q);function j(ee){return V;function V(ne){const F=ne!==null&&ee[ne],J=ne!==null&&ee.null,ue=[...Array.isArray(F)?F:F?[F]:[],...Array.isArray(J)?J:J?[J]:[]];return U(ue)(ne)}}function U(ee){return K=ee,G=0,ee.length===0?ce:k(ee[G])}function k(ee){return V;function V(ne){return P=$(),L=ee,ee.partial||(c.currentConstruct=ee),ee.name&&c.parser.constructs.disable.null.includes(ee.name)?ae():ee.tokenize.call(O?Object.assign(Object.create(c),O):c,l,_,ae)(ne)}}function _(ee){return M(L,P),re}function ae(ee){return P.restore(),++G<K.length?k(K[G]):ce}}}function E(M,O){M.resolveAll&&!a.includes(M)&&a.push(M),M.resolve&&Sa(c.events,O,c.events.length-O,M.resolve(c.events.slice(O),c)),M.resolveTo&&(c.events=M.resolveTo(c.events,c))}function $(){const M=p(),O=c.previous,Y=c.currentConstruct,Q=c.events.length,re=Array.from(o);return{from:Q,restore:ce};function ce(){r=M,c.previous=O,c.currentConstruct=Y,c.events.length=Q,o=re,T()}}function T(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Joe(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let s;if(n===i)s=[e[n].slice(r,a)];else{if(s=e.slice(n,i),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}a>0&&s.push(e[i].slice(0,a))}return s}function ele(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}function tle(e){const r={constructs:O4([Qoe,...(e||{}).extensions||[]]),content:i(gse),defined:[],document:i(xse),flow:i(Loe),lazy:{},string:i(Roe),text:i(Boe)};return r;function i(a){return s;function s(o){return Zoe(r,a,o)}}}function nle(e){for(;!F4(e););return e}const xT=/[\0\t\n\r]/g;function rle(){let e=1,t="",n=!0,r;return i;function i(a,s,o){const l=[];let c,d,f,h,m;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),f=0,t="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(xT.lastIndex=f,c=xT.exec(a),h=c&&c.index!==void 0?c.index:a.length,m=a.charCodeAt(h),!c){t=a.slice(f);break}if(m===10&&f===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<h&&(l.push(a.slice(f,h)),e+=h-f),m){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=h+1}return o&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const ile=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function ale(e){return e.replace(ile,sle)}function sle(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return I4(n.slice(a?2:1),a?16:10)}return VS(n)||e}const W4={}.hasOwnProperty;function ole(e,t,n){return typeof t!="string"&&(n=t,t=void 0),lle(n)(nle(tle(n).document().write(rle()(e,t,!0))))}function lle(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(se),autolinkProtocol:$,autolinkEmail:$,atxHeading:a(I),blockQuote:a(J),characterEscape:$,characterReference:$,codeFenced:a(ue),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(ue,s),codeText:a(ie,s),codeTextData:$,data:$,codeFlowValue:$,definition:a(H),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(B),hardBreakEscape:a(te),hardBreakTrailing:a(te),htmlFlow:a(Pe,s),htmlFlowData:$,htmlText:a(Pe,s),htmlTextData:$,image:a(Ue),label:s,link:a(se),listItem:a(Oe),listItemValue:h,listOrdered:a(Ye,f),listUnordered:a(Ye),paragraph:a(wt),reference:k,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(I),strong:a(qt),thematicBreak:a($n)},exit:{atxHeading:l(),atxHeadingSequence:C,autolink:l(),autolinkEmail:F,autolinkProtocol:ne,blockQuote:l(),characterEscapeValue:T,characterReferenceMarkerHexadecimal:ae,characterReferenceMarkerNumeric:ae,characterReferenceValue:ee,characterReference:V,codeFenced:l(y),codeFencedFence:g,codeFencedFenceInfo:m,codeFencedFenceMeta:p,codeFlowValue:T,codeIndented:l(v),codeText:l(re),codeTextData:T,data:T,definition:l(),definitionDestinationString:S,definitionLabelString:b,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(O),hardBreakTrailing:l(O),htmlFlow:l(Y),htmlFlowData:T,htmlText:l(Q),htmlTextData:T,image:l(K),label:L,labelText:G,lineEnding:M,link:l(ce),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:_,resourceDestinationString:P,resourceTitleString:j,resource:U,setextHeading:l(E),setextHeadingLineSequence:A,setextHeadingText:N,strong:l(),thematicBreak:l()}};H4(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ge){let Le={type:"root",children:[]};const kt={stack:[Le],tokenStack:[],config:t,enter:o,exit:c,buffer:s,resume:d,data:n},Qt=[];let Vt=-1;for(;++Vt<ge.length;)if(ge[Vt][1].type==="listOrdered"||ge[Vt][1].type==="listUnordered")if(ge[Vt][0]==="enter")Qt.push(Vt);else{const wn=Qt.pop();Vt=i(ge,wn,Vt)}for(Vt=-1;++Vt<ge.length;){const wn=t[ge[Vt][0]];W4.call(wn,ge[Vt][1].type)&&wn[ge[Vt][1].type].call(Object.assign({sliceSerialize:ge[Vt][2].sliceSerialize},kt),ge[Vt][1])}if(kt.tokenStack.length>0){const wn=kt.tokenStack[kt.tokenStack.length-1];(wn[1]||yT).call(kt,void 0,wn[0])}for(Le.position={start:Lo(ge.length>0?ge[0][1].start:{line:1,column:1,offset:0}),end:Lo(ge.length>0?ge[ge.length-2][1].end:{line:1,column:1,offset:0})},Vt=-1;++Vt<t.transforms.length;)Le=t.transforms[Vt](Le)||Le;return Le}function i(ge,Le,kt){let Qt=Le-1,Vt=-1,wn=!1,qi,vi,ca,or;for(;++Qt<=kt;){const xn=ge[Qt];switch(xn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{xn[0]==="enter"?Vt++:Vt--,or=void 0;break}case"lineEndingBlank":{xn[0]==="enter"&&(qi&&!or&&!Vt&&!ca&&(ca=Qt),or=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:or=void 0}if(!Vt&&xn[0]==="enter"&&xn[1].type==="listItemPrefix"||Vt===-1&&xn[0]==="exit"&&(xn[1].type==="listUnordered"||xn[1].type==="listOrdered")){if(qi){let un=Qt;for(vi=void 0;un--;){const ii=ge[un];if(ii[1].type==="lineEnding"||ii[1].type==="lineEndingBlank"){if(ii[0]==="exit")continue;vi&&(ge[vi][1].type="lineEndingBlank",wn=!0),ii[1].type="lineEnding",vi=un}else if(!(ii[1].type==="linePrefix"||ii[1].type==="blockQuotePrefix"||ii[1].type==="blockQuotePrefixWhitespace"||ii[1].type==="blockQuoteMarker"||ii[1].type==="listItemIndent"))break}ca&&(!vi||ca<vi)&&(qi._spread=!0),qi.end=Object.assign({},vi?ge[vi][1].start:xn[1].end),ge.splice(vi||Qt,0,["exit",qi,xn[2]]),Qt++,kt++}if(xn[1].type==="listItemPrefix"){const un={type:"listItem",_spread:!1,start:Object.assign({},xn[1].start),end:void 0};qi=un,ge.splice(Qt,0,["enter",un,xn[2]]),Qt++,kt++,ca=void 0,or=!0}}}return ge[Le][1]._spread=wn,kt}function a(ge,Le){return kt;function kt(Qt){o.call(this,ge(Qt),Qt),Le&&Le.call(this,Qt)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(ge,Le,kt){this.stack[this.stack.length-1].children.push(ge),this.stack.push(ge),this.tokenStack.push([Le,kt||void 0]),ge.position={start:Lo(Le.start),end:void 0}}function l(ge){return Le;function Le(kt){ge&&ge.call(this,kt),c.call(this,kt)}}function c(ge,Le){const kt=this.stack.pop(),Qt=this.tokenStack.pop();if(Qt)Qt[0].type!==ge.type&&(Le?Le.call(this,ge,Qt[0]):(Qt[1]||yT).call(this,ge,Qt[0]));else throw new Error("Cannot close `"+ge.type+"` ("+nf({start:ge.start,end:ge.end})+"): its not open");kt.position.end=Lo(ge.end)}function d(){return US(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(ge){if(this.data.expectingFirstListItemValue){const Le=this.stack[this.stack.length-2];Le.start=Number.parseInt(this.sliceSerialize(ge),10),this.data.expectingFirstListItemValue=void 0}}function m(){const ge=this.resume(),Le=this.stack[this.stack.length-1];Le.lang=ge}function p(){const ge=this.resume(),Le=this.stack[this.stack.length-1];Le.meta=ge}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const ge=this.resume(),Le=this.stack[this.stack.length-1];Le.value=ge.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const ge=this.resume(),Le=this.stack[this.stack.length-1];Le.value=ge.replace(/(\r?\n|\r)$/g,"")}function b(ge){const Le=this.resume(),kt=this.stack[this.stack.length-1];kt.label=Le,kt.identifier=ms(this.sliceSerialize(ge)).toLowerCase()}function w(){const ge=this.resume(),Le=this.stack[this.stack.length-1];Le.title=ge}function S(){const ge=this.resume(),Le=this.stack[this.stack.length-1];Le.url=ge}function C(ge){const Le=this.stack[this.stack.length-1];if(!Le.depth){const kt=this.sliceSerialize(ge).length;Le.depth=kt}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function A(ge){const Le=this.stack[this.stack.length-1];Le.depth=this.sliceSerialize(ge).codePointAt(0)===61?1:2}function E(){this.data.setextHeadingSlurpLineEnding=void 0}function $(ge){const kt=this.stack[this.stack.length-1].children;let Qt=kt[kt.length-1];(!Qt||Qt.type!=="text")&&(Qt=vn(),Qt.position={start:Lo(ge.start),end:void 0},kt.push(Qt)),this.stack.push(Qt)}function T(ge){const Le=this.stack.pop();Le.value+=this.sliceSerialize(ge),Le.position.end=Lo(ge.end)}function M(ge){const Le=this.stack[this.stack.length-1];if(this.data.atHardBreak){const kt=Le.children[Le.children.length-1];kt.position.end=Lo(ge.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Le.type)&&($.call(this,ge),T.call(this,ge))}function O(){this.data.atHardBreak=!0}function Y(){const ge=this.resume(),Le=this.stack[this.stack.length-1];Le.value=ge}function Q(){const ge=this.resume(),Le=this.stack[this.stack.length-1];Le.value=ge}function re(){const ge=this.resume(),Le=this.stack[this.stack.length-1];Le.value=ge}function ce(){const ge=this.stack[this.stack.length-1];if(this.data.inReference){const Le=this.data.referenceType||"shortcut";ge.type+="Reference",ge.referenceType=Le,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;this.data.referenceType=void 0}function K(){const ge=this.stack[this.stack.length-1];if(this.data.inReference){const Le=this.data.referenceType||"shortcut";ge.type+="Reference",ge.referenceType=Le,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;this.data.referenceType=void 0}function G(ge){const Le=this.sliceSerialize(ge),kt=this.stack[this.stack.length-2];kt.label=ale(Le),kt.identifier=ms(Le).toLowerCase()}function L(){const ge=this.stack[this.stack.length-1],Le=this.resume(),kt=this.stack[this.stack.length-1];if(this.data.inReference=!0,kt.type==="link"){const Qt=ge.children;kt.children=Qt}else kt.alt=Le}function P(){const ge=this.resume(),Le=this.stack[this.stack.length-1];Le.url=ge}function j(){const ge=this.resume(),Le=this.stack[this.stack.length-1];Le.title=ge}function U(){this.data.inReference=void 0}function k(){this.data.referenceType="collapsed"}function _(ge){const Le=this.resume(),kt=this.stack[this.stack.length-1];kt.label=Le,kt.identifier=ms(this.sliceSerialize(ge)).toLowerCase(),this.data.referenceType="full"}function ae(ge){this.data.characterReferenceType=ge.type}function ee(ge){const Le=this.sliceSerialize(ge),kt=this.data.characterReferenceType;let Qt;kt?(Qt=I4(Le,kt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Qt=VS(Le);const Vt=this.stack[this.stack.length-1];Vt.value+=Qt}function V(ge){const Le=this.stack.pop();Le.position.end=Lo(ge.end)}function ne(ge){T.call(this,ge);const Le=this.stack[this.stack.length-1];Le.url=this.sliceSerialize(ge)}function F(ge){T.call(this,ge);const Le=this.stack[this.stack.length-1];Le.url="mailto:"+this.sliceSerialize(ge)}function J(){return{type:"blockquote",children:[]}}function ue(){return{type:"code",lang:null,meta:null,value:""}}function ie(){return{type:"inlineCode",value:""}}function H(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function B(){return{type:"emphasis",children:[]}}function I(){return{type:"heading",depth:0,children:[]}}function te(){return{type:"break"}}function Pe(){return{type:"html",value:""}}function Ue(){return{type:"image",title:null,url:"",alt:null}}function se(){return{type:"link",title:null,url:"",children:[]}}function Ye(ge){return{type:"list",ordered:ge.type==="listOrdered",start:null,spread:ge._spread,children:[]}}function Oe(ge){return{type:"listItem",spread:ge._spread,checked:null,children:[]}}function wt(){return{type:"paragraph",children:[]}}function qt(){return{type:"strong",children:[]}}function vn(){return{type:"text",value:""}}function $n(){return{type:"thematicBreak"}}}function Lo(e){return{line:e.line,column:e.column,offset:e.offset}}function H4(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?H4(e,r):cle(e,r)}}function cle(e,t){let n;for(n in t)if(W4.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function yT(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+nf({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+nf({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+nf({start:t.start,end:t.end})+") is still open")}function ule(e){const t=this;t.parser=n;function n(r){return ole(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function dle(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function fle(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function mle(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function hle(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ple(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function gle(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=ud(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let s,o=e.footnoteCounts.get(r);o===void 0?(o=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=a+1,o+=1,e.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function vle(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function xle(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function q4(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function yle(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return q4(e,t);const i={src:ud(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function ble(e,t){const n={src:ud(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function wle(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function kle(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return q4(e,t);const i={href:ud(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function Sle(e,t){const n={href:ud(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Nle(e,t,n){const r=e.all(t),i=n?Cle(n):K4(t),a={},s=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const d=r[o];(i||o!==0||d.type!=="element"||d.tagName!=="p")&&s.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?s.push(...d.children):s.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:s};return e.patch(t,c),e.applyData(t,c)}function Cle(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=K4(n[r])}return t}function K4(e){const t=e.spread;return t??e.children.length>1}function jle(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function Ale(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Ple(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Tle(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Ele(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=FS(t.children[1]),l=j4(t.children[t.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function Dle(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:t.children.length;let l=-1;const c=[];for(;++l<o;){const f=t.children[l],h={},m=s?s[l]:void 0;m&&(h.align=m);let p={type:"element",tagName:a,properties:h,children:[]};f&&(p.children=e.all(f),e.patch(f,p),p=e.applyData(f,p)),c.push(p)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,d),e.applyData(t,d)}function Mle(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const bT=9,wT=32;function Ole(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(kT(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(kT(t.slice(i),i>0,!1)),a.join("")}function kT(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===bT||a===wT;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===bT||a===wT;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Ile(e,t){const n={type:"text",value:Ole(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function _le(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Lle={blockquote:dle,break:fle,code:mle,delete:hle,emphasis:ple,footnoteReference:gle,heading:vle,html:xle,imageReference:yle,image:ble,inlineCode:wle,linkReference:kle,link:Sle,listItem:Nle,list:jle,paragraph:Ale,root:Ple,strong:Tle,table:Ele,tableCell:Mle,tableRow:Dle,text:Ile,thematicBreak:_le,toml:Ih,yaml:Ih,definition:Ih,footnoteDefinition:Ih};function Ih(){}const G4=-1,gv=0,af=1,$g=2,HS=3,qS=4,KS=5,GS=6,Y4=7,X4=8,ST=typeof self=="object"?self:globalThis,$le=(e,t)=>{const n=(i,a)=>(e.set(a,i),i),r=i=>{if(e.has(i))return e.get(i);const[a,s]=t[i];switch(a){case gv:case G4:return n(s,i);case af:{const o=n([],i);for(const l of s)o.push(r(l));return o}case $g:{const o=n({},i);for(const[l,c]of s)o[r(l)]=r(c);return o}case HS:return n(new Date(s),i);case qS:{const{source:o,flags:l}=s;return n(new RegExp(o,l),i)}case KS:{const o=n(new Map,i);for(const[l,c]of s)o.set(r(l),r(c));return o}case GS:{const o=n(new Set,i);for(const l of s)o.add(r(l));return o}case Y4:{const{name:o,message:l}=s;return n(new ST[o](l),i)}case X4:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return n(new DataView(o),s)}}return n(new ST[a](s),i)};return r},NT=e=>$le(new Map,e)(0),Qc="",{toString:Fle}={},{keys:Rle}=Object,Id=e=>{const t=typeof e;if(t!=="object"||!e)return[gv,t];const n=Fle.call(e).slice(8,-1);switch(n){case"Array":return[af,Qc];case"Object":return[$g,Qc];case"Date":return[HS,Qc];case"RegExp":return[qS,Qc];case"Map":return[KS,Qc];case"Set":return[GS,Qc];case"DataView":return[af,n]}return n.includes("Array")?[af,n]:n.includes("Error")?[Y4,n]:[$g,n]},_h=([e,t])=>e===gv&&(t==="function"||t==="symbol"),Ble=(e,t,n,r)=>{const i=(s,o)=>{const l=r.push(s)-1;return n.set(o,l),l},a=s=>{if(n.has(s))return n.get(s);let[o,l]=Id(s);switch(o){case gv:{let d=s;switch(l){case"bigint":o=X4,d=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([G4],s)}return i([o,d],s)}case af:{if(l){let h=s;return l==="DataView"?h=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(s)),i([l,[...h]],s)}const d=[],f=i([o,d],s);for(const h of s)d.push(a(h));return f}case $g:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(t&&"toJSON"in s)return a(s.toJSON());const d=[],f=i([o,d],s);for(const h of Rle(s))(e||!_h(Id(s[h])))&&d.push([a(h),a(s[h])]);return f}case HS:return i([o,s.toISOString()],s);case qS:{const{source:d,flags:f}=s;return i([o,{source:d,flags:f}],s)}case KS:{const d=[],f=i([o,d],s);for(const[h,m]of s)(e||!(_h(Id(h))||_h(Id(m))))&&d.push([a(h),a(m)]);return f}case GS:{const d=[],f=i([o,d],s);for(const h of s)(e||!_h(Id(h)))&&d.push(a(h));return f}}const{message:c}=s;return i([o,{name:l,message:c}],s)};return a},CT=(e,{json:t,lossy:n}={})=>{const r=[];return Ble(!(t||n),!!t,new Map,r)(e),r},Fg=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?NT(CT(e,t)):structuredClone(e):(e,t)=>NT(CT(e,t));function zle(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Ule(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Vle(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||zle,r=e.options.footnoteBackLabel||Ule,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const d=e.all(c),f=String(c.identifier).toUpperCase(),h=ud(f.toLowerCase());let m=0;const p=[],g=e.footnoteCounts.get(f);for(;g!==void 0&&++m<=g;){p.length>0&&p.push({type:"text",value:" "});let b=typeof n=="string"?n:n(l,m);typeof b=="string"&&(b={type:"text",value:b}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const y=d[d.length-1];if(y&&y.type==="element"&&y.tagName==="p"){const b=y.children[y.children.length-1];b&&b.type==="text"?b.value+=" ":y.children.push({type:"text",value:" "}),y.children.push(...p)}else d.push(...p);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(d,!0)};e.patch(c,v),o.push(v)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Fg(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const vv=function(e){if(e==null)return Kle;if(typeof e=="function")return xv(e);if(typeof e=="object")return Array.isArray(e)?Wle(e):Hle(e);if(typeof e=="string")return qle(e);throw new Error("Expected function, string, or object as test")};function Wle(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=vv(e[n]);return xv(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function Hle(e){const t=e;return xv(n);function n(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function qle(e){return xv(t);function t(n){return n&&n.type===e}}function xv(e){return t;function t(n,r,i){return!!(Gle(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Kle(){return!0}function Gle(e){return e!==null&&typeof e=="object"&&"type"in e}const Q4=[],Yle=!0,cw=!1,Xle="skip";function Z4(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const a=vv(i),s=r?-1:1;o(e,void 0,[])();function o(l,c,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return h;function h(){let m=Q4,p,g,y;if((!t||a(l,c,d[d.length-1]||void 0))&&(m=Qle(n(l,d)),m[0]===cw))return m;if("children"in l&&l.children){const v=l;if(v.children&&m[0]!==Xle)for(g=(r?v.children.length:-1)+s,y=d.concat(v);g>-1&&g<v.children.length;){const b=v.children[g];if(p=o(b,g,y)(),p[0]===cw)return p;g=typeof p[1]=="number"?p[1]:g+s}}return m}}}function Qle(e){return Array.isArray(e)?e:typeof e=="number"?[Yle,e]:e==null?Q4:[e]}function YS(e,t,n,r){let i,a,s;typeof t=="function"&&typeof n!="function"?(a=void 0,s=t,i=n):(a=t,s=n,i=r),Z4(e,a,o,i);function o(l,c){const d=c[c.length-1],f=d?d.children.indexOf(l):void 0;return s(l,f,d)}}const uw={}.hasOwnProperty,Zle={};function Jle(e,t){const n=t||Zle,r=new Map,i=new Map,a=new Map,s={...Lle,...n.handlers},o={all:c,applyData:tce,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:n,patch:ece,wrap:rce};return YS(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,h=String(d.identifier).toUpperCase();f.has(h)||f.set(h,d)}}),o;function l(d,f){const h=d.type,m=o.handlers[h];if(uw.call(o.handlers,h)&&m)return m(o,d,f);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in d){const{children:g,...y}=d,v=Fg(y);return v.children=o.all(d),v}return Fg(d)}return(o.options.unknownHandler||nce)(o,d,f)}function c(d){const f=[];if("children"in d){const h=d.children;let m=-1;for(;++m<h.length;){const p=o.one(h[m],d);if(p){if(m&&h[m-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=jT(p.value)),!Array.isArray(p)&&p.type==="element")){const g=p.children[0];g&&g.type==="text"&&(g.value=jT(g.value))}Array.isArray(p)?f.push(...p):f.push(p)}}}return f}}function ece(e,t){e.position&&(t.position=Uae(e))}function tce(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,Fg(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function nce(e,t){const n=t.data||{},r="value"in t&&!(uw.call(n,"hProperties")||uw.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function rce(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function jT(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function AT(e,t){const n=Jle(e,t),r=n.one(e,void 0),i=Vle(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function ice(e,t){return e&&"run"in e?async function(n,r){const i=AT(n,{file:r,...t});await e.run(i,r)}:function(n,r){return AT(n,{file:r,...e||t})}}function PT(e){if(e)throw e}var up=Object.prototype.hasOwnProperty,J4=Object.prototype.toString,TT=Object.defineProperty,ET=Object.getOwnPropertyDescriptor,DT=function(t){return typeof Array.isArray=="function"?Array.isArray(t):J4.call(t)==="[object Array]"},MT=function(t){if(!t||J4.call(t)!=="[object Object]")return!1;var n=up.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&up.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||up.call(t,i)},OT=function(t,n){TT&&n.name==="__proto__"?TT(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},IT=function(t,n){if(n==="__proto__")if(up.call(t,n)){if(ET)return ET(t,n).value}else return;return t[n]},ace=function e(){var t,n,r,i,a,s,o=arguments[0],l=1,c=arguments.length,d=!1;for(typeof o=="boolean"&&(d=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<c;++l)if(t=arguments[l],t!=null)for(n in t)r=IT(o,n),i=IT(t,n),o!==i&&(d&&i&&(MT(i)||(a=DT(i)))?(a?(a=!1,s=r&&DT(r)?r:[]):s=r&&MT(r)?r:{},OT(o,{name:n,newValue:e(d,s,i)})):typeof i<"u"&&OT(o,{name:n,newValue:i}));return o};const Lx=bs(ace);function dw(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function sce(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...c){const d=e[++a];let f=-1;if(l){s(l);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,d?oce(d,o)(...c):s(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function oce(e,t){let n;return r;function r(...s){const o=e.length>s.length;let l;o&&s.push(i);try{l=e.apply(this,s)}catch(c){const d=c;if(o&&n)throw d;return i(d)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){n||(n=!0,t(s,...o))}function a(s){i(null,s)}}const Es={basename:lce,dirname:cce,extname:uce,join:dce,sep:"/"};function lce(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Rm(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(r=i):(o=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function cce(e){if(Rm(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function uce(e){Rm(e);let t=e.length,n=-1,r=0,i=-1,a=0,s;for(;t--;){const o=e.codePointAt(t);if(o===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),o===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function dce(...e){let t=-1,n;for(;++t<e.length;)Rm(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":fce(n)}function fce(e){Rm(e);const t=e.codePointAt(0)===47;let n=mce(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function mce(e,t){let n="",r=0,i=-1,a=0,s=-1,o,l;for(;++s<=e.length;){if(s<e.length)o=e.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return n}function Rm(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const hce={cwd:pce};function pce(){return"/"}function fw(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function gce(e){if(typeof e=="string")e=new URL(e);else if(!fw(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return vce(e)}function vce(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const $x=["history","path","basename","stem","extname","dirname"];class e${constructor(t){let n;t?fw(t)?n={path:t}:typeof t=="string"||xce(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":hce.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<$x.length;){const a=$x[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)$x.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Es.basename(this.path):void 0}set basename(t){Rx(t,"basename"),Fx(t,"basename"),this.path=Es.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Es.dirname(this.path):void 0}set dirname(t){_T(this.basename,"dirname"),this.path=Es.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Es.extname(this.path):void 0}set extname(t){if(Fx(t,"extname"),_T(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Es.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){fw(t)&&(t=gce(t)),Rx(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Es.basename(this.path,this.extname):void 0}set stem(t){Rx(t,"stem"),Fx(t,"stem"),this.path=Es.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Di(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Fx(e,t){if(e&&e.includes(Es.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Es.sep+"`")}function Rx(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function _T(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function xce(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const yce=function(e){const r=this.constructor.prototype,i=r[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},bce={}.hasOwnProperty;class XS extends yce{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=sce()}copy(){const t=new XS;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Lx(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Ux("data",this.frozen),this.namespace[t]=n,this):bce.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Ux("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Lh(t),r=this.parser||this.Parser;return Bx("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Bx("process",this.parser||this.Parser),zx("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const o=Lh(t),l=r.parse(o);r.run(l,o,function(d,f,h){if(d||!f||!h)return c(d);const m=f,p=r.stringify(m,h);Sce(p)?h.value=p:h.result=p,c(d,h)});function c(d,f){d||!f?s(d):a?a(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),Bx("processSync",this.parser||this.Parser),zx("processSync",this.compiler||this.Compiler),this.process(t,i),$T("processSync","process",n),r;function i(a,s){n=!0,PT(a),r=s}}run(t,n,r){LT(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,o){const l=Lh(n);i.run(t,l,c);function c(d,f,h){const m=f||t;d?o(d):s?s(m):r(void 0,m,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,a),$T("runSync","run",r),i;function a(s,o){PT(s),i=o,r=!0}}stringify(t,n){this.freeze();const r=Lh(n),i=this.compiler||this.Compiler;return zx("stringify",i),LT(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Ux("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...f]=c;l(d,f)}else s(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function s(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(i.settings=Lx(!0,i.settings,c.settings))}function o(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const f=c[d];a(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let f=-1,h=-1;for(;++f<r.length;)if(r[f][0]===c){h=f;break}if(h===-1)r.push([c,...d]);else if(d.length>0){let[m,...p]=d;const g=r[h][1];dw(g)&&dw(m)&&(m=Lx(!0,g,m)),r[h]=[c,m,...p]}}}}const wce=new XS().freeze();function Bx(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function zx(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Ux(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function LT(e){if(!dw(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function $T(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Lh(e){return kce(e)?e:new e$(e)}function kce(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Sce(e){return typeof e=="string"||Nce(e)}function Nce(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Cce="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",FT=[],RT={allowDangerousHtml:!0},jce=/^(https?|ircs?|mailto|xmpp)$/i,Ace=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Pce(e){const t=Tce(e),n=Ece(e);return Dce(t.runSync(t.parse(n),n),e)}function Tce(e){const t=e.rehypePlugins||FT,n=e.remarkPlugins||FT,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...RT}:RT;return wce().use(ule).use(n).use(ice,r).use(t)}function Ece(e){const t=e.children||"",n=new e$;return typeof t=="string"&&(n.value=t),n}function Dce(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,a=t.disallowedElements,s=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||Mce;for(const d of Ace)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+Cce+d.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),YS(e,c),Kae(e,{Fragment:u.Fragment,components:i,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function c(d,f,h){if(d.type==="raw"&&h&&typeof f=="number")return s?h.children.splice(f,1):h.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let m;for(m in Ox)if(Object.hasOwn(Ox,m)&&Object.hasOwn(d.properties,m)){const p=d.properties[m],g=Ox[m];(g===null||g.includes(d.tagName))&&(d.properties[m]=l(String(p||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):a?a.includes(d.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(d,f,h)),m&&h&&typeof f=="number")return o&&d.children?h.children.splice(f,1,...d.children):h.children.splice(f,1),f}}}function Mce(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||jce.test(e.slice(0,t))?e:""}function BT(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function Oce(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Ice(e,t,n){const i=vv((n||{}).ignore||[]),a=_ce(t);let s=-1;for(;++s<a.length;)Z4(e,"text",o);function o(c,d){let f=-1,h;for(;++f<d.length;){const m=d[f],p=h?h.children:void 0;if(i(m,p?p.indexOf(m):void 0,h))return;h=m}if(h)return l(c,d)}function l(c,d){const f=d[d.length-1],h=a[s][0],m=a[s][1];let p=0;const y=f.children.indexOf(c);let v=!1,b=[];h.lastIndex=0;let w=h.exec(c.value);for(;w;){const S=w.index,C={index:w.index,input:w.input,stack:[...d,c]};let N=m(...w,C);if(typeof N=="string"&&(N=N.length>0?{type:"text",value:N}:void 0),N===!1?h.lastIndex=S+1:(p!==S&&b.push({type:"text",value:c.value.slice(p,S)}),Array.isArray(N)?b.push(...N):N&&b.push(N),p=S+w[0].length,v=!0),!h.global)break;w=h.exec(c.value)}return v?(p<c.value.length&&b.push({type:"text",value:c.value.slice(p)}),f.children.splice(y,1,...b)):b=[c],y+b.length}}function _ce(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([Lce(i[0]),$ce(i[1])])}return t}function Lce(e){return typeof e=="string"?new RegExp(Oce(e),"g"):e}function $ce(e){return typeof e=="function"?e:function(){return e}}const Vx="phrasing",Wx=["autolink","link","image","label"];function Fce(){return{transforms:[Hce],enter:{literalAutolink:Bce,literalAutolinkEmail:Hx,literalAutolinkHttp:Hx,literalAutolinkWww:Hx},exit:{literalAutolink:Wce,literalAutolinkEmail:Vce,literalAutolinkHttp:zce,literalAutolinkWww:Uce}}}function Rce(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Vx,notInConstruct:Wx},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Vx,notInConstruct:Wx},{character:":",before:"[ps]",after:"\\/",inConstruct:Vx,notInConstruct:Wx}]}}function Bce(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Hx(e){this.config.enter.autolinkProtocol.call(this,e)}function zce(e){this.config.exit.autolinkProtocol.call(this,e)}function Uce(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Vce(e){this.config.exit.autolinkEmail.call(this,e)}function Wce(e){this.exit(e)}function Hce(e){Ice(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,qce],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Kce]],{ignore:["link","linkReference"]})}function qce(e,t,n,r,i){let a="";if(!t$(i)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!Gce(n)))return!1;const s=Yce(n+r);if(!s[0])return!1;const o={type:"link",title:null,url:a+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[o,{type:"text",value:s[1]}]:o}function Kce(e,t,n,r){return!t$(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function Gce(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function Yce(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=BT(e,"(");let a=BT(e,")");for(;r!==-1&&i>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[e,n]}function t$(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Sc(n)||hv(n))&&(!t||n!==47)}n$.peek=iue;function Xce(){this.buffer()}function Qce(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Zce(){this.buffer()}function Jce(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function eue(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ms(this.sliceSerialize(e)).toLowerCase(),n.label=t}function tue(e){this.exit(e)}function nue(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ms(this.sliceSerialize(e)).toLowerCase(),n.label=t}function rue(e){this.exit(e)}function iue(){return"["}function n$(e,t,n,r){const i=n.createTracker(r);let a=i.move("[^");const s=n.enter("footnoteReference"),o=n.enter("reference");return a+=i.move(n.safe(n.associationId(e),{after:"]",before:a})),o(),s(),a+=i.move("]"),a}function aue(){return{enter:{gfmFootnoteCallString:Xce,gfmFootnoteCall:Qce,gfmFootnoteDefinitionLabelString:Zce,gfmFootnoteDefinition:Jce},exit:{gfmFootnoteCallString:eue,gfmFootnoteCall:tue,gfmFootnoteDefinitionLabelString:nue,gfmFootnoteDefinition:rue}}}function sue(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:n$},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,a,s){const o=a.createTracker(s);let l=o.move("[^");const c=a.enter("footnoteDefinition"),d=a.enter("label");return l+=o.move(a.safe(a.associationId(r),{before:l,after:"]"})),d(),l+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),l+=o.move((t?`
`:" ")+a.indentLines(a.containerFlow(r,o.current()),t?r$:oue))),c(),l}}function oue(e,t,n){return t===0?e:r$(e,t,n)}function r$(e,t,n){return(n?"":"    ")+e}const lue=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];i$.peek=mue;function cue(){return{canContainEols:["delete"],enter:{strikethrough:due},exit:{strikethrough:fue}}}function uue(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:lue}],handlers:{delete:i$}}}function due(e){this.enter({type:"delete",children:[]},e)}function fue(e){this.exit(e)}function i$(e,t,n,r){const i=n.createTracker(r),a=n.enter("strikethrough");let s=i.move("~~");return s+=n.containerPhrasing(e,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),a(),s}function mue(){return"~"}function hue(e){return e.length}function pue(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||hue,a=[],s=[],o=[],l=[];let c=0,d=-1;for(;++d<e.length;){const g=[],y=[];let v=-1;for(e[d].length>c&&(c=e[d].length);++v<e[d].length;){const b=gue(e[d][v]);if(n.alignDelimiters!==!1){const w=i(b);y[v]=w,(l[v]===void 0||w>l[v])&&(l[v]=w)}g.push(b)}s[d]=g,o[d]=y}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<c;)a[f]=zT(r[f]);else{const g=zT(r);for(;++f<c;)a[f]=g}f=-1;const h=[],m=[];for(;++f<c;){const g=a[f];let y="",v="";g===99?(y=":",v=":"):g===108?y=":":g===114&&(v=":");let b=n.alignDelimiters===!1?1:Math.max(1,l[f]-y.length-v.length);const w=y+"-".repeat(b)+v;n.alignDelimiters!==!1&&(b=y.length+b+v.length,b>l[f]&&(l[f]=b),m[f]=b),h[f]=w}s.splice(1,0,h),o.splice(1,0,m),d=-1;const p=[];for(;++d<s.length;){const g=s[d],y=o[d];f=-1;const v=[];for(;++f<c;){const b=g[f]||"";let w="",S="";if(n.alignDelimiters!==!1){const C=l[f]-(y[f]||0),N=a[f];N===114?w=" ".repeat(C):N===99?C%2?(w=" ".repeat(C/2+.5),S=" ".repeat(C/2-.5)):(w=" ".repeat(C/2),S=w):S=" ".repeat(C)}n.delimiterStart!==!1&&!f&&v.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&b==="")&&(n.delimiterStart!==!1||f)&&v.push(" "),n.alignDelimiters!==!1&&v.push(w),v.push(b),n.alignDelimiters!==!1&&v.push(S),n.padding!==!1&&v.push(" "),(n.delimiterEnd!==!1||f!==c-1)&&v.push("|")}p.push(n.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return p.join(`
`)}function gue(e){return e==null?"":String(e)}function zT(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function vue(e,t,n,r){const i=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const s=n.indentLines(n.containerFlow(e,a.current()),xue);return i(),s}function xue(e,t,n){return">"+(n?"":" ")+e}function yue(e,t){return UT(e,t.inConstruct,!0)&&!UT(e,t.notInConstruct,!1)}function UT(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function VT(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&yue(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function bue(e,t){const n=String(e);let r=n.indexOf(t),i=r,a=0,s=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++a>s&&(s=a):a=1,i=r+t.length,r=n.indexOf(t,i);return s}function wue(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function kue(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function Sue(e,t,n,r){const i=kue(n),a=e.value||"",s=i==="`"?"GraveAccent":"Tilde";if(wue(e,n)){const f=n.enter("codeIndented"),h=n.indentLines(a,Nue);return f(),h}const o=n.createTracker(r),l=i.repeat(Math.max(bue(a,i)+1,3)),c=n.enter("codeFenced");let d=o.move(l);if(e.lang){const f=n.enter(`codeFencedLang${s}`);d+=o.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...o.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${s}`);d+=o.move(" "),d+=o.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...o.current()})),f()}return d+=o.move(`
`),a&&(d+=o.move(a+`
`)),d+=o.move(l),c(),d}function Nue(e,t,n){return(n?"":"    ")+e}function QS(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Cue(e,t,n,r){const i=QS(n),a=i==='"'?"Quote":"Apostrophe",s=n.enter("definition");let o=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),o(),e.title&&(o=n.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),o()),s(),c}function jue(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Qf(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Rg(e,t,n){const r=Ku(e),i=Ku(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}a$.peek=Aue;function a$(e,t,n,r){const i=jue(n),a=n.enter("emphasis"),s=n.createTracker(r),o=s.move(i);let l=s.move(n.containerPhrasing(e,{after:i,before:o,...s.current()}));const c=l.charCodeAt(0),d=Rg(r.before.charCodeAt(r.before.length-1),c,i);d.inside&&(l=Qf(c)+l.slice(1));const f=l.charCodeAt(l.length-1),h=Rg(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+Qf(f));const m=s.move(i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+l+m}function Aue(e,t,n){return n.options.emphasis||"*"}function Pue(e,t){let n=!1;return YS(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,cw}),!!((!e.depth||e.depth<3)&&US(e)&&(t.options.setext||n))}function Tue(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(Pue(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),h=n.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return f(),d(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const s="#".repeat(i),o=n.enter("headingAtx"),l=n.enter("phrasing");a.move(s+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(c)&&(c=Qf(c.charCodeAt(0))+c.slice(1)),c=c?s+" "+c:s,n.options.closeAtx&&(c+=" "+s),l(),o(),c}s$.peek=Eue;function s$(e){return e.value||""}function Eue(){return"<"}o$.peek=Due;function o$(e,t,n,r){const i=QS(n),a=i==='"'?"Quote":"Apostrophe",s=n.enter("image");let o=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),o(),e.title&&(o=n.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),o()),c+=l.move(")"),s(),c}function Due(){return"!"}l$.peek=Mue;function l$(e,t,n,r){const i=e.referenceType,a=n.enter("imageReference");let s=n.enter("label");const o=n.createTracker(r);let l=o.move("![");const c=n.safe(e.alt,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return s(),n.stack=d,a(),i==="full"||!c||c!==f?l+=o.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function Mue(){return"!"}c$.peek=Oue;function c$(e,t,n){let r=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const s=n.unsafe[a],o=n.compilePattern(s);let l;if(s.atBreak)for(;l=o.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function Oue(){return"`"}function u$(e,t){const n=US(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}d$.peek=Iue;function d$(e,t,n,r){const i=QS(n),a=i==='"'?"Quote":"Apostrophe",s=n.createTracker(r);let o,l;if(u$(e,n)){const d=n.stack;n.stack=[],o=n.enter("autolink");let f=s.move("<");return f+=s.move(n.containerPhrasing(e,{before:f,after:">",...s.current()})),f+=s.move(">"),o(),n.stack=d,f}o=n.enter("link"),l=n.enter("label");let c=s.move("[");return c+=s.move(n.containerPhrasing(e,{before:c,after:"](",...s.current()})),c+=s.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=s.move("<"),c+=s.move(n.safe(e.url,{before:c,after:">",...s.current()})),c+=s.move(">")):(l=n.enter("destinationRaw"),c+=s.move(n.safe(e.url,{before:c,after:e.title?" ":")",...s.current()}))),l(),e.title&&(l=n.enter(`title${a}`),c+=s.move(" "+i),c+=s.move(n.safe(e.title,{before:c,after:i,...s.current()})),c+=s.move(i),l()),c+=s.move(")"),o(),c}function Iue(e,t,n){return u$(e,n)?"<":"["}f$.peek=_ue;function f$(e,t,n,r){const i=e.referenceType,a=n.enter("linkReference");let s=n.enter("label");const o=n.createTracker(r);let l=o.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return s(),n.stack=d,a(),i==="full"||!c||c!==f?l+=o.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function _ue(){return"["}function ZS(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Lue(e){const t=ZS(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function $ue(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function m$(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Fue(e,t,n,r){const i=n.enter("list"),a=n.bulletCurrent;let s=e.ordered?$ue(n):ZS(n);const o=e.ordered?s==="."?")":".":Lue(n);let l=t&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((s==="*"||s==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),m$(n)===s&&d){let f=-1;for(;++f<e.children.length;){const h=e.children[f];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(s=o),n.bulletCurrent=s;const c=n.containerFlow(e,r);return n.bulletLastUsed=s,n.bulletCurrent=a,i(),c}function Rue(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Bue(e,t,n,r){const i=Rue(n);let a=n.bulletCurrent||ZS(n);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let s=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const o=n.createTracker(r);o.move(a+" ".repeat(s-a.length)),o.shift(s);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,o.current()),d);return l(),c;function d(f,h,m){return h?(m?"":" ".repeat(s))+f:(m?a:a+" ".repeat(s-a.length))+f}}function zue(e,t,n,r){const i=n.enter("paragraph"),a=n.enter("phrasing"),s=n.containerPhrasing(e,r);return a(),i(),s}const Uue=vv(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Vue(e,t,n,r){return(e.children.some(function(s){return Uue(s)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function Wue(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}h$.peek=Hue;function h$(e,t,n,r){const i=Wue(n),a=n.enter("strong"),s=n.createTracker(r),o=s.move(i+i);let l=s.move(n.containerPhrasing(e,{after:i,before:o,...s.current()}));const c=l.charCodeAt(0),d=Rg(r.before.charCodeAt(r.before.length-1),c,i);d.inside&&(l=Qf(c)+l.slice(1));const f=l.charCodeAt(l.length-1),h=Rg(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+Qf(f));const m=s.move(i+i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+l+m}function Hue(e,t,n){return n.options.strong||"*"}function que(e,t,n,r){return n.safe(e.value,r)}function Kue(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Gue(e,t,n){const r=(m$(n)+(n.options.ruleSpaces?" ":"")).repeat(Kue(n));return n.options.ruleSpaces?r.slice(0,-1):r}const p$={blockquote:vue,break:VT,code:Sue,definition:Cue,emphasis:a$,hardBreak:VT,heading:Tue,html:s$,image:o$,imageReference:l$,inlineCode:c$,link:d$,linkReference:f$,list:Fue,listItem:Bue,paragraph:zue,root:Vue,strong:h$,text:que,thematicBreak:Gue};function Yue(){return{enter:{table:Xue,tableData:WT,tableHeader:WT,tableRow:Zue},exit:{codeText:Jue,table:Que,tableData:qx,tableHeader:qx,tableRow:qx}}}function Xue(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function Que(e){this.exit(e),this.data.inTable=void 0}function Zue(e){this.enter({type:"tableRow",children:[]},e)}function qx(e){this.exit(e)}function WT(e){this.enter({type:"tableCell",children:[]},e)}function Jue(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,ede));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function ede(e,t){return t==="|"?t:e}function tde(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:s,tableCell:l,tableRow:o}};function s(m,p,g,y){return c(d(m,g,y),m.align)}function o(m,p,g,y){const v=f(m,g,y),b=c([v]);return b.slice(0,b.indexOf(`
`))}function l(m,p,g,y){const v=g.enter("tableCell"),b=g.enter("phrasing"),w=g.containerPhrasing(m,{...y,before:a,after:a});return b(),v(),w}function c(m,p){return pue(m,{align:p,alignDelimiters:r,padding:n,stringLength:i})}function d(m,p,g){const y=m.children;let v=-1;const b=[],w=p.enter("table");for(;++v<y.length;)b[v]=f(y[v],p,g);return w(),b}function f(m,p,g){const y=m.children;let v=-1;const b=[],w=p.enter("tableRow");for(;++v<y.length;)b[v]=l(y[v],m,p,g);return w(),b}function h(m,p,g){let y=p$.inlineCode(m,p,g);return g.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y}}function nde(){return{exit:{taskListCheckValueChecked:HT,taskListCheckValueUnchecked:HT,paragraph:ide}}}function rde(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:ade}}}function HT(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function ide(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let a=-1,s;for(;++a<i.length;){const o=i[a];if(o.type==="paragraph"){s=o;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function ade(e,t,n,r){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",o=n.createTracker(r);a&&o.move(s);let l=p$.listItem(e,t,n,{...r,...o.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(d){return d+s}}function sde(){return[Fce(),aue(),cue(),Yue(),nde()]}function ode(e){return{extensions:[Rce(),sue(e),uue(),tde(e),rde()]}}const lde={tokenize:hde,partial:!0},g$={tokenize:pde,partial:!0},v$={tokenize:gde,partial:!0},x$={tokenize:vde,partial:!0},cde={tokenize:xde,partial:!0},y$={name:"wwwAutolink",tokenize:fde,previous:w$},b$={name:"protocolAutolink",tokenize:mde,previous:k$},To={name:"emailAutolink",tokenize:dde,previous:S$},Us={};function ude(){return{text:Us}}let Il=48;for(;Il<123;)Us[Il]=To,Il++,Il===58?Il=65:Il===91&&(Il=97);Us[43]=To;Us[45]=To;Us[46]=To;Us[95]=To;Us[72]=[To,b$];Us[104]=[To,b$];Us[87]=[To,y$];Us[119]=[To,y$];function dde(e,t,n){const r=this;let i,a;return s;function s(f){return!mw(f)||!S$.call(r,r.previous)||JS(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(f))}function o(f){return mw(f)?(e.consume(f),o):f===64?(e.consume(f),l):n(f)}function l(f){return f===46?e.check(cde,d,c)(f):f===45||f===95||Ti(f)?(a=!0,e.consume(f),l):d(f)}function c(f){return e.consume(f),i=!0,l}function d(f){return a&&i&&Fi(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function fde(e,t,n){const r=this;return i;function i(s){return s!==87&&s!==119||!w$.call(r,r.previous)||JS(r.events)?n(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(lde,e.attempt(g$,e.attempt(v$,a),n),n)(s))}function a(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function mde(e,t,n){const r=this;let i="",a=!1;return s;function s(f){return(f===72||f===104)&&k$.call(r,r.previous)&&!JS(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),o):n(f)}function o(f){if(Fi(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),o;if(f===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(f),l}return n(f)}function l(f){return f===47?(e.consume(f),a?c:(a=!0,l)):n(f)}function c(f){return f===null||Lg(f)||Hn(f)||Sc(f)||hv(f)?n(f):e.attempt(g$,e.attempt(v$,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function hde(e,t,n){let r=0;return i;function i(s){return(s===87||s===119)&&r<3?(r++,e.consume(s),i):s===46&&r===3?(e.consume(s),a):n(s)}function a(s){return s===null?n(s):t(s)}}function pde(e,t,n){let r,i,a;return s;function s(c){return c===46||c===95?e.check(x$,l,o)(c):c===null||Hn(c)||Sc(c)||c!==45&&hv(c)?l(c):(a=!0,e.consume(c),s)}function o(c){return c===95?r=!0:(i=r,r=void 0),e.consume(c),s}function l(c){return i||r||!a?n(c):t(c)}}function gde(e,t){let n=0,r=0;return i;function i(s){return s===40?(n++,e.consume(s),i):s===41&&r<n?a(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?e.check(x$,t,a)(s):s===null||Hn(s)||Sc(s)?t(s):(e.consume(s),i)}function a(s){return s===41&&r++,e.consume(s),i}}function vde(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),a):o===93?(e.consume(o),i):o===60||o===null||Hn(o)||Sc(o)?t(o):n(o)}function i(o){return o===null||o===40||o===91||Hn(o)||Sc(o)?t(o):r(o)}function a(o){return Fi(o)?s(o):n(o)}function s(o){return o===59?(e.consume(o),r):Fi(o)?(e.consume(o),s):n(o)}}function xde(e,t,n){return r;function r(a){return e.consume(a),i}function i(a){return Ti(a)?n(a):t(a)}}function w$(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Hn(e)}function k$(e){return!Fi(e)}function S$(e){return!(e===47||mw(e))}function mw(e){return e===43||e===45||e===46||e===95||Ti(e)}function JS(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const yde={tokenize:Ade,partial:!0};function bde(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Nde,continuation:{tokenize:Cde},exit:jde}},text:{91:{name:"gfmFootnoteCall",tokenize:Sde},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:wde,resolveTo:kde}}}}function wde(e,t,n){const r=this;let i=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){s=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!s||!s._balanced)return n(l);const c=ms(r.sliceSerialize({start:s.end,end:r.now()}));return c.codePointAt(0)!==94||!a.includes(c.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function kde(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",s,t],["exit",s,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function Sde(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,s;return o;function o(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(f){if(a>999||f===93&&!s||f===null||f===91||Hn(f))return n(f);if(f===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(ms(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Hn(f)||(s=!0),a++,e.consume(f),f===92?d:c}function d(f){return f===91||f===92||f===93?(e.consume(f),a++,c):c(f)}}function Nde(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,s=0,o;return l;function l(p){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(p){return p===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(p)}function d(p){if(s>999||p===93&&!o||p===null||p===91||Hn(p))return n(p);if(p===93){e.exit("chunkString");const g=e.exit("gfmFootnoteDefinitionLabelString");return a=ms(r.sliceSerialize(g)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return Hn(p)||(o=!0),s++,e.consume(p),p===92?f:d}function f(p){return p===91||p===92||p===93?(e.consume(p),s++,d):d(p)}function h(p){return p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),i.includes(a)||i.push(a),bn(e,m,"gfmFootnoteDefinitionWhitespace")):n(p)}function m(p){return t(p)}}function Cde(e,t,n){return e.check(Fm,t,e.attempt(yde,t,n))}function jde(e){e.exit("gfmFootnoteDefinition")}function Ade(e,t,n){const r=this;return bn(e,i,"gfmFootnoteDefinitionIndent",5);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(a):n(a)}}function Pde(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:a,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(s,o){let l=-1;for(;++l<s.length;)if(s[l][0]==="enter"&&s[l][1].type==="strikethroughSequenceTemporary"&&s[l][1]._close){let c=l;for(;c--;)if(s[c][0]==="exit"&&s[c][1].type==="strikethroughSequenceTemporary"&&s[c][1]._open&&s[l][1].end.offset-s[l][1].start.offset===s[c][1].end.offset-s[c][1].start.offset){s[l][1].type="strikethroughSequence",s[c][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},s[c][1].start),end:Object.assign({},s[l][1].end)},f={type:"strikethroughText",start:Object.assign({},s[c][1].end),end:Object.assign({},s[l][1].start)},h=[["enter",d,o],["enter",s[c][1],o],["exit",s[c][1],o],["enter",f,o]],m=o.parser.constructs.insideSpan.null;m&&Sa(h,h.length,0,pv(m,s.slice(c+1,l),o)),Sa(h,h.length,0,[["exit",f,o],["enter",s[l][1],o],["exit",s[l][1],o],["exit",d,o]]),Sa(s,c-1,l-c+3,h),l=c+h.length-2;break}}for(l=-1;++l<s.length;)s[l][1].type==="strikethroughSequenceTemporary"&&(s[l][1].type="data");return s}function a(s,o,l){const c=this.previous,d=this.events;let f=0;return h;function h(p){return c===126&&d[d.length-1][1].type!=="characterEscape"?l(p):(s.enter("strikethroughSequenceTemporary"),m(p))}function m(p){const g=Ku(c);if(p===126)return f>1?l(p):(s.consume(p),f++,m);if(f<2&&!n)return l(p);const y=s.exit("strikethroughSequenceTemporary"),v=Ku(p);return y._open=!v||v===2&&!!g,y._close=!g||g===2&&!!v,o(p)}}}class Tde{constructor(){this.map=[]}add(t,n,r){Ede(this,t,n,r)}consume(t){if(this.map.sort(function(a,s){return a[0]-s[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const a of i)t.push(a);i=r.pop()}this.map.length=0}}function Ede(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function Dde(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Mde(){return{flow:{null:{name:"table",tokenize:Ode,resolveAll:Ide}}}}function Ode(e,t,n){const r=this;let i=0,a=0,s;return o;function o(T){let M=r.events.length-1;for(;M>-1;){const Q=r.events[M][1].type;if(Q==="lineEnding"||Q==="linePrefix")M--;else break}const O=M>-1?r.events[M][1].type:null,Y=O==="tableHead"||O==="tableRow"?N:l;return Y===N&&r.parser.lazy[r.now().line]?n(T):Y(T)}function l(T){return e.enter("tableHead"),e.enter("tableRow"),c(T)}function c(T){return T===124||(s=!0,a+=1),d(T)}function d(T){return T===null?n(T):Ft(T)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),m):n(T):mn(T)?bn(e,d,"whitespace")(T):(a+=1,s&&(s=!1,i+=1),T===124?(e.enter("tableCellDivider"),e.consume(T),e.exit("tableCellDivider"),s=!0,d):(e.enter("data"),f(T)))}function f(T){return T===null||T===124||Hn(T)?(e.exit("data"),d(T)):(e.consume(T),T===92?h:f)}function h(T){return T===92||T===124?(e.consume(T),f):f(T)}function m(T){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(T):(e.enter("tableDelimiterRow"),s=!1,mn(T)?bn(e,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):p(T))}function p(T){return T===45||T===58?y(T):T===124?(s=!0,e.enter("tableCellDivider"),e.consume(T),e.exit("tableCellDivider"),g):C(T)}function g(T){return mn(T)?bn(e,y,"whitespace")(T):y(T)}function y(T){return T===58?(a+=1,s=!0,e.enter("tableDelimiterMarker"),e.consume(T),e.exit("tableDelimiterMarker"),v):T===45?(a+=1,v(T)):T===null||Ft(T)?S(T):C(T)}function v(T){return T===45?(e.enter("tableDelimiterFiller"),b(T)):C(T)}function b(T){return T===45?(e.consume(T),b):T===58?(s=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(T),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(T))}function w(T){return mn(T)?bn(e,S,"whitespace")(T):S(T)}function S(T){return T===124?p(T):T===null||Ft(T)?!s||i!==a?C(T):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(T)):C(T)}function C(T){return n(T)}function N(T){return e.enter("tableRow"),A(T)}function A(T){return T===124?(e.enter("tableCellDivider"),e.consume(T),e.exit("tableCellDivider"),A):T===null||Ft(T)?(e.exit("tableRow"),t(T)):mn(T)?bn(e,A,"whitespace")(T):(e.enter("data"),E(T))}function E(T){return T===null||T===124||Hn(T)?(e.exit("data"),A(T)):(e.consume(T),T===92?$:E)}function $(T){return T===92||T===124?(e.consume(T),E):E(T)}}function Ide(e,t){let n=-1,r=!0,i=0,a=[0,0,0,0],s=[0,0,0,0],o=!1,l=0,c,d,f;const h=new Tde;for(;++n<e.length;){const m=e[n],p=m[1];m[0]==="enter"?p.type==="tableHead"?(o=!1,l!==0&&(qT(h,t,l,c,d),d=void 0,l=0),c={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(n,0,[["enter",c,t]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(r=!0,f=void 0,a=[0,0,0,0],s=[0,n+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(n,0,[["enter",d,t]])),i=p.type==="tableDelimiterRow"?2:d?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(r=!1,s[2]===0&&(a[1]!==0&&(s[0]=s[1],f=$h(h,t,a,i,void 0,f),a=[0,0,0,0]),s[2]=n)):p.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(s[0]=s[1],f=$h(h,t,a,i,void 0,f)),a=s,s=[a[1],n,0,0])):p.type==="tableHead"?(o=!0,l=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(l=n,a[1]!==0?(s[0]=s[1],f=$h(h,t,a,i,n,f)):s[1]!==0&&(f=$h(h,t,s,i,n,f)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(s[3]=n)}for(l!==0&&qT(h,t,l,c,d),h.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=Dde(t.events,n))}return e}function $h(e,t,n,r,i,a){const s=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(a.end=Object.assign({},eu(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const l=eu(t.events,n[1]);if(a={type:s,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",a,t]]),n[2]!==0){const c=eu(t.events,n[2]),d=eu(t.events,n[3]),f={type:o,start:Object.assign({},c),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const h=t.events[n[2]],m=t.events[n[3]];if(h[1].end=Object.assign({},m[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const p=n[2]+1,g=n[3]-n[2]-1;e.add(p,g,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return i!==void 0&&(a.end=Object.assign({},eu(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function qT(e,t,n,r,i){const a=[],s=eu(t.events,n);i&&(i.end=Object.assign({},s),a.push(["exit",i,t])),r.end=Object.assign({},s),a.push(["exit",r,t]),e.add(n+1,0,a)}function eu(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const _de={name:"tasklistCheck",tokenize:$de};function Lde(){return{text:{91:_de}}}function $de(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),a)}function a(l){return Hn(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),s):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),s):n(l)}function s(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(l)}function o(l){return Ft(l)?t(l):mn(l)?e.check({tokenize:Fde},t,n)(l):n(l)}}function Fde(e,t,n){return bn(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function Rde(e){return O4([ude(),bde(),Pde(e),Mde(),Lde()])}const Bde={};function zde(e){const t=this,n=e||Bde,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Rde(n)),a.push(sde()),s.push(ode(n))}const Kx='# Combat Metrics Spec\n\nThis document describes the project-defined combat metrics used in the UI,\nDiscord summaries, and aggregate stats. The intent is to define the metrics\nindependently from any third-party implementation while staying consistent\nwith EI JSON inputs. It also records the exact fields and aggregation rules\nso the stats dashboard, Discord, and cards produce identical values.\n\nSpec version: `v5` (see `src/shared/metrics-methods.json`).\n\n## Input Contract (EI JSON)\n\nAll metrics are derived from the EI JSON payload produced by dps.report. The\nminimum fields consumed are:\n\n- `players[*].dpsAll[0].damage`, `players[*].dpsAll[0].dps`, `players[*].dpsAll[0].breakbarDamage`\n- `players[*].defenses[0].damageTaken`, `deadCount`, `downCount`,\n  `missedCount`, `blockedCount`, `evadedCount`, `dodgeCount`,\n  `receivedCrowdControl`, `receivedCrowdControlDuration`,\n  `boonStrips`, `boonStripsTime`\n- `players[*].support[0].condiCleanse`, `condiCleanseSelf`, `boonStrips`,\n  `boonStripsTime`, `resurrects`\n- `players[*].statsAll[0].stackDist`, `players[*].statsAll[0].distToCom`\n- `players[*].statsTargets[*][0].downContribution`, `killed`, `downed`,\n  `againstDownedCount`\n- `players[*].extHealingStats.outgoingHealingAllies`\n- `players[*].extBarrierStats.outgoingBarrierAllies`\n- `players[*].totalDamageDist`, `players[*].targetDamageDist`, `players[*].totalDamageTaken`\n- `players[*].damage1S`, `players[*].targetDamage1S`,\n  `players[*].powerDamageTaken1S`, `players[*].targetPowerDamage1S`\n- `players[*].activeTimes`\n- `players[*].rotation`\n- `players[*].buffUptimes`\n- `players[*].selfBuffs`, `players[*].groupBuffs`, `players[*].squadBuffs`\n- `players[*].selfBuffsActive`, `players[*].groupBuffsActive`, `players[*].squadBuffsActive`\n- `players[*].group`\n- `buffMap`, `skillMap`, and `durationMS` for stability generation, boon output, and skill labeling\n- `targets[*].buffs[*].statesPerSource` when available for condition application counts\n- `details.fightName`, `details.uploadTime` (or `details.timeStartStd` / `details.timeStart` fallback),\n  `details.zone`/`mapName`/`map`/`location`, `details.success`,\n  `details.targets`, `details.durationMS`\n- `targets[*].totalDamageDist`, `targets[*].powerDamage1S`, `targets[*].damage1S`,\n  `targets[*].enemyPlayer`, `targets[*].isFake`, `targets[*].profession`\n\nIf any of these are missing, the metric falls back to `0` as defined below.\n\n## Crowd Control & Strips Methodology\n\nThe app supports three user-selectable methodologies (default: `count`),\nconfigured in `src/shared/metrics-methods.json`:\n\n1. **Count Events** (`count`)  \n   Uses EI summary counts for CC/strips. Best for stable, comparable totals.\n\n2. **Duration (Seconds)** (`duration`)  \n   Uses EI summary durations (converted to seconds). Best for impact-weighted\n   totals, but units are time not event counts.\n\n3. **Tiered Impact** (`tiered`)  \n   Uses average duration per event to apply tiered weights. Best for balancing\n   short vs long control with a simple, configurable heuristic.\n\nThese methodologies apply to:\n- Outgoing CC totals\n- Incoming CC totals\n- Incoming strips totals\n\n## Outgoing Crowd Control\n\nFor each player:\n- `count`: `statsAll[0].appliedCrowdControl`\n- `duration`: `statsAll[0].appliedCrowdControlDuration / 1000`\n- `tiered`: `appliedCrowdControl * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/combatMetrics.ts` (computeOutgoingCrowdControl).\n\n## Incoming Strips and Crowd Control\n\nFor each player:\n- Incoming CC uses `defenses[0].receivedCrowdControl` and\n  `defenses[0].receivedCrowdControlDuration`.\n- Incoming strips use `defenses[0].boonStrips` and `defenses[0].boonStripsTime`.\n\nMethod application is the same as outgoing CC (count/duration/tiered).\n\nImplementation: `src/shared/combatMetrics.ts` (computeIncomingDisruptions).\n\n## Cleanses\n\n`cleanses = support[0].condiCleanse + support[0].condiCleanseSelf`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerCleanses).\n\nUI note: the Support table can display either **All** (condiCleanse + condiCleanseSelf) or **Squad** (condiCleanse only) via the cleanse-scope toggle. Discord and top summaries use **All**.\n\n## Strips\n\n`strips` uses the configured methodology:\n- `count`: `support[0].boonStrips`\n- `duration`: `support[0].boonStripsTime / 1000`\n- `tiered`: `boonStrips * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerStrips).\n\n## Down Contribution\n\nDown contribution is the sum of `statsTargets[*][0].downContribution` across\nall targets for the player.\n\nImplementation: `src/shared/combatMetrics.ts` (computeDownContribution).\n\n## Squad Barrier and Squad Healing\n\nSquad barrier and healing sum all phases of `extBarrierStats.outgoingBarrierAllies`\nand `extHealingStats.outgoingHealingAllies` respectively.\n\nImplementation: `src/shared/combatMetrics.ts` (computeSquadBarrier, computeSquadHealing).\n\n## Stability Generation\n\nStability generation uses the EI buff data via `getPlayerBoonGenerationMs`\nand writes `player.stabGeneration` in seconds.\n\nImplementation: `src/shared/combatMetrics.ts` (applySquadStabilityGeneration).\n\n## Damage and DPS\n\n`damage = dpsAll[0].damage`  \n`dps = dpsAll[0].dps`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamage, getPlayerDps).\n\n## Breakbar Damage\n\n`breakbarDamage = dpsAll[0].breakbarDamage`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerBreakbarDamage).\n\n## Incoming Damage (Taken)\n\n`damageTaken = defenses[0].damageTaken`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamageTaken).\n\nIncoming damage per skill (incoming damage distribution) is derived from\n`players[*].totalDamageTaken[*]` entries and summed across players for the\nsquad view. This total can be large for siege skills because it aggregates\nall hits and all players (and across multiple logs when viewing aggregates).\n\n## Damage Mitigation (Player + Minion)\n\nDamage mitigation is an **estimate** of avoided damage based on enemy skill\ndamage averages and avoidance events (block/evade/miss/invuln/interrupted).\nIt is intended for relative comparisons between players/minions and logs, not\nas a literal damage prevented total.\n\n### Inputs Used\n\nPer-log data sources:\n\n- Enemy damage distribution: `targets[*].totalDamageDist[0]`\n- Player avoided events: `players[*].totalDamageTaken[0]`\n- Minion avoided events: `players[*].minions[*].totalDamageTakenDist[0]`\n- Skill names: `skillMap` / `buffMap` (for UI labels only)\n\n### Enemy Skill Damage Averages\n\nFor each skill id across **all logs in the aggregation**:\n\n1. Gather `totalDamage` and `connectedHits` from every targets\n   `totalDamageDist[0]` entry with the same `id`.\n2. Compute:\n   - `avgDamage = sum(totalDamage) / sum(connectedHits)`\n   - `minDamage = average(entry.min over all occurrences)`\n\nThese averages are computed **once for the aggregation window** and used for\nall player/minion mitigation calculations.\n\n### Avoided Damage Per Skill (Formula)\n\nFor a given skill id `S` with enemy averages `avgDamage` and `minDamage`:\n\n```\navoidCount = blocked + evaded + missed + invulned + interrupted\navoidDamage = (glanced * avgDamage / 2) + (avoidCount * avgDamage)\nminAvoidDamage = (glanced * minDamage / 2) + (avoidCount * minDamage)\n```\n\nNotes:\n- `glanced` is treated as half damage.\n- If `connectedHits` for the enemy skill is `0`, the skill is excluded from\n  mitigation totals (both avoid and min avoid).\n\n### Player Mitigation Aggregation\n\nFor each player (account key):\n\n1. Sum avoidance counts **per skill id** across all logs:\n   - `hits`, `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`.\n2. For each skill id, compute `avoidDamage` / `minAvoidDamage` using the global\n   enemy averages (above).\n3. **Include only skills with `avoidDamage > 0`** in totals.\n4. Totals are the sum of:\n   - `totalHits` (from `hits`)\n   - `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`\n   - `totalMitigation` (sum of avoidDamage)\n   - `minMitigation` (sum of minAvoidDamage)\n\n### Minion Mitigation Aggregation\n\nFor each minion (player account + minion name):\n\n1. Sum avoidance counts **per skill id** across all logs using\n   `minion.totalDamageTakenDist[0]`.\n2. Use the **same enemy averages** (from targets).\n3. Compute totals using the same formula and inclusion rules as player\n   mitigation.\n\nMinion names are normalized by:\n- Removing `"Juvenile "` prefix.\n- Converting names containing `"UNKNOWN"` to `"Unknown"`.\n\n### Field Mapping in UI\n\nThe Damage Mitigation table uses the following totals:\n\n- `Total Hits`  summed `hits` for included skills\n- `Evaded`, `Blocked`, `Glanced`, `Missed`, `Invulned`, `Interrupted`\n- `Damage Mitigation`  `totalMitigation`\n- `Min Damage Mitigation`  `minMitigation`\n\n### Why This Diverges From Some External Tools\n\nSome tools compute mitigation differently (e.g., per-log accumulation with\nrunning averages, name-based skill bucketing, or repeated adding across logs).\nThis spec intentionally computes **one consistent estimate** across all logs\nusing **global enemy averages** and **per-skill cumulative counts**, which\navoids log-count bias.\n\n### Known Limitations\n\n- If a skills `connectedHits` is zero in targets data, mitigation for that\n  skill is excluded.\n- Some skills share names across different ids; we bucket by **skill id** to\n  avoid collisions.\n- Enemy damage averages are computed from `targets[*].totalDamageDist[0]` and\n  can be skewed by target mix, fake targets, or atypical fights.\n\n### How-To: Validate Against Raw EI JSON\n\n1. Choose a player or minion and a specific skill id from:\n   - `players[*].totalDamageTaken[0]` or `minions[*].totalDamageTakenDist[0]`.\n2. Compute counts: `blocked`, `evaded`, `glanced`, `missed`, `invulned`,\n   `interrupted`, `hits`.\n3. Compute enemy averages from all logs `targets[*].totalDamageDist[0]` for\n   the same skill id.\n4. Apply the formula above and verify the per-skill avoided damage.\n5. Sum over skills with `avoidDamage > 0` to confirm table totals.\n\n### How-To: Debug Mismatches\n\n1. Confirm the same log set is being aggregated.\n2. Verify skill ids match (name collisions can hide differences).\n3. Check if the target data includes the skill id with non-zero\n   `connectedHits`.\n4. Validate that minion names are normalized (`Juvenile` prefix removed).\n5. Compare against a single skill id first, then widen to all skills.\n\n## Conditions (Outgoing + Incoming)\n\nOutgoing condition totals are derived from `players[*].totalDamageDist[*]`\nentries whose resolved skill name maps to a condition label (see\n`CONDITION_NAME_MAP`). For each matching entry:\n\n- `applications` uses `connectedHits` when available, otherwise falls back to\n  `hits` (needed for non-damaging conditions like blind/slow/fear).\n- `damage` uses `totalDamage`.\n\nTotals are aggregated per player and across the squad. The UI can filter to a\nsingle condition or show the all-conditions rollup.\n\nIncoming condition totals are derived from `players[*].totalDamageTaken[*]`\nentries whose resolved skill/buff ID maps to a condition. For each matching\nentry:\n\n- `applications` uses `hits`.\n- `damage` uses `totalDamage`.\n\n### Current Condition Labels (Normalization)\n\nCondition detection normalizes skill/buff names to the following labels. Only\nthese are counted as conditions:\n\n- Bleeding\n- Burning\n- Confusion\n- Poison\n- Torment\n- Vulnerability\n- Weakness\n- Blind\n- Cripple\n- Chill\n- Immobilize\n- Slow\n- Fear\n- Taunt\n\nNotes:\n- The matcher lowercases and trims names, then maps variants like `crippled`\n   `Cripple` and `chilled`  `Chill`.\n- If a skill/buff name does not normalize to one of the labels above, it is\n  excluded from condition totals.\n\n### Limitation (Hosted JSON)\n\nAccurate application counts for non-damaging conditions (e.g., vulnerability,\nweakness, blind, slow) require target buff state timelines\n(`targets[*].buffs[*].statesPerSource`). If hosted JSON lacks this data (common\nin older logs or trimmed outputs), the app falls back to damage distribution\n(`totalDamageDist`) hit counts, which can significantly under-count\napplications for those conditions.\n\n### Condition Application Counting (States Per Source)\n\nWhen `targets[*].buffs[*].statesPerSource` is available, the app computes two\nseparate application counts per condition:\n\n- **Stack Delta Applications (`applicationsFromBuffs`)**  \n  Counts the **sum of positive stack increases** across the states timeline.\n  Example timeline: `0  1  3  2  5` contributes `+1 +2 +3 = 6`.  \n  This aligns with the technical definition of applications as **stacks\n  actually added**.\n\n- **Active State Entries (`applicationsFromBuffsActive`)**  \n  Counts **each non-zero state entry** (each time the state updates while the\n  condition is active). This tracks **how often the buff state changed while\n  active**, which often matches external tooling that counts active segments,\n  but can **over-count** true applications for stacking conditions.\n\n**Tradeoffs:**\n- *Stack delta* is closer to how many stacks were applied but can be lower\n  than tools that count refreshes/active entries.\n- *Active entries* better match some log combiner views but can overstate\n  application counts when stacks are refreshed without adding stacks.\n\n## Deaths / Downs (Taken)\n\n`deaths = defenses[0].deadCount`  \n`downsTaken = defenses[0].downCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDeaths, getPlayerDownsTaken).\n\n## Dodges / Misses / Blocks / Evades (Taken)\n\n`dodges = defenses[0].dodgeCount`  \n`missed = defenses[0].missedCount`  \n`blocked = defenses[0].blockedCount`  \n`evaded = defenses[0].evadedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts`\n(getPlayerDodges, getPlayerMissed, getPlayerBlocked, getPlayerEvaded).\n\n## Resurrects\n\n`resurrects = support[0].resurrects`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerResurrects).\n\n## Distance to Tag\n\n`distanceToTag = statsAll[0].distToCom` if present; otherwise use\n`statsAll[0].stackDist`. If both are missing but combat replay positions are\navailable, compute the average distance to the commander tag over the\navailable timeline. Otherwise `0`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDistanceToTag).\n\n## Kills / Downs / Against Downed (Target Stats)\n\nFor each player, aggregate from `statsTargets[*][0]`:\n\n- `killed`\n- `downed`\n- `againstDownedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getTargetStatTotal).\n\n## Skill Usage Tracker (Rotation Casts)\n\nSkill usage is derived from each player\'s `rotation` entries in EI JSON. For\neach rotation skill entry:\n- `castCount = rotationSkill.skills.length`\n- `skillId = s{rotationSkill.id}`\n- Counts are aggregated per player per log and summed across logs for totals.\n\nThe Skill Usage Tracker supports two display modes:\n- **Total**: raw cast counts per player (per log in the timeline).\n- **Per Second**: cast rate using active time, where\n  `activeSeconds = players[*].activeTimes[0] / 1000` when available, otherwise\n  `durationMS / 1000` from the log details.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (skill usage tracker aggregation).\n\n## APM Breakdown\n\nAPM is derived from the Skill Usage Tracker data (rotation casts). For each\nplayer:\n- `totalCasts = sum(rotationSkill.skills.length)`\n- `apm = totalCasts / (activeSeconds / 60)`\n- `aps = totalCasts / activeSeconds`\n- Auto-attack counts are excluded for the "No Auto" variants.\n\nThe APM Breakdown groups players by profession and aggregates per-skill cast\ncounts across the group.\n\nImplementation: `src/renderer/stats/hooks/useApmStats.ts`.\n\n## Player Skill Breakdown (Damage / Down Contribution / DPS)\n\nPer-player skill damage breakdown is built from the same damage distribution\ninputs as Top Skills (see below):\n- Outgoing skill damage uses `targetDamageDist` (default) or `totalDamageDist`\n  based on settings.\n- Each entry contributes `totalDamage` and `downContribution`.\n\nFor each player and skill:\n- `totalDamage = sum(entry.totalDamage)`\n- `downContribution = sum(entry.downContribution)`\n- `dps = totalDamage / (totalFightSeconds)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Top Skills (Outgoing / Incoming)\n\nTop Outgoing Skills are derived from the squad-wide aggregation of\n`targetDamageDist` (default) or `totalDamageDist` entries:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.connectedHits)`\n- `downContribution = sum(entry.downContribution)`\n\nWhen using target-based outgoing aggregation, total-distribution supplementation\nis mode-sensitive:\n- non-detailed logs (`detailedWvW !== true`): missing/under-reported target\n  skill ids may be supplemented from `totalDamageDist` deltas\n- detailed WvW logs (`detailedWvW === true`): supplementation from\n  `totalDamageDist` is disabled to avoid known outlier max/damage artifacts\n  observed in some EI exports\n\nTop Incoming Skills are derived from `totalDamageTaken`:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.hits)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Boon Output\n\nBoon output tables are computed from player boon generation data:\n- `selfBuffs`, `groupBuffs`, `squadBuffs` (and their `Active` variants)\n- `buffMap` for name/icon/stacking metadata\n- `durationMS`, `activeTimes`, and `group` for normalization\n\nImplementation: `src/shared/boonGeneration.ts`.\n\n## Special Buffs\n\nSpecial (non-boon) buff tables are computed from `buffUptimes` using\n`buffMap` classification and icon metadata. Durations are normalized by\n`activeTimes` and `durationMS`.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n### Sigil/Relic Uptime (Other Metrics)\n\nThe `Sigil/Relic Uptime` section is derived from `specialTables` and filtered\nto entries whose buff name matches `sigil` or `relic` (case-insensitive).\n\n#### Data source and eligibility\n\nFor each squad player and each non-boon buff in `players[*].buffUptimes`:\n\n- Buff metadata source:\n  - `details.buffMap[b{id}]` (fallback `details.buffMap[id]`)\n- Include only:\n  - non-boons (`classification !== "Boon"`)\n  - rows with valid positive uptime signal:\n    - `buffData[0].uptime > 0` or `buffData[0].presence > 0`\n\n#### Two parallel measures stored for each row\n\n1. **Stack/Intensity measure** (`total`, `perSecond`)\n   - used by the generic Special Buffs table\n   - formula:\n     - if stacking buff: `uptimeFactor = uptimeRaw`\n     - else: `uptimeFactor = uptimeRaw / 100`\n     - `totalMs += uptimeFactor * activeMs`\n   - output:\n     - `total = totalMs / 1000`\n     - `perSecond = totalMs / durationMs`\n\n2. **True uptime percentage measure** (`uptimePerSecond`)\n   - used by `Sigil/Relic Uptime`\n   - formula:\n     - non-stacking buff:\n       - `uptimePctRaw = uptimeRaw`\n     - stacking buff:\n       - `uptimePctRaw = presenceRaw`\n     - clamp to percentage domain:\n       - `uptimePct = clamp(uptimePctRaw, 0, 100) / 100`\n     - accumulate:\n       - `uptimeMs += uptimePct * activeMs`\n   - final denominator:\n     - `fullPlayerDurationMs = player.supportActiveMs`\n     - `uptimePerSecond = uptimeMs / fullPlayerDurationMs`\n   - rendered as:\n     - `Uptime% = uptimePerSecond * 100`\n\n#### Why this is the accuracy model\n\nThis method intentionally uses the **same activity window in numerator and\ndenominator** (player active time):\n\n- Numerator:\n  - uptime milliseconds accumulated from each fight over player active time\n- Denominator:\n  - total player active time across selected fights\n\nThat produces a direct interpretation:\n\n- "Percent of the time this player was active that this sigil/relic effect was\n  present."\n\nFor stacking gear buffs, `presence` is used for percent uptime because\n`uptime` on stacking buffs represents average stack intensity, not time-up\npercentage. This avoids under/over-reporting caused by treating stack-average\nas uptime%.\n\n### Fight Comparison (Other Metrics)\n\n`Fight Comparison` compares two selected fights using two focused views:\n\n1. `Target Focus Comparison`\n- Aggregates squad outgoing damage into enemy profession buckets using\n  `players[*].statsTargets[targetIndex][0].damage`.\n- Target labels are resolved from `targets[targetIndex]` with profession-first\n  fallback (`profession -> name -> id`).\n- Per fight, each target bucket includes:\n  - `damage`\n  - `hits`\n  - `share = damage / totalTargetDamage`\n- Comparison table uses the union of target buckets and highlights\n  `shareDelta = fightB.share - fightA.share`.\n\n2. `Squad Metric Comparison`\n- Compares squad-level fight aggregates instead of individual player leaders.\n- Includes broad outcome/pressure/support metrics, including:\n  - win flag, squad size, enemy count, squad KDR\n  - enemy deaths/downs, squad deaths/downs\n  - outgoing/incoming damage and damage delta\n  - cleanses, strips, stability, healing, barrier out\n  - incoming barrier absorption, enemy barrier absorption\n  - squad CC, down contribution, revived players\n- Delta shown is `fightB.value - fightA.value`; color semantics account for\n  metric direction (`higherIsBetter`).\n\nImplementation:\n- aggregation payload build: `src/renderer/stats/computeStatsAggregation.ts` (`fightDiffMode`)\n- section rendering: `src/renderer/stats/sections/FightDiffModeSection.tsx`\n\n## Offense / Defense / Support / Healing Tables\n\nDetailed tables aggregate the per-player totals defined in:\n- `src/renderer/stats/statsMetrics.ts` (metric definitions)\n- `src/shared/dashboardMetrics.ts` (per-player metric extraction)\n- `src/renderer/stats/computeStatsAggregation.ts` (aggregation)\n\n## Spike Damage\n\nSpike Damage has four modes:\n- `hit`: highest single skill hit in a fight\n- `1s`: highest rolling 1-second damage burst in a fight\n- `5s`: highest rolling 5-second damage burst in a fight\n- `30s`: highest rolling 30-second damage burst in a fight\n\n### Player Identity\n\nPer-fight player keys are resolved as:\n- `key = "${account}|${profession}"`\n- `account = player.account || player.name || "Unknown"`\n- `profession = player.profession || "Unknown"`\n\nThis same key is used to join:\n- player list\n- per-fight values\n- selected-player chart/drilldown\n\n### Highest Single Hit (`hit`)\n\nFor each squad player (`!notInSquad`), the highest single-hit value is scanned\nfrom damage distributions (skill maps used for names).\n\nValue:\n- candidate fields per entry:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- no inferred single-hit estimate is used (for example,\n  `totalDamage / connectedHits` is intentionally excluded)\n\nSource priority:\n- primary: `targetDamageDist`\n- fallback: `totalDamageDist` only when no target entries are present (or no\n  positive peak was found from target entries)\n\nDetailed WvW safeguard:\n- for logs with `detailedWvW === true`, target-side data is treated as the\n  authoritative source for spike-hit computations whenever present, because\n  some logs can contain total-distribution outlier maxima that are inconsistent\n  with target-distribution entries.\n\nSkill label:\n- `skillName` from `skillMap`/`buffMap` by id fallback (`Unknown Skill` if missing)\n\n### Rolling Burst (`1s` / `5s`)\n\nBurst uses per-second **delta** damage:\n1. Build cumulative damage for phase 0:\n   - prefer aggregated target phase 0 from `targetDamage1S` when available\n   - fallback to `damage1S[0]`\n2. Convert cumulative -> per-second deltas:\n   - `delta[i] = max(0, cumulative[i] - cumulative[i-1])` (`i=0` uses prev `0`)\n3. Compute rolling windows:\n- `burst1s = max(sum(delta[i..i]))`\n- `burst5s = max(sum(delta[i..i+4]))`\n- `burst30s = max(sum(delta[i..i+29]))`\n\nImplementation includes support for EI shape variants:\n- Shape A: `[phase][target][time]`\n- Shape B: `[target][phase][time]`\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses the corresponding max series as the dashed reference line.\n\n### Drilldown (5s Buckets)\n\nSelected fight drilldown is always rendered as 5-second buckets.\n\nBucket source:\n- preferred: precomputed `buckets5s`\n- fallback: recompute from selected player per-second delta series\n\nBucket value:\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count:\n- extended to full fight duration (`ceil(durationMS / 5000)`) so trailing\n  down/death events are representable even if damage is zero late-fight.\n\n### Down / Death Markers\n\nMarker events are read from `combatReplayData`:\n- supports both replay object and segmented replay-array forms\n- uses `down` and `dead` arrays\n\nTimestamp normalization:\n- handles mixed encodings (ms/seconds/large scales) and offset baselines\n  using replay starts/global starts/log offsets\n- selects the shift/scale that maximizes in-range alignment with fight buckets\n\nMarker placement:\n- convert normalized time to bucket index:\n  - `index = floor(timeMs / 5000)`\n- constrain to visible drilldown bucket range\n- render:\n  - down marker: yellow\n  - death marker: red\n\nWeb report parity:\n- precomputed spike payload stores marker indices as:\n  - `downIndices5s`\n  - `deathIndices5s`\n- embedded/web mode can render markers without raw `logs` by consuming these fields.\n\nImplementation:\n- Aggregation/precompute: `src/renderer/stats/computeStatsAggregation.ts`\n- Runtime selection/drilldown + fallbacks: `src/renderer/StatsView.tsx`\n- Chart rendering/interaction: `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Incoming Strike Damage\n\nIncoming Strike Damage mirrors Spike Damage interactions (same chart modes,\nselection, drilldown, animations, and fight navigation) but changes the data\nsource and grouping:\n\n- grouped by **enemy class** (`targets[*].profession`) instead of squad player\n- uses **incoming strike timelines** and target damage distributions\n- selected-fight expansion includes a **skill-level incoming strike table**\n\n### Identity and Grouping\n\nPer-fight keys are enemy profession labels:\n\n- `key = resolveProfessionLabel(target.profession || target.name || target.id)`\n- fallback key: `"Unknown"`\n\nAll enemy targets in a fight that resolve to the same profession are merged\ninto one class bucket for that fight.\n\n### Damage Modes (`hit`, `1s`, `5s`, `30s`)\n\nModes are defined the same way as Spike Damage:\n\n- `hit`: highest single incoming strike hit seen in the class bucket\n- `1s`: highest rolling 1-second incoming strike burst\n- `5s`: highest rolling 5-second incoming strike burst\n- `30s`: highest rolling 30-second incoming strike burst\n\n`hit` source:\n\n- scan target strike distributions (`totalDamageDist`) and keep max of:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- ignore `indirectDamage` entries\n\n### Incoming Timeline Construction\n\nFor each enemy target, incoming strike series is built with the following\npriority:\n\n1. Squad-attributed incoming-vs-target cumulative strike:\n   - sum `players[*].targetPowerDamage1S[targetIndex]` across all squad players\n2. Fallback target timeline:\n   - `targets[targetIndex].powerDamage1S`\n3. Final fallback:\n   - `targets[targetIndex].damage1S`\n\nEach chosen cumulative series is converted to per-second deltas:\n\n- `delta[i] = max(0, cumulative[i] - cumulative[i-1])`\n- `delta[0] = max(0, cumulative[0])`\n\nClass series is then:\n\n- sum of target delta series for all targets in that class\n\nBurst windows are computed from class per-second deltas with the same rolling\nwindow logic used by Spike Damage.\n\n### Timeline Fallback When Target Timelines Are Missing\n\nIf enemy target timelines are empty/unusable for a fight:\n\n1. Build squad incoming strike series from `players[*].powerDamageTaken1S`\n   (cumulative -> per-second deltas).\n2. Compute enemy class counts from `targets[*]` (enemy player targets only).\n3. Distribute squad incoming per-second totals across classes proportionally by\n   class count in that fight.\n\nThis preserves non-zero burst/drilldown behavior for logs lacking complete\ntarget timeline detail.\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses its corresponding fight max as the dashed reference\nseries in the chart.\n\n### Fight Drilldown (5s Buckets)\n\nSelected-fight drilldown is 5-second buckets from class per-second deltas:\n\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count extends to at least `ceil(durationMS / 5000)` so late-fight\nmarker events can still be shown even when trailing bucket damage is zero.\n\nDown/death markers use replay event times from squad players and are converted\nto indices with the same normalization/indexing logic as Spike Damage\n(ms/sec scaling, offset hints, then `floor(timeMs / 5000)` clamp).\n\n### Selected Fight Skill Table (Incoming Skill Damage)\n\nThe expanded table for the selected fight/class is generated from enemy target\nstrike distributions:\n\n1. For each target in the selected class:\n   - read `target.totalDamageDist` entries\n   - ignore `indirectDamage`\n2. Resolve each skill id via:\n   - `skillMap[s{id}]`, then `skillMap[id]`\n   - fallback `buffMap[b{id}]`, then `buffMap[id]`\n3. Aggregate per skill name:\n   - `damage += entry.totalDamage`\n   - `hits += entry.connectedHits || entry.hits`\n   - preserve first available icon URL\n4. Sort desc by damage and keep top rows for rendering.\n\n### Why Some Skill Names Can Look Off-Class\n\nSkill names in incoming strike tables are tied to damage event ids in EI\ndamage distributions, not to profession skill catalogs. Because of that,\noff-class-looking names can appear in a class bucket (for example via\nreflected/returned projectiles, transformed skills, or attribution context).\nThis is expected under the current event-id attribution model.\n\n### Implementation\n\n- Aggregation/precompute:\n  - `src/renderer/stats/computeStatsAggregation.ts` (`incomingStrikeDamage`)\n- Runtime selection/drilldown/table rows:\n  - `src/renderer/StatsView.tsx`\n- UI rendering (card, chart, drilldown, skill table):\n  - `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Timeline / Map Distribution / Fight Breakdown\n\nThese sections use log-level metadata:\n- `details.uploadTime`, `details.durationMS`, `details.success`\n- `details.targets` (enemy counts, fake target filtering)\n- `details.zone`/`mapName`/`map`/`location`/`fightName` for map labels\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Squad Composition\n\nSquad composition is derived from each player\'s resolved profession name\nand aggregated across logs.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Attendance Ledger\n\nAttendance is computed from squad-player participation across all valid logs.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, account/name/profession/group)\n- `players[*].activeTimes[0]`\n- `details.durationMS` (fallback when active time is missing)\n\n### Player Inclusion\n\n- Include only squad players: `!player.notInSquad`.\n- Player key for aggregation is:\n  - `player.account` when present and not `"Unknown"`\n  - otherwise `player.name`\n\n### Time Aggregation\n\nPer squad player entry:\n\n- `activeMs = players[*].activeTimes[0]` when numeric, else `details.durationMS || 0`\n- `combatTimeMs[player] += activeMs`\n- if profession is known:\n  - `professionTimeMs[player][profession] += activeMs`\n\nAlso track appearance window per player:\n\n- `firstSeenFightTs`: earliest fight timestamp where player appears in squad\n- `lastSeenFightTs`: latest fight timestamp where player appears in squad\n- `lastSeenFightDurationMs`: duration of that latest fight\n\nFinal elapsed squad time:\n\n- `squadTimeMs = max(0, (lastSeenFightTs + lastSeenFightDurationMs) - firstSeenFightTs)`\n- fallback to `combatTimeMs` when timestamps are unavailable\n\nCharacter names shown in attendance are the unique set of `player.name` values\nseen for that player key.\n\n### Row Shape / Sorting\n\nFor each aggregated player:\n\n- `account`: aggregation key\n- `characterNames`: unique character names, sorted ascending\n- `classTimes`: entries from `professionTimeMs`, filtered to\n  - `profession !== "Unknown"`\n  - `timeMs > 0`\n- `combatTimeMs`: total active combat time\n- `squadTimeMs`: elapsed time between first seen fight start and last seen fight end\n\nRows are sorted by:\n1. `squadTimeMs` descending\n2. `account` ascending\n\nRows with `account` missing/`"Unknown"` are excluded from final output.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`attendanceData`).\n\n## Squad Comp By Fight\n\nThis section provides per-fight party-line roster composition.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, group, account/name/profession)\n- `details.durationMS`\n- fight metadata/time fields used by `resolveFightTimestamp` and `resolveMapName`\n\n### Fight Ordering\n\nFights are sorted by resolved fight timestamp ascending:\n\n- `uploadTime`\n- fallback: `timeStartStd`, `timeStart`, `timeEndStd`, `timeEnd`\n\n### Party Assignment\n\nFor each squad player (`!player.notInSquad`) in a fight:\n\n- `party = Number(player.group)` when finite and `> 0`, else `0` (`Unassigned`)\n- profession label is normalized via `resolveProfessionLabel(...)`\n\nPer party:\n\n- append player row `{ account, characterName, profession }`\n- increment `classCounts[profession] += 1`\n\n### Party / Player Sorting\n\nWithin each party:\n\n- players are sorted by `profession`, then `account` ascending\n\nParty rows are sorted by:\n1. party number ascending for `1..n`\n2. party `0` (`Unassigned`) last\n\n### Output Shape\n\nPer fight:\n\n- `id`: file/log id fallback chain\n- `label`: `F{index+1}` in timestamp-sorted order\n- `timestamp`: resolved fight timestamp\n- `mapName`: resolved map name\n- `duration`: `formatDurationMs(details.durationMS)`\n- `parties`: sorted party rows with class counts and account list\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`squadCompByFight`).\n\n## Top Stats / MVP\n\nTop stats are computed by ranking the leaderboards for key metrics (down\ncontribution, barrier, healing, cleanses, strips, stability, CC, etc).\nMVP scoring uses weighted ratios against these leaderboards and is configured\nvia `statsViewSettings` + `mvpWeights`.\n\nParticipation is computed as `logsJoined` (number of logs where the player\nappears in the squad).\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Known Caveats\n\n- EI JSON versions can add/remove fields; missing fields always fall back to `0`.\n- `distToCom` and `stackDist` are not guaranteed to exist in every log; `distanceToTag` may be `0`.\n- Incoming CC/strips use weighted skill mappings; mismatches can occur if EI changes skill ids or hit accounting.\n- Stability generation depends on buff metadata presence (`buffMap`) and correct `durationMS`.\n- Damage uses `dpsAll[0].damage` (player total) rather than summing per-target totals, which may differ when targets are filtered or merged.\n- Skill usage totals are raw cast counts unless the per-second view is selected; missing `activeTimes` falls back to log duration for rate calculations.\n- Some detailed WvW EI exports may contain outlier values in `totalDamageDist`\n  (notably `max` on specific skill rows). Spike-hit and target-mode outgoing\n  aggregations prefer/anchor to `targetDamageDist` to reduce false outliers.\n\n## Manifest & Field Usage\n\nThe dev dataset manifest is generated by the app when exporting logs. It is\nstored as `dev/datasets/<dataset>/manifest.json` and contains:\n\n- `id`: log id or generated id\n- `filePath`: relative path to the log JSON\n- `fightName`\n- `encounterDuration`\n- `uploadTime`\n- `timeStart`\n- `timeStartStd`\n- `durationMS`\n- `success`\n- `playerCount`\n- `squadCount`\n- `nonSquadCount`\n\nStats calculations **do not** use the manifest fields directly; the manifest\nis used for listing logs and metadata only. All computations are derived from\nthe EI JSON log payload fields listed in the **Input Contract** and the\nsections above.\n',N$=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),yv=x.createContext({}),eN=x.createContext(null),bv=typeof document<"u",Ude=bv?x.useLayoutEffect:x.useEffect,C$=x.createContext({strict:!1}),tN=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Vde="framerAppearId",j$="data-"+tN(Vde);function Wde(e,t,n,r){const{visualElement:i}=x.useContext(yv),a=x.useContext(C$),s=x.useContext(eN),o=x.useContext(N$).reducedMotion,l=x.useRef();r=r||a.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:o}));const c=l.current;x.useInsertionEffect(()=>{c&&c.update(n,s)});const d=x.useRef(!!(n[j$]&&!window.HandoffComplete));return Ude(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),x.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function pu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Hde(e,t,n){return x.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):pu(n)&&(n.current=r))},[t])}function Zf(e){return typeof e=="string"||Array.isArray(e)}function wv(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const nN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],rN=["initial",...nN];function kv(e){return wv(e.animate)||rN.some(t=>Zf(e[t]))}function A$(e){return!!(kv(e)||e.variants)}function qde(e,t){if(kv(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Zf(n)?n:void 0,animate:Zf(r)?r:void 0}}return e.inherit!==!1?t:{}}function Kde(e){const{initial:t,animate:n}=qde(e,x.useContext(yv));return x.useMemo(()=>({initial:t,animate:n}),[KT(t),KT(n)])}function KT(e){return Array.isArray(e)?e.join(" "):e}const GT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Jf={};for(const e in GT)Jf[e]={isEnabled:t=>GT[e].some(n=>!!t[n])};function Gde(e){for(const t in e)Jf[t]={...Jf[t],...e[t]}}const P$=x.createContext({}),T$=x.createContext({}),Yde=Symbol.for("motionComponentSymbol");function Xde({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&Gde(e);function a(o,l){let c;const d={...x.useContext(N$),...o,layoutId:Qde(o)},{isStatic:f}=d,h=Kde(o),m=r(o,f);if(!f&&bv){h.visualElement=Wde(i,m,d,t);const p=x.useContext(T$),g=x.useContext(C$).strict;h.visualElement&&(c=h.visualElement.loadFeatures(d,g,e,p))}return x.createElement(yv.Provider,{value:h},c&&h.visualElement?x.createElement(c,{visualElement:h.visualElement,...d}):null,n(i,o,Hde(m,h.visualElement,l),m,f,h.visualElement))}const s=x.forwardRef(a);return s[Yde]=i,s}function Qde({layoutId:e}){const t=x.useContext(P$).id;return t&&e!==void 0?t+"-"+e:e}function Zde(e){function t(r,i={}){return Xde(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const Jde=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function iN(e){return typeof e!="string"||e.includes("-")?!1:!!(Jde.indexOf(e)>-1||/[A-Z]/.test(e))}const Bg={};function efe(e){Object.assign(Bg,e)}const Bm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Tc=new Set(Bm);function E$(e,{layout:t,layoutId:n}){return Tc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Bg[e]||e==="opacity")}const ia=e=>!!(e&&e.getVelocity),tfe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nfe=Bm.length;function rfe(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let a="";for(let s=0;s<nfe;s++){const o=Bm[s];if(e[o]!==void 0){const l=tfe[o]||o;a+=`${l}(${e[o]}) `}}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(e,r?"":a):n&&r&&(a="none"),a}const D$=e=>t=>typeof t=="string"&&t.startsWith(e),M$=D$("--"),hw=D$("var(--"),ife=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,afe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,fl=(e,t,n)=>Math.min(Math.max(n,e),t),Ec={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},sf={...Ec,transform:e=>fl(0,1,e)},Fh={...Ec,default:1},of=e=>Math.round(e*1e5)/1e5,Sv=/(-)?([\d]*\.?[\d])+/g,O$=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,sfe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function zm(e){return typeof e=="string"}const Um=e=>({test:t=>zm(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Fo=Um("deg"),$s=Um("%"),Ht=Um("px"),ofe=Um("vh"),lfe=Um("vw"),YT={...$s,parse:e=>$s.parse(e)/100,transform:e=>$s.transform(e*100)},XT={...Ec,transform:Math.round},I$={borderWidth:Ht,borderTopWidth:Ht,borderRightWidth:Ht,borderBottomWidth:Ht,borderLeftWidth:Ht,borderRadius:Ht,radius:Ht,borderTopLeftRadius:Ht,borderTopRightRadius:Ht,borderBottomRightRadius:Ht,borderBottomLeftRadius:Ht,width:Ht,maxWidth:Ht,height:Ht,maxHeight:Ht,size:Ht,top:Ht,right:Ht,bottom:Ht,left:Ht,padding:Ht,paddingTop:Ht,paddingRight:Ht,paddingBottom:Ht,paddingLeft:Ht,margin:Ht,marginTop:Ht,marginRight:Ht,marginBottom:Ht,marginLeft:Ht,rotate:Fo,rotateX:Fo,rotateY:Fo,rotateZ:Fo,scale:Fh,scaleX:Fh,scaleY:Fh,scaleZ:Fh,skew:Fo,skewX:Fo,skewY:Fo,distance:Ht,translateX:Ht,translateY:Ht,translateZ:Ht,x:Ht,y:Ht,z:Ht,perspective:Ht,transformPerspective:Ht,opacity:sf,originX:YT,originY:YT,originZ:Ht,zIndex:XT,fillOpacity:sf,strokeOpacity:sf,numOctaves:XT};function aN(e,t,n,r){const{style:i,vars:a,transform:s,transformOrigin:o}=e;let l=!1,c=!1,d=!0;for(const f in t){const h=t[f];if(M$(f)){a[f]=h;continue}const m=I$[f],p=afe(h,m);if(Tc.has(f)){if(l=!0,s[f]=p,!d)continue;h!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(c=!0,o[f]=p):i[f]=p}if(t.transform||(l||r?i.transform=rfe(e.transform,n,d,r):i.transform&&(i.transform="none")),c){const{originX:f="50%",originY:h="50%",originZ:m=0}=o;i.transformOrigin=`${f} ${h} ${m}`}}const sN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _$(e,t,n){for(const r in t)!ia(t[r])&&!E$(r,n)&&(e[r]=t[r])}function cfe({transformTemplate:e},t,n){return x.useMemo(()=>{const r=sN();return aN(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function ufe(e,t,n){const r=e.style||{},i={};return _$(i,r,e),Object.assign(i,cfe(e,t,n)),e.transformValues?e.transformValues(i):i}function dfe(e,t,n){const r={},i=ufe(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const ffe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function zg(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||ffe.has(e)}let L$=e=>!zg(e);function mfe(e){e&&(L$=t=>t.startsWith("on")?!zg(t):e(t))}try{mfe(require("@emotion/is-prop-valid").default)}catch{}function hfe(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(L$(i)||n===!0&&zg(i)||!t&&!zg(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function QT(e,t,n){return typeof e=="string"?e:Ht.transform(t+n*e)}function pfe(e,t,n){const r=QT(t,e.x,e.width),i=QT(n,e.y,e.height);return`${r} ${i}`}const gfe={offset:"stroke-dashoffset",array:"stroke-dasharray"},vfe={offset:"strokeDashoffset",array:"strokeDasharray"};function xfe(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?gfe:vfe;e[a.offset]=Ht.transform(-r);const s=Ht.transform(t),o=Ht.transform(n);e[a.array]=`${s} ${o}`}function oN(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:a,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...c},d,f,h){if(aN(e,c,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:p,dimensions:g}=e;m.transform&&(g&&(p.transform=m.transform),delete m.transform),g&&(i!==void 0||a!==void 0||p.transform)&&(p.transformOrigin=pfe(g,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&xfe(m,s,o,l,!1)}const $$=()=>({...sN(),attrs:{}}),lN=e=>typeof e=="string"&&e.toLowerCase()==="svg";function yfe(e,t,n,r){const i=x.useMemo(()=>{const a=$$();return oN(a,t,{enableHardwareAcceleration:!1},lN(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};_$(a,e.style,e),i.style={...a,...i.style}}return i}function bfe(e=!1){return(n,r,i,{latestValues:a},s)=>{const l=(iN(n)?yfe:dfe)(r,a,s,n),d={...hfe(r,typeof n=="string",e),...l,ref:i},{children:f}=r,h=x.useMemo(()=>ia(f)?f.get():f,[f]);return x.createElement(n,{...d,children:h})}}function F$(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}const R$=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function B$(e,t,n,r){F$(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(R$.has(i)?i:tN(i),t.attrs[i])}function cN(e,t){const{style:n}=e,r={};for(const i in n)(ia(n[i])||t.style&&ia(t.style[i])||E$(i,e))&&(r[i]=n[i]);return r}function z$(e,t){const n=cN(e,t);for(const r in e)if(ia(e[r])||ia(t[r])){const i=Bm.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function uN(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function wfe(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ug=e=>Array.isArray(e),kfe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Sfe=e=>Ug(e)?e[e.length-1]||0:e;function dp(e){const t=ia(e)?e.get():e;return kfe(t)?t.toValue():t}function Nfe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,a){const s={latestValues:Cfe(r,i,a,e),renderState:t()};return n&&(s.mount=o=>n(r,o,s)),s}const U$=e=>(t,n)=>{const r=x.useContext(yv),i=x.useContext(eN),a=()=>Nfe(e,t,r,i);return n?a():wfe(a)};function Cfe(e,t,n,r){const i={},a=r(e,{});for(const h in a)i[h]=dp(a[h]);let{initial:s,animate:o}=e;const l=kv(e),c=A$(e);t&&c&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const f=d?o:s;return f&&typeof f!="boolean"&&!wv(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const p=uN(e,m);if(!p)return;const{transitionEnd:g,transition:y,...v}=p;for(const b in v){let w=v[b];if(Array.isArray(w)){const S=d?w.length-1:0;w=w[S]}w!==null&&(i[b]=w)}for(const b in g)i[b]=g[b]}),i}const Dr=e=>e;class ZT{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function jfe(e){let t=new ZT,n=new ZT,r=0,i=!1,a=!1;const s=new WeakSet,o={schedule:(l,c=!1,d=!1)=>{const f=d&&i,h=f?t:n;return c&&s.add(l),h.add(l)&&f&&i&&(r=t.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(i){a=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let c=0;c<r;c++){const d=t.order[c];d(l),s.has(d)&&(o.schedule(d),e())}i=!1,a&&(a=!1,o.process(l))}};return o}const Rh=["prepare","read","update","preRender","render","postRender"],Afe=40;function Pfe(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=Rh.reduce((f,h)=>(f[h]=jfe(()=>n=!0),f),{}),s=f=>a[f].process(i),o=()=>{const f=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,Afe),1),i.timestamp=f,i.isProcessing=!0,Rh.forEach(s),i.isProcessing=!1,n&&t&&(r=!1,e(o))},l=()=>{n=!0,r=!0,i.isProcessing||e(o)};return{schedule:Rh.reduce((f,h)=>{const m=a[h];return f[h]=(p,g=!1,y=!1)=>(n||l(),m.schedule(p,g,y)),f},{}),cancel:f=>Rh.forEach(h=>a[h].cancel(f)),state:i,steps:a}}const{schedule:sr,cancel:bo,state:Si,steps:Gx}=Pfe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Dr,!0),Tfe={useVisualState:U$({scrapeMotionValuesFromProps:z$,createRenderState:$$,onMount:(e,t,{renderState:n,latestValues:r})=>{sr.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),sr.render(()=>{oN(n,r,{enableHardwareAcceleration:!1},lN(t.tagName),e.transformTemplate),B$(t,n)})}})},Efe={useVisualState:U$({scrapeMotionValuesFromProps:cN,createRenderState:sN})};function Dfe(e,{forwardMotionProps:t=!1},n,r){return{...iN(e)?Tfe:Efe,preloadedFeatures:n,useRender:bfe(t),createVisualElement:r,Component:e}}function ro(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const V$=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Nv(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Mfe=e=>t=>V$(t)&&e(t,Nv(t));function oo(e,t,n,r){return ro(e,t,Mfe(n),r)}const Ofe=(e,t)=>n=>t(e(n)),ol=(...e)=>e.reduce(Ofe);function W$(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const JT=W$("dragHorizontal"),eE=W$("dragVertical");function H$(e){let t=!1;if(e==="y")t=eE();else if(e==="x")t=JT();else{const n=JT(),r=eE();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function q$(){const e=H$(!0);return e?(e(),!1):!0}class kl{constructor(t){this.isMounted=!1,this.node=t}update(){}}function tE(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(a,s)=>{if(a.pointerType==="touch"||q$())return;const o=e.getProps();e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",t),o[r]&&sr.update(()=>o[r](a,s))};return oo(e.current,n,i,{passive:!e.getProps()[r]})}class Ife extends kl{mount(){this.unmount=ol(tE(this.node,!0),tE(this.node,!1))}unmount(){}}class _fe extends kl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ol(ro(this.node.current,"focus",()=>this.onFocus()),ro(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const K$=(e,t)=>t?e===t?!0:K$(e,t.parentElement):!1;function Yx(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Nv(n))}class Lfe extends kl{constructor(){super(...arguments),this.removeStartListeners=Dr,this.removeEndListeners=Dr,this.removeAccessibleListeners=Dr,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=oo(window,"pointerup",(o,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:f}=this.node.getProps();sr.update(()=>{!f&&!K$(this.node.current,o.target)?d&&d(o,l):c&&c(o,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=oo(window,"pointercancel",(o,l)=>this.cancelPress(o,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=ol(a,s),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const s=o=>{o.key!=="Enter"||!this.checkPressEnd()||Yx("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&sr.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=ro(this.node.current,"keyup",s),Yx("down",(o,l)=>{this.startPress(o,l)})},n=ro(this.node.current,"keydown",t),r=()=>{this.isPressing&&Yx("cancel",(a,s)=>this.cancelPress(a,s))},i=ro(this.node.current,"blur",r);this.removeAccessibleListeners=ol(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&sr.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!q$()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&sr.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=oo(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=ro(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ol(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const pw=new WeakMap,Xx=new WeakMap,$fe=e=>{const t=pw.get(e.target);t&&t(e)},Ffe=e=>{e.forEach($fe)};function Rfe({root:e,...t}){const n=e||document;Xx.has(n)||Xx.set(n,{});const r=Xx.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Ffe,{root:e,...t})),r[i]}function Bfe(e,t,n){const r=Rfe(t);return pw.set(e,n),r.observe(e),()=>{pw.delete(e),r.unobserve(e)}}const zfe={some:0,all:1};class Ufe extends kl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:zfe[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=c?d:f;h&&h(l)};return Bfe(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Vfe(t,n))&&this.startObserver()}unmount(){}}function Vfe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Wfe={inView:{Feature:Ufe},tap:{Feature:Lfe},focus:{Feature:_fe},hover:{Feature:Ife}};function G$(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Hfe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function qfe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Cv(e,t,n){const r=e.getProps();return uN(r,t,n!==void 0?n:r.custom,Hfe(e),qfe(e))}let dN=Dr;const oc=e=>e*1e3,lo=e=>e/1e3,Kfe={current:!1},Y$=e=>Array.isArray(e)&&typeof e[0]=="number";function X$(e){return!!(!e||typeof e=="string"&&Q$[e]||Y$(e)||Array.isArray(e)&&e.every(X$))}const Wd=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Q$={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wd([0,.65,.55,1]),circOut:Wd([.55,0,1,.45]),backIn:Wd([.31,.01,.66,-.59]),backOut:Wd([.33,1.53,.69,.99])};function Z$(e){if(e)return Y$(e)?Wd(e):Array.isArray(e)?e.map(Z$):Q$[e]}function Gfe(e,t,n,{delay:r=0,duration:i,repeat:a=0,repeatType:s="loop",ease:o,times:l}={}){const c={[t]:n};l&&(c.offset=l);const d=Z$(o);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"})}function Yfe(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const J$=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Xfe=1e-7,Qfe=12;function Zfe(e,t,n,r,i){let a,s,o=0;do s=t+(n-t)/2,a=J$(s,r,i)-e,a>0?n=s:t=s;while(Math.abs(a)>Xfe&&++o<Qfe);return s}function Vm(e,t,n,r){if(e===t&&n===r)return Dr;const i=a=>Zfe(a,0,1,e,n);return a=>a===0||a===1?a:J$(i(a),t,r)}const Jfe=Vm(.42,0,1,1),eme=Vm(0,0,.58,1),eF=Vm(.42,0,.58,1),tme=e=>Array.isArray(e)&&typeof e[0]!="number",tF=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,nF=e=>t=>1-e(1-t),fN=e=>1-Math.sin(Math.acos(e)),rF=nF(fN),nme=tF(fN),iF=Vm(.33,1.53,.69,.99),mN=nF(iF),rme=tF(mN),ime=e=>(e*=2)<1?.5*mN(e):.5*(2-Math.pow(2,-10*(e-1))),ame={linear:Dr,easeIn:Jfe,easeInOut:eF,easeOut:eme,circIn:fN,circInOut:nme,circOut:rF,backIn:mN,backInOut:rme,backOut:iF,anticipate:ime},nE=e=>{if(Array.isArray(e)){dN(e.length===4);const[t,n,r,i]=e;return Vm(t,n,r,i)}else if(typeof e=="string")return ame[e];return e},hN=(e,t)=>n=>!!(zm(n)&&sfe.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),aF=(e,t,n)=>r=>{if(!zm(r))return r;const[i,a,s,o]=r.match(Sv);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},sme=e=>fl(0,255,e),Qx={...Ec,transform:e=>Math.round(sme(e))},Jl={test:hN("rgb","red"),parse:aF("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Qx.transform(e)+", "+Qx.transform(t)+", "+Qx.transform(n)+", "+of(sf.transform(r))+")"};function ome(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const gw={test:hN("#"),parse:ome,transform:Jl.transform},gu={test:hN("hsl","hue"),parse:aF("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+$s.transform(of(t))+", "+$s.transform(of(n))+", "+of(sf.transform(r))+")"},Li={test:e=>Jl.test(e)||gw.test(e)||gu.test(e),parse:e=>Jl.test(e)?Jl.parse(e):gu.test(e)?gu.parse(e):gw.parse(e),transform:e=>zm(e)?e:e.hasOwnProperty("red")?Jl.transform(e):gu.transform(e)},gr=(e,t,n)=>-n*e+n*t+e;function Zx(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function lme({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,s=0;if(!t)i=a=s=n;else{const o=n<.5?n*(1+t):n+t-n*t,l=2*n-o;i=Zx(l,o,e+1/3),a=Zx(l,o,e),s=Zx(l,o,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}const Jx=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},cme=[gw,Jl,gu],ume=e=>cme.find(t=>t.test(e));function rE(e){const t=ume(e);let n=t.parse(e);return t===gu&&(n=lme(n)),n}const sF=(e,t)=>{const n=rE(e),r=rE(t),i={...n};return a=>(i.red=Jx(n.red,r.red,a),i.green=Jx(n.green,r.green,a),i.blue=Jx(n.blue,r.blue,a),i.alpha=gr(n.alpha,r.alpha,a),Jl.transform(i))};function dme(e){var t,n;return isNaN(e)&&zm(e)&&(((t=e.match(Sv))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(O$))===null||n===void 0?void 0:n.length)||0)>0}const oF={regex:ife,countKey:"Vars",token:"${v}",parse:Dr},lF={regex:O$,countKey:"Colors",token:"${c}",parse:Li.parse},cF={regex:Sv,countKey:"Numbers",token:"${n}",parse:Ec.parse};function ey(e,{regex:t,countKey:n,token:r,parse:i}){const a=e.tokenised.match(t);a&&(e["num"+n]=a.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...a.map(i)))}function Vg(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&ey(n,oF),ey(n,lF),ey(n,cF),n}function uF(e){return Vg(e).values}function dF(e){const{values:t,numColors:n,numVars:r,tokenised:i}=Vg(e),a=t.length;return s=>{let o=i;for(let l=0;l<a;l++)l<r?o=o.replace(oF.token,s[l]):l<r+n?o=o.replace(lF.token,Li.transform(s[l])):o=o.replace(cF.token,of(s[l]));return o}}const fme=e=>typeof e=="number"?0:e;function mme(e){const t=uF(e);return dF(e)(t.map(fme))}const ml={test:dme,parse:uF,createTransformer:dF,getAnimatableNone:mme},fF=(e,t)=>n=>`${n>0?t:e}`;function mF(e,t){return typeof e=="number"?n=>gr(e,t,n):Li.test(e)?sF(e,t):e.startsWith("var(")?fF(e,t):pF(e,t)}const hF=(e,t)=>{const n=[...e],r=n.length,i=e.map((a,s)=>mF(a,t[s]));return a=>{for(let s=0;s<r;s++)n[s]=i[s](a);return n}},hme=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=mF(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}},pF=(e,t)=>{const n=ml.createTransformer(t),r=Vg(e),i=Vg(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?ol(hF(r.values,i.values),n):fF(e,t)},em=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},iE=(e,t)=>n=>gr(e,t,n);function pme(e){return typeof e=="number"?iE:typeof e=="string"?Li.test(e)?sF:pF:Array.isArray(e)?hF:typeof e=="object"?hme:iE}function gme(e,t,n){const r=[],i=n||pme(e[0]),a=e.length-1;for(let s=0;s<a;s++){let o=i(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||Dr:t;o=ol(l,o)}r.push(o)}return r}function gF(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(dN(a===t.length),a===1)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=gme(t,r,i),o=s.length,l=c=>{let d=0;if(o>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const f=em(e[d],e[d+1],c);return s[d](f)};return n?c=>l(fl(e[0],e[a-1],c)):l}function vme(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=em(0,t,r);e.push(gr(n,1,i))}}function xme(e){const t=[0];return vme(t,e.length-1),t}function yme(e,t){return e.map(n=>n*t)}function bme(e,t){return e.map(()=>t||eF).splice(0,e.length-1)}function Wg({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=tme(r)?r.map(nE):nE(r),a={done:!1,value:t[0]},s=yme(n&&n.length===t.length?n:xme(t),e),o=gF(s,t,{ease:Array.isArray(i)?i:bme(t,i)});return{calculatedDuration:e,next:l=>(a.value=o(l),a.done=l>=e,a)}}function vF(e,t){return t?e*(1e3/t):0}const wme=5;function xF(e,t,n){const r=Math.max(t-wme,0);return vF(n-e(r),t-r)}const ty=.001,kme=.01,Sme=10,Nme=.05,Cme=1;function jme({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,a,s=1-t;s=fl(Nme,Cme,s),e=fl(kme,Sme,lo(e)),s<1?(i=c=>{const d=c*s,f=d*e,h=d-n,m=vw(c,s),p=Math.exp(-f);return ty-h/m*p},a=c=>{const f=c*s*e,h=f*n+n,m=Math.pow(s,2)*Math.pow(c,2)*e,p=Math.exp(-f),g=vw(Math.pow(c,2),s);return(-i(c)+ty>0?-1:1)*((h-m)*p)/g}):(i=c=>{const d=Math.exp(-c*e),f=(c-n)*e+1;return-ty+d*f},a=c=>{const d=Math.exp(-c*e),f=(n-c)*(e*e);return d*f});const o=5/e,l=Pme(i,a,o);if(e=oc(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:e}}}const Ame=12;function Pme(e,t,n){let r=n;for(let i=1;i<Ame;i++)r=r-e(r)/t(r);return r}function vw(e,t){return e*Math.sqrt(1-t*t)}const Tme=["duration","bounce"],Eme=["stiffness","damping","mass"];function aE(e,t){return t.some(n=>e[n]!==void 0)}function Dme(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!aE(e,Eme)&&aE(e,Tme)){const n=jme(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function yF({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],a=e[e.length-1],s={done:!1,value:i},{stiffness:o,damping:l,mass:c,duration:d,velocity:f,isResolvedFromDuration:h}=Dme({...r,velocity:-lo(r.velocity||0)}),m=f||0,p=l/(2*Math.sqrt(o*c)),g=a-i,y=lo(Math.sqrt(o/c)),v=Math.abs(g)<5;n||(n=v?.01:2),t||(t=v?.005:.5);let b;if(p<1){const w=vw(y,p);b=S=>{const C=Math.exp(-p*y*S);return a-C*((m+p*y*g)/w*Math.sin(w*S)+g*Math.cos(w*S))}}else if(p===1)b=w=>a-Math.exp(-y*w)*(g+(m+y*g)*w);else{const w=y*Math.sqrt(p*p-1);b=S=>{const C=Math.exp(-p*y*S),N=Math.min(w*S,300);return a-C*((m+p*y*g)*Math.sinh(N)+w*g*Math.cosh(N))/w}}return{calculatedDuration:h&&d||null,next:w=>{const S=b(w);if(h)s.done=w>=d;else{let C=m;w!==0&&(p<1?C=xF(b,w,S):C=0);const N=Math.abs(C)<=n,A=Math.abs(a-S)<=t;s.done=N&&A}return s.value=s.done?a:S,s}}}function sE({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=E=>o!==void 0&&E<o||l!==void 0&&E>l,p=E=>o===void 0?l:l===void 0||Math.abs(o-E)<Math.abs(l-E)?o:l;let g=n*t;const y=f+g,v=s===void 0?y:s(y);v!==y&&(g=v-f);const b=E=>-g*Math.exp(-E/r),w=E=>v+b(E),S=E=>{const $=b(E),T=w(E);h.done=Math.abs($)<=c,h.value=h.done?v:T};let C,N;const A=E=>{m(h.value)&&(C=E,N=yF({keyframes:[h.value,p(h.value)],velocity:xF(w,E,h.value),damping:i,stiffness:a,restDelta:c,restSpeed:d}))};return A(0),{calculatedDuration:null,next:E=>{let $=!1;return!N&&C===void 0&&($=!0,S(E),A(E)),C!==void 0&&E>C?N.next(E-C):(!$&&S(E),h)}}}const Mme=e=>{const t=({timestamp:n})=>e(n);return{start:()=>sr.update(t,!0),stop:()=>bo(t),now:()=>Si.isProcessing?Si.timestamp:performance.now()}},oE=2e4;function lE(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<oE;)t+=n,r=e.next(t);return t>=oE?1/0:t}const Ome={decay:sE,inertia:sE,tween:Wg,keyframes:Wg,spring:yF};function Hg({autoplay:e=!0,delay:t=0,driver:n=Mme,keyframes:r,type:i="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:o="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:f,...h}){let m=1,p=!1,g,y;const v=()=>{y=new Promise(j=>{g=j})};v();let b;const w=Ome[i]||Wg;let S;w!==Wg&&typeof r[0]!="number"&&(S=gF([0,100],r,{clamp:!1}),r=[0,100]);const C=w({...h,keyframes:r});let N;o==="mirror"&&(N=w({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let A="idle",E=null,$=null,T=null;C.calculatedDuration===null&&a&&(C.calculatedDuration=lE(C));const{calculatedDuration:M}=C;let O=1/0,Y=1/0;M!==null&&(O=M+s,Y=O*(a+1)-s);let Q=0;const re=j=>{if($===null)return;m>0&&($=Math.min($,j)),m<0&&($=Math.min(j-Y/m,$)),E!==null?Q=E:Q=Math.round(j-$)*m;const U=Q-t*(m>=0?1:-1),k=m>=0?U<0:U>Y;Q=Math.max(U,0),A==="finished"&&E===null&&(Q=Y);let _=Q,ae=C;if(a){const F=Math.min(Q,Y)/O;let J=Math.floor(F),ue=F%1;!ue&&F>=1&&(ue=1),ue===1&&J--,J=Math.min(J,a+1),!!(J%2)&&(o==="reverse"?(ue=1-ue,s&&(ue-=s/O)):o==="mirror"&&(ae=N)),_=fl(0,1,ue)*O}const ee=k?{done:!1,value:r[0]}:ae.next(_);S&&(ee.value=S(ee.value));let{done:V}=ee;!k&&M!==null&&(V=m>=0?Q>=Y:Q<=0);const ne=E===null&&(A==="finished"||A==="running"&&V);return f&&f(ee.value),ne&&G(),ee},ce=()=>{b&&b.stop(),b=void 0},K=()=>{A="idle",ce(),g(),v(),$=T=null},G=()=>{A="finished",d&&d(),ce(),g()},L=()=>{if(p)return;b||(b=n(re));const j=b.now();l&&l(),E!==null?$=j-E:(!$||A==="finished")&&($=j),A==="finished"&&v(),T=$,E=null,A="running",b.start()};e&&L();const P={then(j,U){return y.then(j,U)},get time(){return lo(Q)},set time(j){j=oc(j),Q=j,E!==null||!b||m===0?E=j:$=b.now()-j/m},get duration(){const j=C.calculatedDuration===null?lE(C):C.calculatedDuration;return lo(j)},get speed(){return m},set speed(j){j===m||!b||(m=j,P.time=lo(Q))},get state(){return A},play:L,pause:()=>{A="paused",E=Q},stop:()=>{p=!0,A!=="idle"&&(A="idle",c&&c(),K())},cancel:()=>{T!==null&&re(T),K()},complete:()=>{A="finished"},sample:j=>($=0,re(j))};return P}function Ime(e){let t;return()=>(t===void 0&&(t=e()),t)}const _me=Ime(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Lme=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Bh=10,$me=2e4,Fme=(e,t)=>t.type==="spring"||e==="backgroundColor"||!X$(t.ease);function Rme(e,t,{onUpdate:n,onComplete:r,...i}){if(!(_me()&&Lme.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,o,l,c=!1;const d=()=>{l=new Promise(w=>{o=w})};d();let{keyframes:f,duration:h=300,ease:m,times:p}=i;if(Fme(t,i)){const w=Hg({...i,repeat:0,delay:0});let S={done:!1,value:f[0]};const C=[];let N=0;for(;!S.done&&N<$me;)S=w.sample(N),C.push(S.value),N+=Bh;p=void 0,f=C,h=N-Bh,m="linear"}const g=Gfe(e.owner.current,t,f,{...i,duration:h,ease:m,times:p}),y=()=>{c=!1,g.cancel()},v=()=>{c=!0,sr.update(y),o(),d()};return g.onfinish=()=>{c||(e.set(Yfe(f,i)),r&&r(),v())},{then(w,S){return l.then(w,S)},attachTimeline(w){return g.timeline=w,g.onfinish=null,Dr},get time(){return lo(g.currentTime||0)},set time(w){g.currentTime=oc(w)},get speed(){return g.playbackRate},set speed(w){g.playbackRate=w},get duration(){return lo(h)},play:()=>{s||(g.play(),bo(y))},pause:()=>g.pause(),stop:()=>{if(s=!0,g.playState==="idle")return;const{currentTime:w}=g;if(w){const S=Hg({...i,autoplay:!1});e.setWithVelocity(S.sample(w-Bh).value,S.sample(w).value,Bh)}v()},complete:()=>{c||g.finish()},cancel:v}}function Bme({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Dr,pause:Dr,stop:Dr,then:a=>(a(),Promise.resolve()),cancel:Dr,complete:Dr});return t?Hg({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const zme={type:"spring",stiffness:500,damping:25,restSpeed:10},Ume=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Vme={type:"keyframes",duration:.8},Wme={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Hme=(e,{keyframes:t})=>t.length>2?Vme:Tc.has(e)?e.startsWith("scale")?Ume(t[1]):zme:Wme,xw=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ml.test(t)||t==="0")&&!t.startsWith("url(")),qme=new Set(["brightness","contrast","saturate","opacity"]);function Kme(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Sv)||[];if(!r)return e;const i=n.replace(r,"");let a=qme.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const Gme=/([a-z-]*)\(.*?\)/g,yw={...ml,getAnimatableNone:e=>{const t=e.match(Gme);return t?t.map(Kme).join(" "):e}},Yme={...I$,color:Li,backgroundColor:Li,outlineColor:Li,fill:Li,stroke:Li,borderColor:Li,borderTopColor:Li,borderRightColor:Li,borderBottomColor:Li,borderLeftColor:Li,filter:yw,WebkitFilter:yw},pN=e=>Yme[e];function bF(e,t){let n=pN(e);return n!==yw&&(n=ml),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const wF=e=>/^0[^.\s]+$/.test(e);function Xme(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||wF(e)}function Qme(e,t,n,r){const i=xw(t,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const s=r.from!==void 0?r.from:e.get();let o;const l=[];for(let c=0;c<a.length;c++)a[c]===null&&(a[c]=c===0?s:a[c-1]),Xme(a[c])&&l.push(c),typeof a[c]=="string"&&a[c]!=="none"&&a[c]!=="0"&&(o=a[c]);if(i&&l.length&&o)for(let c=0;c<l.length;c++){const d=l[c];a[d]=bF(t,o)}return a}function Zme({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function gN(e,t){return e[t]||e.default||e}const Jme={skipAnimations:!1},vN=(e,t,n,r={})=>i=>{const a=gN(r,e)||{},s=a.delay||r.delay||0;let{elapsed:o=0}=r;o=o-oc(s);const l=Qme(t,e,n,a),c=l[0],d=l[l.length-1],f=xw(e,c),h=xw(e,d);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...a,delay:-o,onUpdate:p=>{t.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(Zme(a)||(m={...m,...Hme(e,m)}),m.duration&&(m.duration=oc(m.duration)),m.repeatDelay&&(m.repeatDelay=oc(m.repeatDelay)),!f||!h||Kfe.current||a.type===!1||Jme.skipAnimations)return Bme(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const p=Rme(t,e,m);if(p)return p}return Hg(m)};function qg(e){return!!(ia(e)&&e.add)}const kF=e=>/^\-?\d*\.?\d+$/.test(e);function xN(e,t){e.indexOf(t)===-1&&e.push(t)}function yN(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class bN{constructor(){this.subscriptions=[]}add(t){return xN(this.subscriptions,t),()=>yN(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ehe=e=>!isNaN(parseFloat(e));class the{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:s}=Si;this.lastUpdated!==s&&(this.timeDelta=a,this.lastUpdated=s,sr.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>sr.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=ehe(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new bN);const r=this.events[t].add(n);return t==="change"?()=>{r(),sr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?vF(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Gu(e,t){return new the(e,t)}const SF=e=>t=>t.test(e),nhe={test:e=>e==="auto",parse:e=>e},NF=[Ec,Ht,$s,Fo,lfe,ofe,nhe],_d=e=>NF.find(SF(e)),rhe=[...NF,Li,ml],ihe=e=>rhe.find(SF(e));function ahe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Gu(n))}function she(e,t){const n=Cv(e,t);let{transitionEnd:r={},transition:i={},...a}=n?e.makeTargetAnimatable(n,!1):{};a={...a,...r};for(const s in a){const o=Sfe(a[s]);ahe(e,s,o)}}function ohe(e,t,n){var r,i;const a=Object.keys(t).filter(o=>!e.hasValue(o)),s=a.length;if(s)for(let o=0;o<s;o++){const l=a[o],c=t[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(i=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&i!==void 0?i:t[l]),d!=null&&(typeof d=="string"&&(kF(d)||wF(d))?d=parseFloat(d):!ihe(d)&&ml.test(c)&&(d=bF(l,c)),e.addValue(l,Gu(d,{owner:e})),n[l]===void 0&&(n[l]=d),d!==null&&e.setBaseTarget(l,d))}}function lhe(e,t){return t?(t[e]||t.default||t).from:void 0}function che(e,t,n){const r={};for(const i in e){const a=lhe(i,t);if(a!==void 0)r[i]=a;else{const s=n.getValue(i);s&&(r[i]=s.get())}}return r}function uhe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function dhe(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function CF(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:s,...o}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(a=r);const c=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const f in o){const h=e.getValue(f),m=o[f];if(!h||m===void 0||d&&uhe(d,f))continue;const p={delay:n,elapsed:0,...gN(a||{},f)};if(window.HandoffAppearAnimations){const v=e.getProps()[j$];if(v){const b=window.HandoffAppearAnimations(v,f,h,sr);b!==null&&(p.elapsed=b,p.isHandoff=!0)}}let g=!p.isHandoff&&!dhe(h,m);if(p.type==="spring"&&(h.getVelocity()||p.velocity)&&(g=!1),h.animation&&(g=!1),g)continue;h.start(vN(f,h,m,e.shouldReduceMotion&&Tc.has(f)?{type:!1}:p));const y=h.animation;qg(l)&&(l.add(f),y.then(()=>l.remove(f))),c.push(y)}return s&&Promise.all(c).then(()=>{s&&she(e,s)}),c}function bw(e,t,n={}){const r=Cv(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(CF(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=i;return fhe(e,t,c+l,d,f,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[l,c]=o==="beforeChildren"?[a,s]:[s,a];return l().then(()=>c())}else return Promise.all([a(),s(n.delay)])}function fhe(e,t,n=0,r=0,i=1,a){const s=[],o=(e.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>o-c*r;return Array.from(e.variantChildren).sort(mhe).forEach((c,d)=>{c.notify("AnimationStart",t),s.push(bw(c,t,{...a,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(s)}function mhe(e,t){return e.sortNodePosition(t)}function hhe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>bw(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=bw(e,t,n);else{const i=typeof t=="function"?Cv(e,t,n.custom):t;r=Promise.all(CF(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const phe=[...nN].reverse(),ghe=nN.length;function vhe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>hhe(e,n,r)))}function xhe(e){let t=vhe(e);const n=bhe();let r=!0;const i=(l,c)=>{const d=Cv(e,c);if(d){const{transition:f,transitionEnd:h,...m}=d;l={...l,...m,...h}}return l};function a(l){t=l(e)}function s(l,c){const d=e.getProps(),f=e.getVariantContext(!0)||{},h=[],m=new Set;let p={},g=1/0;for(let v=0;v<ghe;v++){const b=phe[v],w=n[b],S=d[b]!==void 0?d[b]:f[b],C=Zf(S),N=b===c?w.isActive:null;N===!1&&(g=v);let A=S===f[b]&&S!==d[b]&&C;if(A&&r&&e.manuallyAnimateOnMount&&(A=!1),w.protectedKeys={...p},!w.isActive&&N===null||!S&&!w.prevProp||wv(S)||typeof S=="boolean")continue;let $=yhe(w.prevProp,S)||b===c&&w.isActive&&!A&&C||v>g&&C,T=!1;const M=Array.isArray(S)?S:[S];let O=M.reduce(i,{});N===!1&&(O={});const{prevResolvedValues:Y={}}=w,Q={...Y,...O},re=ce=>{$=!0,m.has(ce)&&(T=!0,m.delete(ce)),w.needsAnimating[ce]=!0};for(const ce in Q){const K=O[ce],G=Y[ce];if(p.hasOwnProperty(ce))continue;let L=!1;Ug(K)&&Ug(G)?L=!G$(K,G):L=K!==G,L?K!==void 0?re(ce):m.add(ce):K!==void 0&&m.has(ce)?re(ce):w.protectedKeys[ce]=!0}w.prevProp=S,w.prevResolvedValues=O,w.isActive&&(p={...p,...O}),r&&e.blockInitialAnimation&&($=!1),$&&(!A||T)&&h.push(...M.map(ce=>({animation:ce,options:{type:b,...l}})))}if(m.size){const v={};m.forEach(b=>{const w=e.getBaseTarget(b);w!==void 0&&(v[b]=w)}),h.push({animation:v})}let y=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(h):Promise.resolve()}function o(l,c,d){var f;if(n[l].isActive===c)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var p;return(p=m.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const h=s(d,l);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>n}}function yhe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!G$(t,e):!1}function _l(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bhe(){return{animate:_l(!0),whileInView:_l(),whileHover:_l(),whileTap:_l(),whileDrag:_l(),whileFocus:_l(),exit:_l()}}class whe extends kl{constructor(t){super(t),t.animationState||(t.animationState=xhe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),wv(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let khe=0;class She extends kl{constructor(){super(...arguments),this.id=khe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&a.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Nhe={animation:{Feature:whe},exit:{Feature:She}},cE=(e,t)=>Math.abs(e-t);function Che(e,t){const n=cE(e.x,t.x),r=cE(e.y,t.y);return Math.sqrt(n**2+r**2)}class jF{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=ry(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=Che(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:p}=f,{timestamp:g}=Si;this.history.push({...p,timestamp:g});const{onStart:y,onMove:v}=this.handlers;h||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=ny(h,this.transformPagePoint),sr.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:p,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=ry(f.type==="pointercancel"?this.lastMoveEventInfo:ny(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,y),p&&p(f,y)},!V$(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=Nv(t),o=ny(s,this.transformPagePoint),{point:l}=o,{timestamp:c}=Si;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(t,ry(o,this.history)),this.removeListeners=ol(oo(this.contextWindow,"pointermove",this.handlePointerMove),oo(this.contextWindow,"pointerup",this.handlePointerUp),oo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),bo(this.updatePoint)}}function ny(e,t){return t?{point:t(e.point)}:e}function uE(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ry({point:e},t){return{point:e,delta:uE(e,AF(t)),offset:uE(e,jhe(t)),velocity:Ahe(t,.1)}}function jhe(e){return e[0]}function AF(e){return e[e.length-1]}function Ahe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=AF(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>oc(t)));)n--;if(!r)return{x:0,y:0};const a=lo(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function ja(e){return e.max-e.min}function ww(e,t=0,n=.01){return Math.abs(e-t)<=n}function dE(e,t,n,r=.5){e.origin=r,e.originPoint=gr(t.min,t.max,e.origin),e.scale=ja(n)/ja(t),(ww(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=gr(n.min,n.max,e.origin)-e.originPoint,(ww(e.translate)||isNaN(e.translate))&&(e.translate=0)}function lf(e,t,n,r){dE(e.x,t.x,n.x,r?r.originX:void 0),dE(e.y,t.y,n.y,r?r.originY:void 0)}function fE(e,t,n){e.min=n.min+t.min,e.max=e.min+ja(t)}function Phe(e,t,n){fE(e.x,t.x,n.x),fE(e.y,t.y,n.y)}function mE(e,t,n){e.min=t.min-n.min,e.max=e.min+ja(t)}function cf(e,t,n){mE(e.x,t.x,n.x),mE(e.y,t.y,n.y)}function The(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?gr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?gr(n,e,r.max):Math.min(e,n)),e}function hE(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Ehe(e,{top:t,left:n,bottom:r,right:i}){return{x:hE(e.x,n,i),y:hE(e.y,t,r)}}function pE(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Dhe(e,t){return{x:pE(e.x,t.x),y:pE(e.y,t.y)}}function Mhe(e,t){let n=.5;const r=ja(e),i=ja(t);return i>r?n=em(t.min,t.max-r,e.min):r>i&&(n=em(e.min,e.max-i,t.min)),fl(0,1,n)}function Ohe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const kw=.35;function Ihe(e=kw){return e===!1?e=0:e===!0&&(e=kw),{x:gE(e,"left","right"),y:gE(e,"top","bottom")}}function gE(e,t,n){return{min:vE(e,t),max:vE(e,n)}}function vE(e,t){return typeof e=="number"?e:e[t]||0}const xE=()=>({translate:0,scale:1,origin:0,originPoint:0}),vu=()=>({x:xE(),y:xE()}),yE=()=>({min:0,max:0}),Or=()=>({x:yE(),y:yE()});function Fa(e){return[e("x"),e("y")]}function PF({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function _he({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Lhe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function iy(e){return e===void 0||e===1}function Sw({scale:e,scaleX:t,scaleY:n}){return!iy(e)||!iy(t)||!iy(n)}function Ul(e){return Sw(e)||TF(e)||e.z||e.rotate||e.rotateX||e.rotateY}function TF(e){return bE(e.x)||bE(e.y)}function bE(e){return e&&e!=="0%"}function Kg(e,t,n){const r=e-n,i=t*r;return n+i}function wE(e,t,n,r,i){return i!==void 0&&(e=Kg(e,i,r)),Kg(e,n,r)+t}function Nw(e,t=0,n=1,r,i){e.min=wE(e.min,t,n,r,i),e.max=wE(e.max,t,n,r,i)}function EF(e,{x:t,y:n}){Nw(e.x,t.translate,t.scale,t.originPoint),Nw(e.y,n.translate,n.scale,n.originPoint)}function $he(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,s;for(let o=0;o<i;o++){a=n[o],s=a.projectionDelta;const l=a.instance;l&&l.style&&l.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&xu(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,EF(e,s)),r&&Ul(a.latestValues)&&xu(e,a.latestValues))}t.x=kE(t.x),t.y=kE(t.y)}function kE(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Vo(e,t){e.min=e.min+t,e.max=e.max+t}function SE(e,t,[n,r,i]){const a=t[i]!==void 0?t[i]:.5,s=gr(e.min,e.max,a);Nw(e,t[n],t[r],s,t.scale)}const Fhe=["x","scaleX","originX"],Rhe=["y","scaleY","originY"];function xu(e,t){SE(e.x,t,Fhe),SE(e.y,t,Rhe)}function DF(e,t){return PF(Lhe(e.getBoundingClientRect(),t))}function Bhe(e,t,n){const r=DF(e,n),{scroll:i}=t;return i&&(Vo(r.x,i.offset.x),Vo(r.y,i.offset.y)),r}const MF=({current:e})=>e?e.ownerDocument.defaultView:null,zhe=new WeakMap;class Uhe{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Or(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Nv(d,"page").point)},a=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:p}=this.getProps();if(h&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=H$(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fa(y=>{let v=this.getAxisMotionValue(y).get()||0;if($s.test(v)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[y];w&&(v=ja(w)*(parseFloat(v)/100))}}this.originPoint[y]=v}),p&&sr.update(()=>p(d,f),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},s=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:p,onDrag:g}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:y}=f;if(m&&this.currentDirection===null){this.currentDirection=Vhe(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),g&&g(d,f)},o=(d,f)=>this.stop(d,f),l=()=>Fa(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new jF(t,{onSessionStart:i,onStart:a,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:MF(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&sr.update(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!zh(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=The(s,this.constraints[t],this.elastic[t])),a.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&pu(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Ehe(i.layoutBox,n):this.constraints=!1,this.elastic=Ihe(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Fa(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=Ohe(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!pu(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=Bhe(r,i.root,this.visualElement.getTransformPagePoint());let s=Dhe(i.layout.layoutBox,a);if(n){const o=n(_he(s));this.hasMutatedConstraints=!!o,o&&(s=PF(o))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Fa(d=>{if(!zh(d,n,this.currentDirection))return;let f=l&&l[d]||{};s&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,p={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,p)});return Promise.all(c).then(o)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(vN(t,r,0,n))}stopAnimation(){Fa(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Fa(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Fa(n=>{const{drag:r}=this.getProps();if(!zh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[n];a.set(t[n]-gr(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!pu(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Fa(s=>{const o=this.getAxisMotionValue(s);if(o){const l=o.get();i[s]=Mhe({min:l,max:l},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Fa(s=>{if(!zh(s,t,null))return;const o=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];o.set(gr(l,c,i[s]))})}addListeners(){if(!this.visualElement.current)return;zhe.set(this.visualElement,this);const t=this.visualElement.current,n=oo(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();pu(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const s=ro(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Fa(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{s(),n(),a(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=kw,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function zh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Vhe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Whe extends kl{constructor(t){super(t),this.removeGroupControls=Dr,this.removeListeners=Dr,this.controls=new Uhe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Dr}unmount(){this.removeGroupControls(),this.removeListeners()}}const NE=e=>(t,n)=>{e&&sr.update(()=>e(t,n))};class Hhe extends kl{constructor(){super(...arguments),this.removePointerDownListener=Dr}onPointerDown(t){this.session=new jF(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:MF(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:NE(t),onStart:NE(n),onMove:r,onEnd:(a,s)=>{delete this.session,i&&sr.update(()=>i(a,s))}}}mount(){this.removePointerDownListener=oo(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function qhe(){const e=x.useContext(eN);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=x.useId();return x.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const fp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function CE(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ld={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ht.test(e))e=parseFloat(e);else return e;const n=CE(e,t.target.x),r=CE(e,t.target.y);return`${n}% ${r}%`}},Khe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=ml.parse(e);if(i.length>5)return r;const a=ml.createTransformer(e),s=typeof i[0]!="number"?1:0,o=n.x.scale*t.x,l=n.y.scale*t.y;i[0+s]/=o,i[1+s]/=l;const c=gr(o,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=c),typeof i[3+s]=="number"&&(i[3+s]/=c),a(i)}};class Ghe extends Yg.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;efe(Yhe),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),fp.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,s=r.projection;return s&&(s.isPresent=a,i||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?s.promote():s.relegate()||sr.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function OF(e){const[t,n]=qhe(),r=x.useContext(P$);return Yg.createElement(Ghe,{...e,layoutGroup:r,switchLayoutGroup:x.useContext(T$),isPresent:t,safeToRemove:n})}const Yhe={borderRadius:{...Ld,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ld,borderTopRightRadius:Ld,borderBottomLeftRadius:Ld,borderBottomRightRadius:Ld,boxShadow:Khe},IF=["TopLeft","TopRight","BottomLeft","BottomRight"],Xhe=IF.length,jE=e=>typeof e=="string"?parseFloat(e):e,AE=e=>typeof e=="number"||Ht.test(e);function Qhe(e,t,n,r,i,a){i?(e.opacity=gr(0,n.opacity!==void 0?n.opacity:1,Zhe(r)),e.opacityExit=gr(t.opacity!==void 0?t.opacity:1,0,Jhe(r))):a&&(e.opacity=gr(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<Xhe;s++){const o=`border${IF[s]}Radius`;let l=PE(t,o),c=PE(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||AE(l)===AE(c)?(e[o]=Math.max(gr(jE(l),jE(c),r),0),($s.test(c)||$s.test(l))&&(e[o]+="%")):e[o]=c}(t.rotate||n.rotate)&&(e.rotate=gr(t.rotate||0,n.rotate||0,r))}function PE(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Zhe=_F(0,.5,rF),Jhe=_F(.5,.95,Dr);function _F(e,t,n){return r=>r<e?0:r>t?1:n(em(e,t,r))}function TE(e,t){e.min=t.min,e.max=t.max}function _a(e,t){TE(e.x,t.x),TE(e.y,t.y)}function EE(e,t,n,r,i){return e-=t,e=Kg(e,1/n,r),i!==void 0&&(e=Kg(e,1/i,r)),e}function epe(e,t=0,n=1,r=.5,i,a=e,s=e){if($s.test(t)&&(t=parseFloat(t),t=gr(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=gr(a.min,a.max,r);e===a&&(o-=t),e.min=EE(e.min,t,n,o,i),e.max=EE(e.max,t,n,o,i)}function DE(e,t,[n,r,i],a,s){epe(e,t[n],t[r],t[i],t.scale,a,s)}const tpe=["x","scaleX","originX"],npe=["y","scaleY","originY"];function ME(e,t,n,r){DE(e.x,t,tpe,n?n.x:void 0,r?r.x:void 0),DE(e.y,t,npe,n?n.y:void 0,r?r.y:void 0)}function OE(e){return e.translate===0&&e.scale===1}function LF(e){return OE(e.x)&&OE(e.y)}function rpe(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function $F(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function IE(e){return ja(e.x)/ja(e.y)}class ipe{constructor(){this.members=[]}add(t){xN(this.members,t),t.scheduleRender()}remove(t){if(yN(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _E(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(r=`translate3d(${i}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:c,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),d&&(r+=`rotateY(${d}deg) `)}const s=e.x.scale*t.x,o=e.y.scale*t.y;return(s!==1||o!==1)&&(r+=`scale(${s}, ${o})`),r||"none"}const ape=(e,t)=>e.depth-t.depth;class spe{constructor(){this.children=[],this.isDirty=!1}add(t){xN(this.children,t),this.isDirty=!0}remove(t){yN(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(ape),this.isDirty=!1,this.children.forEach(t)}}function ope(e,t){const n=performance.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(bo(r),e(a-t))};return sr.read(r,!0),()=>bo(r)}function lpe(e){window.MotionDebug&&window.MotionDebug.record(e)}function cpe(e){return e instanceof SVGElement&&e.tagName!=="svg"}function upe(e,t,n){const r=ia(e)?e:Gu(e);return r.start(vN("",r,t,n)),r.animation}const LE=["","X","Y","Z"],dpe={visibility:"hidden"},$E=1e3;let fpe=0;const Vl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function FF({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},o=t==null?void 0:t()){this.id=fpe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Vl.totalNodes=Vl.resolvedTargetDeltas=Vl.recalculatedProjection=0,this.nodes.forEach(ppe),this.nodes.forEach(bpe),this.nodes.forEach(wpe),this.nodes.forEach(gpe),lpe(Vl)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new spe)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new bN),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=cpe(s),this.instance=s;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=ope(h,250),fp.hasAnimatedSinceResize&&(fp.hasAnimatedSinceResize=!1,this.nodes.forEach(RE))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||jpe,{onLayoutAnimationStart:y,onLayoutAnimationComplete:v}=d.getProps(),b=!this.targetLayout||!$F(this.targetLayout,p)||m,w=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||h&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const S={...gN(g,"layout"),onPlay:y,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else h||RE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,bo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kpe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(FE);return}this.isUpdating||this.nodes.forEach(xpe),this.isUpdating=!1,this.nodes.forEach(ype),this.nodes.forEach(mpe),this.nodes.forEach(hpe),this.clearAllSnapshots();const o=performance.now();Si.delta=fl(0,1e3/60,o-Si.timestamp),Si.timestamp=o,Si.isProcessing=!0,Gx.update.process(Si),Gx.preRender.process(Si),Gx.render.process(Si),Si.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(vpe),this.sharedNodes.forEach(Spe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,sr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){sr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Or(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!LF(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;s&&(o||Ul(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),Ape(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Or();const o=s.measureViewportBox(),{scroll:l}=this.root;return l&&(Vo(o.x,l.offset.x),Vo(o.y,l.offset.y)),o}removeElementScroll(s){const o=Or();_a(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:f}=c;if(c!==this.root&&d&&f.layoutScroll){if(d.isRoot){_a(o,s);const{scroll:h}=this.root;h&&(Vo(o.x,-h.offset.x),Vo(o.y,-h.offset.y))}Vo(o.x,d.offset.x),Vo(o.y,d.offset.y)}}return o}applyTransform(s,o=!1){const l=Or();_a(l,s);for(let c=0;c<this.path.length;c++){const d=this.path[c];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&xu(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ul(d.latestValues)&&xu(l,d.latestValues)}return Ul(this.latestValues)&&xu(l,this.latestValues),l}removeTransform(s){const o=Or();_a(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ul(c.latestValues))continue;Sw(c.latestValues)&&c.updateSnapshot();const d=Or(),f=c.measurePageBox();_a(d,f),ME(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Ul(this.latestValues)&&ME(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Si.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Si.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Or(),this.relativeTargetOrigin=Or(),cf(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),_a(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Or(),this.targetWithTransforms=Or()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Phe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_a(this.target,this.layout.layoutBox),EF(this.target,this.targetDelta)):_a(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Or(),this.relativeTargetOrigin=Or(),cf(this.relativeTargetOrigin,this.target,m.target),_a(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Vl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Sw(this.parent.latestValues)||TF(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Si.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;_a(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;$he(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:p}=o;if(!p){this.projectionTransform&&(this.projectionDelta=vu(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=vu(),this.projectionDeltaWithTransform=vu());const g=this.projectionTransform;lf(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=_E(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==h||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Vl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,o=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=vu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Or(),m=l?l.source:void 0,p=this.layout?this.layout.source:void 0,g=m!==p,y=this.getStack(),v=!y||y.members.length<=1,b=!!(g&&!v&&this.options.crossfade===!0&&!this.path.some(Cpe));this.animationProgress=0;let w;this.mixTargetDelta=S=>{const C=S/1e3;BE(f.x,s.x,C),BE(f.y,s.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(cf(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Npe(this.relativeTarget,this.relativeTargetOrigin,h,C),w&&rpe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Or()),_a(w,this.relativeTarget)),g&&(this.animationValues=d,Qhe(d,c,this.latestValues,C,b,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(bo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=sr.update(()=>{fp.hasAnimatedSinceResize=!0,this.currentAnimation=upe(0,$E,{...s,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($E),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:d}=s;if(!(!o||!l||!c)){if(this!==s&&this.layout&&c&&RF(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Or();const f=ja(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=ja(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}_a(o,l),xu(o,d),lf(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new ipe),this.sharedNodes.get(s).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(o=!0),!o)return;const c={};for(let d=0;d<LE.length;d++){const f="rotate"+LE[d];l[f]&&(c[f]=l[f],s.setStaticValue(f,0))}s.render();for(const d in c)s.setStaticValue(d,c[d]);s.scheduleRender()}getProjectionStyles(s){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return dpe;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=dp(s==null?void 0:s.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=dp(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Ul(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=_E(this.projectionDeltaWithTransform,this.treeScale,h),d&&(c.transform=d(h,c.transform));const{x:m,y:p}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(o=h.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in Bg){if(h[g]===void 0)continue;const{correct:y,applyTo:v}=Bg[g],b=c.transform==="none"?h[g]:y(h[g],f);if(v){const w=v.length;for(let S=0;S<w;S++)c[v[S]]=b}else c[g]=b}return this.options.layoutId&&(c.pointerEvents=f===this?dp(s==null?void 0:s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(FE),this.root.sharedNodes.clear()}}}function mpe(e){e.updateLayout()}function hpe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:a}=e.options,s=n.source!==e.layout.source;a==="size"?Fa(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],m=ja(h);h.min=r[f].min,h.max=h.min+m}):RF(a,n.layoutBox,r)&&Fa(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],m=ja(r[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const o=vu();lf(o,r,n.layoutBox);const l=vu();s?lf(l,e.applyTransform(i,!0),n.measuredBox):lf(l,r,n.layoutBox);const c=!LF(o);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const p=Or();cf(p,n.layoutBox,h.layoutBox);const g=Or();cf(g,r,m.layoutBox),$F(p,g)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=p,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function ppe(e){Vl.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function gpe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function vpe(e){e.clearSnapshot()}function FE(e){e.clearMeasurements()}function xpe(e){e.isLayoutDirty=!1}function ype(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function RE(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function bpe(e){e.resolveTargetDelta()}function wpe(e){e.calcProjection()}function kpe(e){e.resetRotation()}function Spe(e){e.removeLeadSnapshot()}function BE(e,t,n){e.translate=gr(t.translate,0,n),e.scale=gr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function zE(e,t,n,r){e.min=gr(t.min,n.min,r),e.max=gr(t.max,n.max,r)}function Npe(e,t,n,r){zE(e.x,t.x,n.x,r),zE(e.y,t.y,n.y,r)}function Cpe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const jpe={duration:.45,ease:[.4,0,.1,1]},UE=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),VE=UE("applewebkit/")&&!UE("chrome/")?Math.round:Dr;function WE(e){e.min=VE(e.min),e.max=VE(e.max)}function Ape(e){WE(e.x),WE(e.y)}function RF(e,t,n){return e==="position"||e==="preserve-aspect"&&!ww(IE(t),IE(n),.2)}const Ppe=FF({attachResizeListener:(e,t)=>ro(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ay={current:void 0},BF=FF({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ay.current){const e=new Ppe({});e.mount(window),e.setOptions({layoutScroll:!0}),ay.current=e}return ay.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Tpe={pan:{Feature:Hhe},drag:{Feature:Whe,ProjectionNode:BF,MeasureLayout:OF}},Epe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Dpe(e){const t=Epe.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function Cw(e,t,n=1){const[r,i]=Dpe(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const s=a.trim();return kF(s)?parseFloat(s):s}else return hw(i)?Cw(i,t,n+1):i}function Mpe(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const a=i.get();if(!hw(a))return;const s=Cw(a,r);s&&i.set(s)});for(const i in t){const a=t[i];if(!hw(a))continue;const s=Cw(a,r);s&&(t[i]=s,n||(n={}),n[i]===void 0&&(n[i]=a))}return{target:t,transitionEnd:n}}const Ope=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),zF=e=>Ope.has(e),Ipe=e=>Object.keys(e).some(zF),HE=e=>e===Ec||e===Ht,qE=(e,t)=>parseFloat(e.split(", ")[t]),KE=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return qE(i[1],t);{const a=r.match(/^matrix\((.+)\)$/);return a?qE(a[1],e):0}},_pe=new Set(["x","y","z"]),Lpe=Bm.filter(e=>!_pe.has(e));function $pe(e){const t=[];return Lpe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Yu={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:KE(4,13),y:KE(5,14)};Yu.translateX=Yu.x;Yu.translateY=Yu.y;const Fpe=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),{display:s}=a,o={};s==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(c=>{o[c]=Yu[c](r,a)}),t.render();const l=t.measureViewportBox();return n.forEach(c=>{const d=t.getValue(c);d&&d.jump(o[c]),e[c]=Yu[c](l,a)}),e},Rpe=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(zF);let a=[],s=!1;const o=[];if(i.forEach(l=>{const c=e.getValue(l);if(!e.hasValue(l))return;let d=n[l],f=_d(d);const h=t[l];let m;if(Ug(h)){const p=h.length,g=h[0]===null?1:0;d=h[g],f=_d(d);for(let y=g;y<p&&h[y]!==null;y++)m?dN(_d(h[y])===m):m=_d(h[y])}else m=_d(h);if(f!==m)if(HE(f)&&HE(m)){const p=c.get();typeof p=="string"&&c.set(parseFloat(p)),typeof h=="string"?t[l]=parseFloat(h):Array.isArray(h)&&m===Ht&&(t[l]=h.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||h===0)?d===0?c.set(m.transform(d)):t[l]=f.transform(h):(s||(a=$pe(e),s=!0),o.push(l),r[l]=r[l]!==void 0?r[l]:t[l],c.jump(h))}),o.length){const l=o.indexOf("height")>=0?window.pageYOffset:null,c=Fpe(t,e,o);return a.length&&a.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),bv&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:t,transitionEnd:r}};function Bpe(e,t,n,r){return Ipe(t)?Rpe(e,t,n,r):{target:t,transitionEnd:r}}const zpe=(e,t,n,r)=>{const i=Mpe(e,t,r);return t=i.target,r=i.transitionEnd,Bpe(e,t,n,r)},jw={current:null},UF={current:!1};function Upe(){if(UF.current=!0,!!bv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>jw.current=e.matches;e.addListener(t),t()}else jw.current=!1}function Vpe(e,t,n){const{willChange:r}=t;for(const i in t){const a=t[i],s=n[i];if(ia(a))e.addValue(i,a),qg(r)&&r.add(i);else if(ia(s))e.addValue(i,Gu(a,{owner:e})),qg(r)&&r.remove(i);else if(s!==a)if(e.hasValue(i)){const o=e.getValue(i);!o.hasAnimated&&o.set(a)}else{const o=e.getStaticValue(i);e.addValue(i,Gu(o!==void 0?o:a,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const GE=new WeakMap,VF=Object.keys(Jf),Wpe=VF.length,YE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Hpe=rN.length;class qpe{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:a},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>sr.render(this.render,!1,!0);const{latestValues:o,renderState:l}=a;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=kv(n),this.isVariantNode=A$(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const h=d[f];o[f]!==void 0&&ia(h)&&(h.set(o[f],!1),qg(c)&&c.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,GE.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),UF.current||Upe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:jw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){GE.delete(this.current),this.projection&&this.projection.unmount(),bo(this.notifyUpdate),bo(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Tc.has(t),i=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&sr.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,a){let s,o;for(let l=0;l<Wpe;l++){const c=VF[l],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:m}=Jf[c];h&&(s=h),d(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),m&&(o=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||f&&pu(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:a,layoutScroll:h,layoutRoot:m})}return o}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Or()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<YE.length;r++){const i=YE[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=t["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Vpe(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Hpe;r++){const i=rN[r],a=this.props[i];(Zf(a)||a===!1)&&(n[i]=a)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Gu(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=uN(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!ia(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new bN),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class WF extends qpe{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},a){let s=che(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),s&&(s=i(s))),a){ohe(this,r,s);const o=zpe(this,r,s,n);n=o.transitionEnd,r=o.target}return{transition:t,transitionEnd:n,...r}}}function Kpe(e){return window.getComputedStyle(e)}class Gpe extends WF{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Tc.has(n)){const r=pN(n);return r&&r.default||0}else{const r=Kpe(t),i=(M$(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return DF(t,n)}build(t,n,r,i){aN(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return cN(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ia(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){F$(t,n,r,i)}}class Ype extends WF{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Tc.has(n)){const r=pN(n);return r&&r.default||0}return n=R$.has(n)?n:tN(n),t.getAttribute(n)}measureInstanceViewportBox(){return Or()}scrapeMotionValuesFromProps(t,n){return z$(t,n)}build(t,n,r,i){oN(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){B$(t,n,r,i)}mount(t){this.isSVGTag=lN(t.tagName),super.mount(t)}}const Xpe=(e,t)=>iN(e)?new Ype(t,{enableHardwareAcceleration:!1}):new Gpe(t,{enableHardwareAcceleration:!0}),Qpe={layout:{ProjectionNode:BF,MeasureLayout:OF}},Zpe={...Nhe,...Wfe,...Tpe,...Qpe},Ps=Zde((e,t)=>Dfe(e,t,Zpe,Xpe));function Jpe({isOpen:e,onClose:t,searchValue:n,searchFocused:r,searchResults:i,onSearchChange:a,onSearchFocus:s,onSearchBlur:o,onSearchEnter:l,onSearchResultMouseDown:c,renderHighlightedMatch:d,searchRef:f,tocItems:h,activeTocId:m,onTocClick:p,contentRef:g,children:y}){return e?u.jsx("div",{className:"app-modal-overlay fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-lg",onClick:v=>v.target===v.currentTarget&&t(),children:u.jsxs("div",{className:"app-modal-card proof-of-work-modal relative w-full max-w-4xl bg-[#10151b]/95 border border-white/10 rounded-xl shadow-[0_20px_60px_rgba(0,0,0,0.55)] p-6 overflow-hidden",children:[u.jsxs("div",{className:"pointer-events-none absolute inset-0 opacity-60",children:[u.jsx("div",{className:"absolute -top-24 -right-24 h-56 w-56 rounded-full bg-cyan-500/8 blur-3xl"}),u.jsx("div",{className:"absolute -bottom-24 -left-16 h-64 w-64 rounded-full bg-slate-500/10 blur-3xl"})]}),u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-cyan-300/70",children:"Proof of Work"}),u.jsx("div",{className:"text-xl font-semibold text-white mt-1",children:"Metrics Specification"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"relative",ref:f,children:[u.jsx("input",{type:"text",value:n,onChange:v=>a(v.target.value),onFocus:s,onBlur:v=>o(v.relatedTarget),onKeyDown:v=>{v.key==="Enter"&&l()},placeholder:"Search spec...",className:"proof-of-work-search w-56 rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/30"}),r&&i.length>0&&n.trim().length>=2&&u.jsx("div",{className:"proof-of-work-search-results absolute right-0 mt-2 w-80 max-h-64 overflow-y-auto rounded-lg border border-white/10 bg-[#0d1218]/95 shadow-2xl z-10",children:i.map((v,b)=>u.jsxs("button",{className:"w-full text-left px-3 py-2 text-xs text-gray-200 hover:bg-white/10 border-b border-white/5 last:border-b-0",onMouseDown:w=>{w.preventDefault(),c(v)},children:[u.jsx("div",{className:"text-[10px] uppercase tracking-wide text-gray-500 mb-1",children:v.section}),u.jsx("div",{className:"truncate",children:d(v.text,n)})]},`${v.hitId}-${b}-${v.text}`))})]}),u.jsx("button",{onClick:t,className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":"Close proof of work",children:u.jsx(Hi,{className:"w-5 h-5"})})]})]}),u.jsx("div",{className:"h-[65vh]",children:u.jsxs("div",{className:"grid grid-cols-[230px_1fr] gap-4 h-full min-h-0",children:[u.jsxs("div",{className:"proof-of-work-sidebar h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-white/5 p-3",children:[u.jsx("div",{className:"proof-of-work-toc-header text-[10px] uppercase tracking-[0.3em] text-gray-400 mb-2",children:"On This Page"}),u.jsxs("div",{className:"space-y-1",children:[h.length===0&&u.jsx("div",{className:"px-2 py-1 text-[11px] text-gray-500",children:"Loading sections"}),h.map((v,b)=>{const w=v.id===m;return u.jsxs("button",{"data-toc-active":w?"true":"false",className:`proof-of-work-toc-item ${v.level===1?"proof-of-work-toc-item--l1":v.level===2?"proof-of-work-toc-item--l2":"proof-of-work-toc-item--l3"} w-full text-left flex items-center gap-2 min-w-0 transition-colors ${w?"proof-of-work-toc-item--active !text-cyan-300 hover:!text-cyan-300":v.level===1?"text-white hover:text-white":"text-gray-400 hover:text-gray-200"}`,onClick:()=>p(v),children:[u.jsx("span",{className:`proof-of-work-toc-dot ${w?"!bg-cyan-300":""}`,"aria-hidden":"true"}),u.jsx("span",{className:"proof-of-work-toc-label text-[13px] font-medium truncate min-w-0",children:v.text})]},`${v.id}-${v.level}-${b}`)})]})]}),u.jsx("div",{className:"proof-of-work-content h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-black/30 p-4",ref:g,id:"metrics-spec-content",children:u.jsx("div",{className:"space-y-4 text-sm text-gray-200",children:y})})]})})]})}):null}const Ll="border border-white/10 rounded-2xl shadow-xl backdrop-blur-md glass-card",sy="arcbridge_web_theme_override",XE="__default__",ege=e=>{if(typeof document>"u")return null;const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=document.cookie.match(new RegExp(`(?:^|; )${t}=([^;]*)`));if(!n)return null;try{return decodeURIComponent(n[1])}catch{return n[1]}},tge=(e,t,n=365)=>{if(typeof document>"u")return;const r=Math.max(0,Math.floor(n*24*60*60));document.cookie=`${e}=${encodeURIComponent(t)}; Max-Age=${r}; Path=/; SameSite=Lax`},nge=e=>{typeof document>"u"||(document.cookie=`${e}=; Max-Age=0; Path=/; SameSite=Lax`)},QE=(e,t)=>{try{const n=new Date(e),r=new Date(t);return Number.isNaN(n.getTime())||Number.isNaN(r.getTime())?"":`${n.toLocaleString()} - ${r.toLocaleString()}`}catch{return""}},rge=e=>{const t=new Date(e);if(Number.isNaN(t.getTime()))return"Raid";const n=`${t.getMonth()+1}/${t.getDate()}/${String(t.getFullYear()).slice(-2)}`,r=t.toLocaleDateString(void 0,{weekday:"long"}),i=t.getHours();let a="Night";return i>=5&&i<12?a="Morning":i>=12&&i<17?a="Afternoon":i>=17&&i<21&&(a="Evening"),`${n} - ${r} ${a} Raid`},ZE=e=>e.toLowerCase().trim().replace(/\[(.*?)\]\(.*?\)/g,"$1").replace(/`([^`]+)`/g,"$1").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),ige=({slices:e})=>{const n=2*Math.PI*18,r=e.reduce((a,s)=>a+(s.value||0),0);let i=0;return u.jsxs("svg",{className:"report-mini-donut",width:"48",height:"48",viewBox:"0 0 48 48",children:[u.jsx("circle",{cx:"24",cy:"24",r:18,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),e.map((a,s)=>{const o=a.value||0,l=r>0?o/r*n:0,c=`${l} ${n-l}`,d=n-i;return i+=l,u.jsx("circle",{cx:"24",cy:"24",r:18,stroke:a.color,strokeWidth:"6",fill:"none",strokeLinecap:"butt",strokeDasharray:c,strokeDashoffset:d,transform:"rotate(-90 24 24)"},`${s}-${a.color}`)})]})},age=({value:e})=>{const t=typeof e=="number"?Math.min(Math.max(e,0),1):null,n=18,r=2*Math.PI*n,i=t===null?r:r-t*r;return u.jsxs("svg",{className:"report-mini-donut",width:"48",height:"48",viewBox:"0 0 48 48",children:[u.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),u.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(16,185,129,0.9)",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeDasharray:r,strokeDashoffset:i,transform:"rotate(-90 24 24)"}),u.jsx("text",{x:"24",y:"27",textAnchor:"middle",fontSize:"10",fill:"#e2e8f0",children:t===null?"--":`${Math.round(t*100)}%`})]})};function sge(){var _c;const[e,t]=x.useState(null),[n,r]=x.useState(null),[i,a]=x.useState(null),[s,o]=x.useState(null),[l,c]=x.useState(""),[d,f]=x.useState(null),[h,m]=x.useState(null),[p,g]=x.useState(!1),[y,v]=x.useState(!1),[b,w]=x.useState("classic"),[S,C]=x.useState("classic"),[N,A]=x.useState(lp.id),[E,$]=x.useState(null),[T,M]=x.useState(!1),[O,Y]=x.useState(!1),[Q,re]=x.useState(""),[ce,K]=x.useState(""),[G,L]=x.useState([]),[P,j]=x.useState(!1),[U,k]=x.useState("overview"),[_,ae]=x.useState("kdr"),[ee,V]=x.useState({overview:!0,roster:!1,offense:!1,defense:!1,other:!1}),ne=x.useRef(null),F=x.useRef(null),J=x.useRef(null),ue=x.useRef(null),ie=x.useRef(null),H=x.useRef(new Map),B=x.useRef(null),I=x.useRef(null),te=x.useMemo(()=>{let Z=window.location.pathname||"/";const he=/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host);return Z.endsWith("/index.html")&&(Z=Z.slice(0,-11)),Z.includes("/reports/")&&(Z=Z.replace(/\/reports\/[^/]+\/?$/,"")),he&&(Z=Z.replace(/^\/web\/web(?=\/|$)/,"/web")),Z.endsWith("/")||(Z=`${Z}/`),Z},[]),Pe=x.useMemo(()=>/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/"),[]),Ue=x.useMemo(()=>{const he=[te,"./","/"],we=[];return he.forEach(it=>{let Dt=it||"/";Dt!=="./"&&!Dt.endsWith("/")&&(Dt=`${Dt}/`),we.includes(Dt)||we.push(Dt)}),we},[te,Pe]),[se,Ye]=x.useState(Ue[0]||"/"),Oe=Z=>{var he;return typeof Z=="string"||typeof Z=="number"?String(Z):Array.isArray(Z)?Z.map(Oe).join(""):Z&&typeof Z=="object"&&"props"in Z?Oe((he=Z.props)==null?void 0:he.children):""},wt=Z=>{const he=ZE(Z||"section")||"section",we=H.current,it=(we.get(he)??0)+1;return we.set(he,it),it===1?he:`${he}-${it}`},qt=x.useMemo(()=>{const Z=Kx.split(`
`),he=new Map,we=[],it=Dt=>{const Wt=ZE(Dt||"section")||"section",Jt=(he.get(Wt)??0)+1;return he.set(Wt,Jt),Jt===1?Wt:`${Wt}-${Jt}`};for(const Dt of Z){const Wt=/^(#{1,3})\s+(.*)\s*$/.exec(Dt);if(!Wt)continue;const Jt=Wt[1].length,bt=Wt[2].trim();bt&&we.push({level:Jt,text:bt,id:it(bt)})}return we},[Kx]),vn=(Z,he)=>{const we=Z==="./"?"./":Z.endsWith("/")?Z:`${Z}/`,it=String(he||"").replace(/^\/+/,"");return`${we}${it}`};x.useEffect(()=>{const Z=ege(sy);if(Z)try{const he=JSON.parse(Z),we=typeof(he==null?void 0:he.themeId)=="string"?he.themeId:null;we&&Md.some(it=>it.id===we)&&$(we)}catch{}},[]),x.useEffect(()=>{const Z=E||N,he=Md.find(we=>we.id===Z)||lp;f(he)},[E,N]),x.useEffect(()=>{if(!E){w(S);return}if(E===sp){w("matte");return}if(E===op){w("kinetic");return}if(E==="CRT"){w("crt");return}w(S)},[E,S]),x.useEffect(()=>{Ye(Ue[0]||"/");let Z=!0;return(async()=>{for(const we of Ue)try{if((await fetch(vn(we,"ui-theme.json"),{cache:"no-store"})).ok){Z&&Ye(we);return}}catch{}})(),()=>{Z=!1}},[Ue]);const $n=(Z,he)=>{const we=he.trim();if(!we)return Z;const it=Z.toLowerCase(),Dt=we.toLowerCase(),Wt=it.indexOf(Dt);if(Wt===-1)return Z;const Jt=Z.slice(0,Wt),bt=Z.slice(Wt,Wt+we.length),mt=Z.slice(Wt+we.length);return u.jsxs(u.Fragment,{children:[Jt,u.jsx("mark",{className:"rounded bg-cyan-500/30 px-1 text-cyan-100",children:bt}),mt]})},ge=(Z,he)=>{const we=F.current;if(!we)return;let it=we.querySelector(`[data-search-hit="${Z}"]`);if(!it&&he){const Dt=he.trim().replace(/\s+/g," "),Wt=Array.from(we.querySelectorAll("h1, h2, h3, p, li, code"));it=Wt.find(Jt=>(Jt.textContent||"").trim().replace(/\s+/g," ")===Dt)||null,it||(it=Wt.find(Jt=>(Jt.textContent||"").toLowerCase().includes(Dt.toLowerCase()))||null)}it&&requestAnimationFrame(()=>{const Dt=we.getBoundingClientRect(),Wt=it.getBoundingClientRect(),Jt=Math.max(0,we.scrollTop+(Wt.top-Dt.top)-12);we.scrollTop=Jt,it.classList.add("ring-2","ring-cyan-400/70","bg-cyan-500/10"),ie.current&&window.clearTimeout(ie.current),ie.current=window.setTimeout(()=>{it.classList.remove("ring-2","ring-cyan-400/70","bg-cyan-500/10")},1600)})},Le=Z=>{const he=F.current,we=Z.trim().toLowerCase();if(!he||we.length<2){L([]);return}const it=Array.from(he.querySelectorAll("h1, h2, h3, p, li, code"));it.forEach(Jt=>Jt.removeAttribute("data-search-hit"));const Dt=[];let Wt=0;it.forEach((Jt,bt)=>{const mt=(Jt.textContent||"").trim();if(mt&&mt.toLowerCase().includes(we)){let pn="";for(let Xr=bt;Xr>=0;Xr-=1){const We=it[Xr];if(We&&["H1","H2","H3"].includes(We.tagName)){pn=(We.textContent||"").trim();break}}Jt.setAttribute("data-search-hit",String(Wt)),Dt.push({index:bt,text:mt,section:pn||"Unlabeled Section",hitId:Wt}),Wt+=1}}),L(Dt.slice(0,12))};x.useEffect(()=>{var he;if(!O)return;re(((he=qt[0])==null?void 0:he.id)||"");const Z=we=>{var Dt;const it=we.target;it&&((Dt=J.current)!=null&&Dt.contains(it)||(j(!1),L([])))};return window.addEventListener("mousedown",Z),()=>{window.removeEventListener("mousedown",Z)}},[O,qt]),x.useEffect(()=>{if(!O){re("");return}const Z=F.current;if(!Z)return;let he=0;const we=()=>{var dn;const Dt=Array.from(Z.querySelectorAll("[data-heading-id]"));if(Dt.length===0)return;const Jt=Z.getBoundingClientRect().top+18,bt=Dt.map((Mn,si)=>({index:si,id:Mn.dataset.headingId||Mn.id||"",top:Mn.getBoundingClientRect().top})).filter(Mn=>!!Mn.id);if(bt.length===0)return;let mt=0,pn=!1;for(const Mn of bt){if(Mn.top<=Jt){mt=Mn.index,pn=!0;continue}pn||(mt=Mn.index);break}Z.scrollTop+Z.clientHeight>=Z.scrollHeight-2&&(mt=Math.max(0,bt.length-1));const We=qt[mt],Mt=((dn=bt[mt])==null?void 0:dn.id)||"",nn=(We==null?void 0:We.id)||Mt;nn&&re(nn)};we();const it=()=>{he&&cancelAnimationFrame(he),he=requestAnimationFrame(we)};return Z.addEventListener("scroll",it,{passive:!0}),window.addEventListener("resize",it),()=>{he&&cancelAnimationFrame(he),Z.removeEventListener("scroll",it),window.removeEventListener("resize",it)}},[O,qt]);const kt=x.useMemo(()=>[{id:"overview",label:"Overview",icon:b6,sectionIds:["overview","kdr","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","timeline","map-distribution","squad-composition"],items:[{id:"kdr",label:"KDR",icon:nc},{id:"fight-breakdown",label:"Fight Breakdown",icon:Yo},{id:"top-players",label:"Top Players",icon:nc},{id:"top-skills-outgoing",label:"Top Skills",icon:w1},{id:"squad-composition",label:"Classes",icon:Ar},{id:"timeline",label:"Squad vs Enemy Size",icon:Ar},{id:"map-distribution",label:"Map Distribution",icon:C1}]},{id:"roster",label:"Roster Intel",icon:Af,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance",icon:Af},{id:"squad-comp-fight",label:"Squad Comp",icon:Ar},{id:"fight-comp",label:"Fight Comp",icon:Yo}]},{id:"offense",label:"Offensive Stats",icon:Yo,sectionIds:["offense-detailed","player-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:x4},{id:"player-breakdown",label:"Player Breakdown",icon:N1},{id:"spike-damage",label:"Spike Damage",icon:Pf},{id:"conditions-outgoing",label:"Conditions",icon:d0}]},{id:"defense",label:"Defensive Stats",icon:Lu,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","boon-output","support-detailed","healing-stats"],items:[{id:"defense-detailed",label:"Defense Detailed",icon:Lu},{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:Pf},{id:"defense-mitigation",label:"Damage Mitigation",icon:T1},{id:"boon-output",label:"Boon Output",icon:P1},{id:"support-detailed",label:"Support Detailed",icon:j1},{id:"healing-stats",label:"Healing Stats",icon:yO}]},{id:"other",label:"Other Metrics",icon:f0,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:k1},{id:"special-buffs",label:"Special Buffs",icon:Fp},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:E1},{id:"skill-usage",label:"Skill Usage",icon:S1},{id:"apm-stats",label:"APM Breakdown",icon:A1}]}],[]),Qt=x.useMemo(()=>{const Z=new Map;return kt.forEach(he=>{Z.set(he.id.toLowerCase(),he.id),(he.sectionIds||[]).forEach(we=>Z.set(String(we).toLowerCase(),he.id)),(he.items||[]).forEach(we=>Z.set(String(we.id).toLowerCase(),he.id))}),Z.set("report-top","overview"),Z.set("overview","overview"),Z.set("kdr","overview"),Z},[kt]),Vt=x.useMemo(()=>kt.find(Z=>Z.id===U)||kt[0],[kt,U]),wn=b==="kinetic",qi=x.useMemo(()=>{if(wn){const we=_==="kdr"?"overview":_;return we==="top-skills-outgoing"||we==="top-skills-incoming"?new Set(["top-skills-outgoing","top-skills-incoming"]):new Set([we])}const he=((Vt==null?void 0:Vt.sectionIds)||((Vt==null?void 0:Vt.items)||[]).map(we=>we.id)).map(we=>we==="kdr"?"overview":we);return new Set(he)},[Vt,_,wn]),vi=Z=>{if(Z==="report-top")return window.scrollTo({top:0,behavior:"smooth"}),history.replaceState&&history.replaceState(null,"","#report-top"),!0;const he=Z==="kdr"?"overview":Z,we=he==="overview"&&Z!=="kdr"?"report-top":he,it=document.getElementById(we);if(!it||!(it.getAttribute("data-section-visible")!=="false")||!it.offsetParent)return!1;const Wt=it.getBoundingClientRect();if(Wt.height<=0)return!1;let Jt=0;if(we==="stats-view-top"){const mt=document.getElementById("report-top");mt&&(Jt=mt.getBoundingClientRect().height+12)}const bt=Wt.top+window.scrollY-12-Jt;return window.scrollTo({top:Math.max(0,bt),behavior:"smooth"}),history.replaceState&&history.replaceState(null,"",`#${we}`),!0},ca=(Z,he=0)=>{vi(Z)||he>=12||window.setTimeout(()=>{requestAnimationFrame(()=>ca(Z,he+1))},40)};x.useEffect(()=>{if(!e)return;const Z=requestAnimationFrame(()=>{Array.from(document.querySelectorAll("[data-nav-submenu-content]")).forEach(we=>{we.scrollHeight})});return()=>cancelAnimationFrame(Z)},[e]),x.useEffect(()=>{const Z=B.current;if(!Z)return;let he=0;const we=()=>{if(vi(Z)){B.current=null;return}if(he+=1,he>=20){B.current=null;return}window.setTimeout(()=>requestAnimationFrame(we),40)};requestAnimationFrame(we)},[U]),x.useEffect(()=>{const Z=()=>{var Wt,Jt;const he=(window.location.hash||"").replace(/^#/,"").trim();if(!he)return;let we=he;try{we=decodeURIComponent(he)}catch{we=he}const it=we.toLowerCase(),Dt=Qt.get(it);if(Dt){if(k(Dt),V(()=>{const bt={};return kt.forEach(mt=>{bt[mt.id]=mt.id===Dt}),bt}),it==="report-top")ae("kdr");else{const bt=kt.find(mt=>mt.id.toLowerCase()===it);ae(((Jt=(Wt=bt==null?void 0:bt.items)==null?void 0:Wt[0])==null?void 0:Jt.id)||it)}B.current=it==="report-top"?"kdr":it}};return Z(),window.addEventListener("hashchange",Z),()=>{window.removeEventListener("hashchange",Z)}},[Qt,kt]);const or=b==="matte",xn=d??lp,un=wn?"90, 80, 68":xn.rgb,ii=or?"#d8e1eb":wn?"#24211d":"var(--accent)",yn={"--accent":`rgb(${un})`,"--accent-rgb":un,"--accent-soft":`rgba(${un}, ${wn?"0.18":"0.32"})`,"--accent-strong":`rgba(${un}, ${wn?"0.78":"0.95"})`,"--accent-border":`rgba(${un}, ${wn?"0.22":"0.4"})`,"--accent-glow":`rgba(${un}, ${wn?"0.08":"0.18"})`,"--accent-glow-soft":`rgba(${un}, ${wn?"0.04":"0.08"})`},ai=b==="modern"||b==="matte"||b==="kinetic",Yr=xn.pattern?or||wn?void 0:ai?`linear-gradient(180deg, rgba(14, 18, 26, 0.72), rgba(18, 24, 34, 0.78)), ${xn.pattern}`:xn.pattern:void 0,Ta=wn?{backgroundImage:"none",backgroundColor:"rgba(220, 210, 196, 0.95)",borderColor:"rgba(78, 67, 56, 0.18)"}:or?{backgroundImage:"none",backgroundColor:"var(--bg-card)"}:{backgroundImage:ai?"linear-gradient(135deg, rgba(var(--accent-rgb), 0.2), rgba(var(--accent-rgb), 0.06) 70%)":"linear-gradient(135deg, rgba(var(--accent-rgb), 0.26), rgba(var(--accent-rgb), 0.08) 70%)"};x.useEffect(()=>{var Jt;let Z=!0;const we=new URLSearchParams(window.location.search).get("report")||((Jt=window.location.pathname.match(/\/reports\/([^/]+)\/?$/))==null?void 0:Jt[1])||null,it=we?`${te}reports/${we}/report.json`:`${te}report.json`;we&&o(it);const Dt=bt=>{var Xr,We,Mt;const mt=new Set((((Xr=bt==null?void 0:bt.meta)==null?void 0:Xr.commanders)||[]).map(nn=>String(nn)));if(mt.size===0)return bt;const pn=bt.stats;return(We=pn==null?void 0:pn.leaderboards)!=null&&We.closestToTag&&(pn.leaderboards.closestToTag=pn.leaderboards.closestToTag.map(nn=>mt.has(String(nn==null?void 0:nn.account))?{...nn,value:0}:nn)),(Mt=pn==null?void 0:pn.closestToTag)!=null&&Mt.player&&mt.has(String(pn.closestToTag.player))&&(pn.closestToTag={...pn.closestToTag,value:0}),bt},Wt=bt=>{var Mt,nn,dn,Mn,si;const mt=bt==null?void 0:bt.stats;if(!mt||typeof mt!="object")return bt;const pn=Array.isArray((Mt=mt==null?void 0:mt.leaderboards)==null?void 0:Mt.downContrib)?mt.leaderboards.downContrib:[];if(!pn.length)return bt;const We=pn.map(jn=>({...jn,value:Number((jn==null?void 0:jn.value)??0)})).filter(jn=>Number.isFinite(jn.value)).sort((jn,xi)=>xi.value-jn.value||String((jn==null?void 0:jn.account)||"").localeCompare(String((xi==null?void 0:xi.account)||"")))[0];return We&&(mt.maxDownContrib={...mt.maxDownContrib||{},value:Number(We.value||0),player:String(We.account||((nn=mt.maxDownContrib)==null?void 0:nn.player)||"-"),count:Number(We.count||((dn=mt.maxDownContrib)==null?void 0:dn.count)||0),profession:String(We.profession||((Mn=mt.maxDownContrib)==null?void 0:Mn.profession)||"Unknown"),professionList:Array.isArray(We.professionList)?We.professionList:((si=mt.maxDownContrib)==null?void 0:si.professionList)||[]}),bt};return fetch(it,{cache:"no-store"}).then(bt=>bt.ok?bt.json():Promise.reject()).then(bt=>{var Xr,We,Mt,nn;if(!Z)return;const mt=Wt(Dt(bt));t(mt);const pn=(Xr=mt==null?void 0:mt.stats)==null?void 0:Xr.uiTheme;pn==="modern"||pn==="classic"||pn==="crt"||pn==="matte"||pn==="kinetic"?C(pn):((We=mt==null?void 0:mt.stats)==null?void 0:We.webThemeId)===sp?C("matte"):((Mt=mt==null?void 0:mt.stats)==null?void 0:Mt.webThemeId)===op&&C("kinetic"),typeof((nn=mt==null?void 0:mt.stats)==null?void 0:nn.webThemeId)=="string"&&mt.stats.webThemeId&&A(mt.stats.webThemeId)}).catch(()=>{if(we){if(!Z)return;a("Report not found yet. It may still be deploying.")}fetch(`${te}reports/index.json`,{cache:"no-store"}).then(bt=>bt.ok?bt.json():Promise.reject()).then(bt=>{Z&&r(Array.isArray(bt)?bt:[])}).catch(()=>{Z&&a("No report data found.")})}),()=>{Z=!1}},[te]),x.useEffect(()=>{if(e){const Z=e.meta.dateLabel||QE(e.meta.dateStart,e.meta.dateEnd);document.title=Z?`ArcBridge  ${e.meta.title}  ${Z}`:`ArcBridge  ${e.meta.title}`;return}document.title="ArcBridge Reports"},[e]),x.useEffect(()=>{var he;const Z=(he=e==null?void 0:e.stats)==null?void 0:he.webThemeId;typeof Z=="string"&&Z&&A(Z)},[e]),x.useEffect(()=>{const Z=document.body;Z.classList.add("web-report"),Z.classList.remove("theme-classic","theme-modern","theme-crt","theme-matte","theme-kinetic"),or?Z.classList.add("theme-matte"):b==="modern"?Z.classList.add("theme-modern"):b==="crt"?Z.classList.add("theme-crt"):b==="kinetic"?Z.classList.add("theme-kinetic"):Z.classList.add("theme-classic")},[b,or]),x.useEffect(()=>{var he;if(Pe&&((he=e==null?void 0:e.stats)!=null&&he.webThemeId))return;let Z=!0;return fetch(vn(se,"theme.json"),{cache:"no-store"}).then(we=>we.ok?we.json():Promise.reject()).then(we=>{Z&&typeof(we==null?void 0:we.id)=="string"&&we.id&&A(we.id)}).catch(()=>{}),()=>{Z=!1}},[se,Pe,e]),x.useEffect(()=>{var Wt,Jt;const Z=(Wt=e==null?void 0:e.stats)==null?void 0:Wt.webThemeId,he=(Jt=e==null?void 0:e.stats)==null?void 0:Jt.uiTheme;if((he==="modern"||he==="classic"||he==="crt"||he==="matte"||he==="kinetic")&&!(Z===sp&&he!=="matte"||Z===op&&he!=="kinetic"||Z==="CRT"&&he!=="crt"))return;let Dt=!0;return fetch(vn(se,"ui-theme.json"),{cache:"no-store"}).then(bt=>bt.ok?bt.json():Promise.reject()).then(bt=>{if(!Dt)return;const mt=bt==null?void 0:bt.theme;(mt==="modern"||mt==="classic"||mt==="crt"||mt==="matte"||mt==="kinetic")&&C(mt)}).catch(()=>{}),()=>{Dt=!1}},[se,e]),x.useEffect(()=>{let Z=!0;return fetch(vn(se,"logo.json"),{cache:"no-store"}).then(he=>he.ok?he.json():Promise.reject()).then(he=>{if(!Z)return;const we="svg/ArcBridge.svg",it=he!=null&&he.path?String(he.path):we,Dt=he!=null&&he.updatedAt?String(he.updatedAt):"",Wt=vn(se,it),Jt=Dt?`${Wt}?v=${encodeURIComponent(Dt)}`:Wt;m(Jt),g(!(he!=null&&he.path)||it===we)}).catch(()=>{Z&&(m(null),g(!1))}),()=>{Z=!1}},[se]);const ua=x.useMemo(()=>n?[...n].sort((Z,he)=>{const we=new Date(Z.dateEnd||Z.dateStart).getTime();return new Date(he.dateEnd||he.dateStart).getTime()-we}):[],[n]),Qa=x.useMemo(()=>{if(!ua.length)return[];const Z=l.trim().toLowerCase();return Z?ua.filter(he=>{var Dt;const we=((Dt=he.commanders)==null?void 0:Dt.join(" "))||"";return`${he.title} ${we} ${he.dateLabel}`.toLowerCase().includes(Z)}):ua},[ua,l]),Dc=Z=>{if(!Z){nge(sy);return}tge(sy,JSON.stringify({themeId:Z}))},Sl=Z=>{const he=Z===XE?null:Z;he&&!Md.some(we=>we.id===he)||($(he),Dc(he),M(!1))};x.useEffect(()=>{const Z=we=>{ue.current&&(ue.current.contains(we.target)||M(!1))},he=we=>{we.key==="Escape"&&M(!1)};return window.addEventListener("mousedown",Z),window.addEventListener("keydown",he),()=>{window.removeEventListener("mousedown",Z),window.removeEventListener("keydown",he)}},[]),x.useEffect(()=>()=>{I.current!==null&&(cancelAnimationFrame(I.current),I.current=null)},[]);const Mc=x.useMemo(()=>{if(!E)return"Default";const Z=Md.find(he=>he.id===E);return(Z==null?void 0:Z.label)||"Default"},[E]),Oc=u.jsxs("div",{className:"relative flex items-center gap-2",ref:ue,children:[u.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Theme"}),u.jsxs("button",{type:"button",onClick:()=>M(Z=>!Z),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[u.jsx("span",{className:"truncate text-left",children:Mc}),u.jsx("span",{className:`transition-transform ${T?"rotate-180":""}`,children:""})]}),T&&u.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"240px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[u.jsx("button",{type:"button",onClick:()=>Sl(XE),className:"w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] text-gray-200 hover:bg-white/10 transition-colors",children:"Default"}),Md.map(Z=>u.jsx("button",{type:"button",onClick:()=>Sl(Z.id),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${E===Z.id?"text-[color:var(--accent)]":"text-gray-200"}`,children:Z.label},Z.id))]})]}),Nl=u.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-[11px] text-gray-500",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-2",children:[u.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.35em] text-gray-400",children:"Legal Notice"}),u.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[u.jsx("div",{className:"min-w-[160px]",children:Oc}),u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"GitHub"}),u.jsx("a",{href:"https://discord.gg/UjzMXMGXEg",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Discord"}),u.jsx("a",{href:"#proof-of-work",onClick:Z=>{Z.preventDefault(),Y(!0)},className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Proof of Work"})]})]}),u.jsx("p",{children:"ArcBridge is free software by harasho: you can redistribute it and/or modify it under the terms of the GNU General Public License v3.0 only. This program comes with ABSOLUTELY NO WARRANTY."}),u.jsxs("p",{className:"mt-2",children:["Class Icons, artwork, and skill icons are created and owned by Arenanet as detailed in their"," ",u.jsx("a",{href:"https://www.arena.net/en/legal/content-terms-of-use",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"Content Terms of Use"}),". I do not own or profit from this work in any way. Assets were obtained from asset packs distributed by Arenanet. The official statement from the Content Terms of Use:"]}),u.jsx("p",{className:"mt-2",children:" ArenaNet LLC. All rights reserved. NCSOFT, ArenaNet, Guild Wars, Guild Wars 2, GW2, Heart of Thorns, Path of Fire, End of Dragons, Secrets of the Obscure, Janthir Wilds, Visions of Eternity, and all associated logos, designs, and composite marks are trademarks or registered trademarks of NCSOFT Corporation. All other trademarks are the property of their respective owners."}),u.jsxs("p",{className:"mt-2",children:["See the"," ",u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/LICENSE",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"LICENSE"})," ","and"," ",u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/THIRD_PARTY_NOTICES.md",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"THIRD_PARTY_NOTICES.md"})," ","files for full terms and upstream attributions."]})]}),Ic=u.jsxs(Jpe,{isOpen:O,onClose:()=>Y(!1),searchValue:ce,searchFocused:P,searchResults:G,onSearchChange:Z=>{K(Z),requestAnimationFrame(()=>Le(Z))},onSearchFocus:()=>{j(!0),requestAnimationFrame(()=>Le(ce))},onSearchBlur:Z=>{var he;Z&&((he=J.current)!=null&&he.contains(Z))||j(!1)},onSearchEnter:()=>{G.length>0&&ge(G[0].hitId,G[0].text)},onSearchResultMouseDown:Z=>{j(!0),ge(Z.hitId,Z.text)},renderHighlightedMatch:$n,searchRef:J,tocItems:qt,activeTocId:Q,onTocClick:Z=>{const he=F.current;if(!he)return;let we=he.querySelector(`[data-heading-id="${Z.id}"]`);if(!we){const it=Z.text.trim().replace(/\s+/g," ");we=Array.from(he.querySelectorAll("h1, h2, h3")).find(Wt=>(Wt.textContent||"").trim().replace(/\s+/g," ")===it)||null}we&&(re(Z.id),requestAnimationFrame(()=>{const it=he.getBoundingClientRect(),Dt=we.getBoundingClientRect(),Wt=he.scrollTop+(Dt.top-it.top)-12;he.scrollTop=Math.max(0,Wt)}))},contentRef:F,children:[(H.current=new Map,null),u.jsx(Pce,{remarkPlugins:[zde],components:{h1:({children:Z})=>{const he=Oe(Z),we=wt(he);return u.jsx("h1",{id:we,"data-heading-id":we,className:"text-2xl font-bold text-white scroll-mt-6",children:Z})},h2:({children:Z})=>{const he=Oe(Z),we=wt(he);return u.jsx("h2",{id:we,"data-heading-id":we,className:"text-xl font-semibold text-white scroll-mt-6",children:Z})},h3:({children:Z})=>{const he=Oe(Z),we=wt(he);return u.jsx("h3",{id:we,"data-heading-id":we,className:"text-lg font-semibold text-white scroll-mt-6",children:Z})},p:({children:Z})=>u.jsx("p",{className:"leading-6 text-gray-200",children:Z}),ul:({children:Z})=>u.jsx("ul",{className:"list-disc pl-5 space-y-1 text-gray-200",children:Z}),ol:({children:Z})=>u.jsx("ol",{className:"list-decimal pl-5 space-y-1 text-gray-200",children:Z}),li:({children:Z})=>u.jsx("li",{className:"leading-6",children:Z}),blockquote:({children:Z})=>u.jsx("blockquote",{className:"border-l-2 border-blue-400/40 pl-4 text-gray-300 italic",children:Z}),a:({href:Z,children:he})=>u.jsx("a",{className:"text-blue-300 hover:text-blue-200 underline underline-offset-2",href:Z,target:"_blank",rel:"noreferrer",children:he}),table:({children:Z})=>u.jsx("div",{className:"overflow-x-auto rounded-xl border border-white/10 bg-black/30",children:u.jsx("table",{className:"w-full border-collapse text-left text-sm",children:Z})}),th:({children:Z})=>u.jsx("th",{className:"border-b border-white/10 bg-white/5 px-3 py-2 text-xs uppercase tracking-wide text-gray-300",children:Z}),td:({children:Z})=>u.jsx("td",{className:"border-b border-white/10 px-3 py-2 text-gray-200",children:Z}),pre:({children:Z})=>u.jsx("pre",{className:"overflow-x-auto rounded-xl bg-black/40 p-4 text-xs text-blue-100",children:Z}),code:Z=>{const{inline:he,children:we}=Z;return he===!0?u.jsx("code",{className:"rounded bg-black/40 px-1.5 py-0.5 text-[11px] text-blue-200",children:we}):u.jsx("code",{className:"whitespace-pre-wrap text-blue-100",children:we})}},children:Kx})]});if(e){const Z=vn(se,"svg/ArcBridge.svg"),he=()=>{I.current!==null&&(cancelAnimationFrame(I.current),I.current=null);const We=window.scrollY||window.pageYOffset||0;if(We<=1){window.scrollTo({top:0,behavior:"auto"});return}const Mt=320,nn=performance.now(),dn=Mn=>{const si=Mn-nn,jn=Math.min(1,si/Mt),xi=1-Math.pow(1-jn,3),Cl=Math.max(0,Math.round(We*(1-xi)));window.scrollTo({top:Cl,behavior:"auto"}),jn<1?I.current=requestAnimationFrame(dn):(I.current=null,window.scrollTo({top:0,behavior:"auto"}))};I.current=requestAnimationFrame(dn)},we=We=>{V(()=>{const Mt={};return kt.forEach(nn=>{Mt[nn.id]=nn.id===We}),Mt})},it=We=>{var nn,dn;B.current=null,k(We);const Mt=kt.find(Mn=>Mn.id===We);ae(((dn=(nn=Mt==null?void 0:Mt.items)==null?void 0:nn[0])==null?void 0:dn.id)||"kdr"),he()},Dt=We=>{if(!!!ee[We]){we(We),it(We);return}if(We!==U){it(We);return}V(nn=>({...nn,[We]:!1}))},Wt=(We,Mt)=>{ee[We]||we(We),ae(Mt);const nn=We===U;nn||(B.current=Mt,k(We),requestAnimationFrame(()=>ca(Mt))),nn&&requestAnimationFrame(()=>ca(Mt))},Jt=We=>{const Mt=We.currentTarget;if(!(Mt.scrollHeight>Mt.clientHeight)){window.scrollBy({top:We.deltaY,behavior:"auto"}),We.preventDefault();return}const dn=Mt.scrollTop<=0,Mn=Mt.scrollTop+Mt.clientHeight>=Mt.scrollHeight-1;(dn&&We.deltaY<0||Mn&&We.deltaY>0)&&(window.scrollBy({top:We.deltaY,behavior:"auto"}),We.preventDefault())},bt=We=>{const Mt=ne.current;if(!Mt)return;const nn=We.target;if(!nn||!Mt.contains(nn))return;let dn=nn;for(;dn&&dn!==Mt;){const si=window.getComputedStyle(dn).overflowY;if((si==="auto"||si==="scroll")&&dn.scrollHeight>dn.clientHeight+1){const xi=dn.scrollTop<=0,Cl=dn.scrollTop+dn.clientHeight>=dn.scrollHeight-1;(We.deltaY<0&&xi||We.deltaY>0&&Cl)&&(window.scrollBy({top:We.deltaY,behavior:"auto"}),We.preventDefault());return}dn=dn.parentElement}},mt=We=>{const Mt=Math.max(0,6-We);return{accordionDuration:.5+Mt*.07,itemDuration:.34+Mt*.035,stagger:.05+Mt*.01,delayChildren:.06+Mt*.015}},pn=We=>{const Mt=mt(We);return{open:{transition:{staggerChildren:Mt.stagger,delayChildren:Mt.delayChildren}},closed:{transition:{staggerChildren:Math.max(.02,Mt.stagger*.7),staggerDirection:-1}}}},Xr={open:{opacity:1,y:0},closed:{opacity:0,y:-2}};return u.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:or?"var(--bg-base)":wn?"#d8d1c5":ai?"#0f141c":"#0f172a",backgroundImage:or?"none":Yr,...yn},children:[!or&&!wn&&u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),u.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),u.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),u.jsx("div",{className:`fixed inset-0 z-20 bg-black/40 backdrop-blur-sm transition-opacity lg:hidden ${y?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>v(!1)}),u.jsx("aside",{className:`fixed z-30 top-0 bottom-0 w-64 max-w-[80vw] transition-transform duration-300 lg:hidden ${y?"translate-x-0":"-translate-x-full"}`,children:u.jsxs("div",{className:"h-full bg-white/5 border-r border-white/10 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.45)] flex flex-col",children:[u.jsxs("div",{className:"px-5 pt-6 pb-4 flex items-center justify-between",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"Contents"}),u.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-white transition-colors","aria-label":"Close table of contents",children:""})]}),u.jsx("div",{className:"px-5 pb-4",children:u.jsxs("a",{href:"./",className:"w-full inline-flex items-center gap-3 px-4 py-2.5 rounded-xl bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[u.jsx("span",{className:"h-8 w-8 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:u.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[u.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),u.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})}),u.jsx("nav",{className:"px-3 pb-6 space-y-3 text-sm overflow-y-auto [overflow-anchor:none]",onWheel:Jt,children:kt.map(We=>{const Mt=We.icon,nn=We.id===U,dn=!!ee[We.id],Mn=mt(We.items.length),si=pn(We.items.length);return u.jsxs(Ps.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[u.jsxs("button",{onClick:()=>Dt(We.id),className:`w-full text-left flex items-center gap-3 px-3 py-2 rounded-lg border transition-colors ${nn?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(Mt,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"text-[11px] uppercase tracking-[0.22em] whitespace-nowrap",children:We.label}),u.jsx(Ps.span,{className:"ml-auto inline-flex",animate:{rotate:dn?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:u.jsx(eb,{className:"w-4 h-4 text-gray-300"})})]}),u.jsx(Ps.div,{initial:!1,animate:dn?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:Mn.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:u.jsx(Ps.div,{variants:si,initial:!1,animate:dn?"open":"closed",className:"space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:We.items.map(jn=>{const xi=jn.icon;return u.jsxs(Ps.button,{variants:Xr,transition:{duration:Mn.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>{Wt(We.id,jn.id),v(!1)},className:`w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-md text-[12px] border transition-colors transform-gpu ${_===jn.id?"text-white border-white/20 bg-white/10":"text-gray-200 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(xi,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),jn.label]},jn.id)})})},`${We.id}-submenu-mobile`)]},We.id)})})]})}),u.jsx("aside",{className:"hidden lg:flex fixed inset-y-0 left-0 w-64 border-r border-white/10 bg-white/5 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.5)] z-20",children:u.jsxs("div",{className:"flex flex-col w-full",children:[u.jsx("div",{className:"px-6 pt-6 pb-5",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"h-10 w-10 rounded-2xl border border-white/20",style:{backgroundColor:ii,maskImage:`url(${Z})`,WebkitMaskImage:`url(${Z})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"65%",WebkitMaskSize:"65%"},"aria-label":"ArcBridge logo"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"ArcBridge Reports"}),u.jsx("div",{className:"text-sm font-semibold text-white",children:"Navigation"})]})]})}),u.jsx("nav",{className:"px-4 space-y-4 text-sm flex-1 overflow-y-auto [overflow-anchor:none]",onWheel:Jt,children:kt.map(We=>{const Mt=We.icon,nn=We.id===U,dn=!!ee[We.id],Mn=mt(We.items.length),si=pn(We.items.length);return u.jsxs(Ps.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[u.jsxs("button",{onClick:()=>Dt(We.id),className:`w-full text-left flex items-center gap-3 px-3 py-2.5 rounded-xl border transition-colors ${nn?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(Mt,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"text-[11px] uppercase tracking-[0.22em] whitespace-nowrap",children:We.label}),u.jsx(Ps.span,{className:"ml-auto inline-flex",animate:{rotate:dn?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:u.jsx(eb,{className:"w-4 h-4 text-gray-300"})})]}),u.jsx(Ps.div,{initial:!1,animate:dn?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:Mn.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:u.jsx(Ps.div,{variants:si,initial:!1,animate:dn?"open":"closed",className:"space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:We.items.map(jn=>{const xi=jn.icon;return u.jsxs(Ps.button,{variants:Xr,transition:{duration:Mn.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>Wt(We.id,jn.id),className:`w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-lg text-[12px] border transition-colors transform-gpu ${_===jn.id?"text-white border-white/20 bg-white/10":"text-gray-200 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(xi,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),jn.label]},jn.id)})})},`${We.id}-submenu-desktop`)]},We.id)})}),u.jsx("div",{className:"border-t border-white/10",children:u.jsxs("a",{href:"./",className:"w-full inline-flex items-center gap-3 px-6 py-4 bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[u.jsx("span",{className:"h-9 w-9 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:u.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[u.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),u.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})})]})}),u.jsxs("div",{className:"max-w-[1600px] mx-1 sm:mx-2 lg:mx-auto px-4 pt-3 pb-5 sm:px-6 sm:pt-4 sm:pb-6 lg:pl-[17rem] lg:pr-10 mobile-bottom-pad",children:[u.jsx("div",{className:`${Ll} p-5 sm:p-6 mb-6 mx-1 sm:mx-1 lg:mx-0`,style:Ta,children:u.jsxs("div",{className:"flex flex-col gap-4 sm:gap-5 lg:flex-row lg:items-center lg:justify-between",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 text-center sm:text-left",children:[h&&(p?u.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:ii,maskImage:`url(${h})`,WebkitMaskImage:`url(${h})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):u.jsx("img",{src:h,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"report-brand-label text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge Log Report"}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-1",children:e.meta.title}),u.jsx("div",{className:"text-xs sm:text-sm text-gray-400 mt-2",children:e.meta.dateLabel||QE(e.meta.dateStart,e.meta.dateEnd)})]})]}),u.jsxs("button",{onClick:()=>v(!0),className:"hidden sm:flex lg:hidden px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-xs uppercase tracking-widest text-gray-300 hover:border-white/30 transition-colors items-center gap-2",children:[u.jsx(J2,{className:"w-4 h-4"}),"Contents"]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:flex sm:flex-wrap sm:overflow-visible pr-1 sm:pr-2",children:[u.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 inline-flex items-center gap-2 min-w-0 justify-start",children:[u.jsx(f6,{className:"w-4 h-4 text-[color:var(--accent)]"}),e.meta.dateLabel||"Log Range"]}),u.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[u.jsx(Ar,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"truncate",children:e.meta.commanders.length?e.meta.commanders.join(", "):"No Commanders"})]}),u.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[u.jsx(bO,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Report ",e.meta.appVersion?`v${e.meta.appVersion}`:"build"]})]})]})}),u.jsxs("div",{className:"sm:hidden mb-4",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400 mb-2",children:"Jump to"}),u.jsx("div",{className:"flex gap-2 overflow-x-auto pr-2 pb-1 snap-x snap-mandatory",children:((Vt==null?void 0:Vt.items)||[]).map(We=>{const Mt=We.icon;return u.jsxs("button",{onClick:()=>Wt((Vt==null?void 0:Vt.id)||"overview",We.id),className:`group flex items-center gap-2 px-3 py-2 rounded-full text-[10px] uppercase tracking-widest whitespace-nowrap border bg-gradient-to-br shadow-[0_10px_25px_rgba(0,0,0,0.35)] backdrop-blur-xl transition-all duration-200 active:translate-y-0 active:scale-[0.98] snap-start ${_===We.id?"text-white border-[color:var(--accent-border)] from-[color:var(--accent-glow)] via-white/10 to-transparent":"text-gray-200 border-white/15 from-white/10 via-white/5 to-transparent hover:-translate-y-0.5 hover:border-[color:var(--accent-border)] hover:shadow-[0_18px_35px_rgba(0,0,0,0.45)]"}`,children:[u.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white/10 border border-white/10 group-hover:border-[color:var(--accent-border)] group-hover:bg-[color:var(--accent-glow)] transition-colors",children:u.jsx(Mt,{className:"w-3 h-3 text-[color:var(--accent)]"})}),We.label]},`chip-${We.id}`)})})]}),u.jsx("div",{ref:ne,onWheelCapture:bt,className:"flex-1 min-w-0",children:u.jsx("div",{id:"stats-view-top",children:u.jsx(Wie,{logs:[],onBack:()=>{},mvpWeights:void 0,precomputedStats:e.stats,statsViewSettings:(_c=e.stats)==null?void 0:_c.statsViewSettings,embedded:!0,uiTheme:b,sectionVisibility:We=>qi.has(We),dashboardTitle:`Statistics Dashboard - ${(Vt==null?void 0:Vt.label)||"Overview"}`})})}),u.jsx("div",{className:"mt-10",children:Nl})]}),u.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-30 sm:hidden mobile-action-bar",children:u.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-2xl bg-slate-950/70 border border-white/15 backdrop-blur-xl px-3 py-2 shadow-[0_20px_50px_rgba(0,0,0,0.45)]",children:[u.jsxs("a",{href:"./",className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(vO,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Back"]}),u.jsxs("button",{onClick:()=>v(!0),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(J2,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Contents"]}),u.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(d6,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Top"]})]})}),Ic]})}return u.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:or?"var(--bg-base)":wn?"#d8d1c5":ai?"#0f141c":"#0f172a",backgroundImage:or?"none":Yr,...yn},children:[!or&&!wn&&u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),u.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),u.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),u.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 pt-4 pb-8 sm:px-6 sm:pt-5 sm:pb-10",children:[u.jsxs("div",{id:"report-list-container",className:"rounded-2xl border border-white/5 bg-black/20 p-4 sm:p-6",children:[u.jsxs("div",{id:"report-top",className:`${Ll} p-5 sm:p-6 mb-6 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between`,style:Ta,children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 min-h-[56px] text-center sm:text-left",children:[h&&(p?u.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:ii,maskImage:`url(${h})`,WebkitMaskImage:`url(${h})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):u.jsx("img",{src:h,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge"}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-2",children:"Command Reports"}),u.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Select a report to view the full stats dashboard."})]})]}),u.jsx("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3",children:u.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300",children:[Qa.length," Reports"]})})]}),u.jsxs("div",{className:`${Ll} px-4 py-3 mb-6 flex flex-col md:flex-row gap-3 md:items-center md:justify-between`,style:Ta,children:[u.jsx("input",{type:"search",value:l,onChange:Z=>c(Z.target.value),placeholder:"Search reports, commanders, or date...",className:"w-full md:flex-1 bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-sm text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]"}),u.jsxs("div",{className:"text-[11px] sm:text-xs text-gray-400",children:["Showing ",u.jsx("span",{className:"text-[color:var(--accent)]",children:Qa.length})," of"," ",u.jsx("span",{className:"text-[color:var(--accent)]",children:ua.length})]})]}),i&&u.jsxs("div",{className:"mb-6 rounded-2xl border border-amber-400/40 bg-amber-500/10 px-6 py-5 text-amber-100 shadow-xl backdrop-blur-md",style:Ta,children:[u.jsx("div",{className:"text-sm uppercase tracking-widest text-amber-200/70",children:"Warning"}),u.jsx("div",{className:"mt-2 text-base font-semibold text-white",children:i}),s&&u.jsxs("div",{className:"text-xs text-amber-100/80 mt-2",children:["Looking for: ",u.jsx("span",{className:"text-amber-50",children:s})]})]}),!i&&!n&&u.jsx("div",{className:`${Ll} p-6 text-gray-300`,style:Ta,children:"Loading reports..."}),Qa.length>0&&u.jsx("div",{className:"flex flex-col gap-3",children:Qa.map(Z=>{var he,we,it,Dt;return u.jsx("a",{href:Z.url,className:`${Ll} px-5 py-4 hover:border-[color:var(--accent-border)] transition-colors group`,style:Ta,children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4",children:[u.jsxs("div",{className:"min-w-0 block text-left",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-widest text-gray-400",children:Z.dateLabel}),u.jsx("div",{className:"text-base sm:text-lg font-semibold mt-1 truncate",children:rge(Z.dateStart)}),u.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-2",children:[u.jsx(Ar,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"truncate",children:Z.commanders.length?Z.commanders.join(", "):"No Commanders"})]})]}),u.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 sm:gap-4 sm:mt-0 mt-2 w-full sm:w-auto",children:[u.jsx("div",{className:"flex flex-col items-center gap-1 text-[10px] text-gray-400",children:(he=Z.summary)!=null&&he.mapSlices&&Z.summary.mapSlices.length>0?u.jsxs(u.Fragment,{children:[u.jsx(ige,{slices:Z.summary.mapSlices}),u.jsx("span",{className:"uppercase tracking-widest",children:"Maps"})]}):u.jsxs(u.Fragment,{children:[u.jsx(age,{value:(we=Z.summary)==null?void 0:we.borderlandsPct}),u.jsx("span",{className:"uppercase tracking-widest",children:"Borderlands"})]})}),u.jsxs("div",{className:"flex flex-col items-end gap-1",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:"Avg Squad / Enemy"}),u.jsxs("div",{className:"text-sm text-white font-semibold",children:[((it=Z.summary)==null?void 0:it.avgSquadSize)??"--"," / ",((Dt=Z.summary)==null?void 0:Dt.avgEnemySize)??"--"]})]}),u.jsx(g6,{className:"w-5 h-5 text-[color:var(--accent)] opacity-60 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity"})]})]})},Z.id)})}),!i&&n&&ua.length===0&&u.jsx("div",{className:`${Ll} p-6 text-gray-300`,style:Ta,children:"No reports uploaded yet."}),!i&&n&&ua.length>0&&Qa.length===0&&u.jsx("div",{className:`${Ll} p-6 text-gray-300`,style:Ta,children:"No reports match your search."})]}),u.jsx("div",{className:"mt-8",children:Nl})]}),Ic]})}document.documentElement.classList.add("web-report");document.body.classList.add("web-report");oy.createRoot(document.getElementById("root")).render(u.jsx(Yg.StrictMode,{children:u.jsx(sge,{})}));
